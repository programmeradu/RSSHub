import"./esm-shims-Dqvxr0BZ.js";import"./config-Dl8a1sIg.js";import"./logger-CWOoofbD.js";import"./dist-IvUHtNe1.js";import{cache_default as e}from"./cache-kimkMTWJ.js";import{parseDate as t}from"./parse-date-Bgabdhlb.js";import{ofetch_default as n}from"./ofetch-Bzt0BXUH.js";import{load as r}from"cheerio";const i={path:`/newthread`,categories:[`bbs`],example:`/chongbuluo/newthread`,features:{requireConfig:!1,requirePuppeteer:!1,antiCrawler:!1,supportBT:!1,supportPodcast:!1,supportScihub:!1},radar:[{source:[`www.chongbuluo.com/`]}],name:`最新发表`,maintainers:[`qiye45`],handler:a};async function a(){let i=`https://www.chongbuluo.com`,a=`${i}/forum.php?mod=guide&view=newthread`,o=await n(a),s=r(o),c=await Promise.all(s(`#threadlist tbody[id^="normalthread_"]`).toArray().map(async a=>{let o=s(a),c=o.find(`th.common a.xst`),l=c.text().trim(),u=c.attr(`href`)||``,d=u.startsWith(`http`)?u:`${i}/${u}`,f=o.find(`td.by cite a`).text().trim(),p=o.find(`td.by em a span`).attr(`title`)||o.find(`td.by em a`).text().trim(),m=t(p);return await e.tryGet(d,async()=>{try{let e=await n(d),t=r(e),i=t(`.t_f`).first().html()?.trim()||``;return{title:l,link:d,description:i,pubDate:m,author:f}}catch{return{title:l,link:d,description:`内容获取失败`,pubDate:m,author:f}}})}));return{title:`虫部落 - 最新发表`,link:a,description:`虫部落最新发表的帖子`,item:c}}export{i as route};
//# sourceMappingURL=chongbuluo-CI8HsBdv.js.map