{"version":3,"file":"list-ZK0T8wKC.js","names":["route: Route","utils","api"],"sources":["../../lib/routes/twitter/list.ts"],"sourcesContent":["import { Route } from '@/types';\r\nimport api from './api';\r\nimport utils from './utils';\r\n\r\nexport const route: Route = {\r\n    path: '/list/:id/:routeParams?',\r\n    categories: ['social-media'],\r\n    example: '/twitter/list/1502570462752219136',\r\n    parameters: { id: 'list id, get from url', routeParams: 'extra parameters, see the table above' },\r\n    features: {\r\n        requireConfig: [\r\n            {\r\n                name: 'TWITTER_AUTH_TOKEN',\r\n                description: 'Please see above for details.',\r\n            },\r\n            {\r\n                name: 'TWITTER_THIRD_PARTY_API',\r\n                description: 'Please see above for details.',\r\n            },\r\n        ],\r\n        requirePuppeteer: false,\r\n        antiCrawler: false,\r\n        supportBT: false,\r\n        supportPodcast: false,\r\n        supportScihub: false,\r\n    },\r\n    name: 'List timeline',\r\n    maintainers: ['DIYgod', 'xyqfer', 'pseudoyu'],\r\n    handler,\r\n    radar: [\r\n        {\r\n            source: ['x.com/i/lists/:id'],\r\n            target: '/list/:id',\r\n        },\r\n    ],\r\n};\r\n\r\nasync function handler(ctx) {\r\n    const id = ctx.req.param('id');\r\n    const { count, include_rts, only_media } = utils.parseRouteParams(ctx.req.param('routeParams'));\r\n    const params = count ? { count } : {};\r\n\r\n    await api.init();\r\n    let data = await api.getList(id, params);\r\n    if (!include_rts) {\r\n        data = utils.excludeRetweet(data);\r\n    }\r\n    if (only_media) {\r\n        data = utils.keepOnlyMedia(data);\r\n    }\r\n\r\n    return {\r\n        title: `Twitter List - ${id}`,\r\n        link: `https://x.com/i/lists/${id}`,\r\n        item: utils.ProcessFeed(ctx, {\r\n            data,\r\n        }),\r\n    };\r\n}\r\n"],"mappings":"4hBAIA,MAAaA,EAAe,CACxB,KAAM,0BACN,WAAY,CAAC,gBACb,QAAS,oCACT,WAAY,CAAE,GAAI,wBAAyB,YAAa,yCACxD,SAAU,CACN,cAAe,CACX,CACI,KAAM,qBACN,YAAa,iCAEjB,CACI,KAAM,0BACN,YAAa,kCAGrB,iBAAkB,GAClB,YAAa,GACb,UAAW,GACX,eAAgB,GAChB,cAAe,IAEnB,KAAM,gBACN,YAAa,CAAC,SAAU,SAAU,YAClC,UACA,MAAO,CACH,CACI,OAAQ,CAAC,qBACT,OAAQ,eAKpB,eAAe,EAAQ,EAAK,CACxB,IAAM,EAAK,EAAI,IAAI,MAAM,MACnB,CAAE,QAAO,cAAa,cAAeC,EAAM,iBAAiB,EAAI,IAAI,MAAM,gBAC1E,EAAS,EAAQ,CAAE,SAAU,GAEnC,MAAMC,EAAI,OACV,IAAI,EAAO,MAAMA,EAAI,QAAQ,EAAI,GAQjC,OAPK,IACD,EAAOD,EAAM,eAAe,IAE5B,IACA,EAAOA,EAAM,cAAc,IAGxB,CACH,MAAO,kBAAkB,IACzB,KAAM,yBAAyB,IAC/B,KAAMA,EAAM,YAAY,EAAK,CACzB"}