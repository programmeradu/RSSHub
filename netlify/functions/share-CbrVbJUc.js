import"./esm-shims-Dqvxr0BZ.js";import"./config-Dl8a1sIg.js";import"./logger-CWOoofbD.js";import"./dist-IvUHtNe1.js";import"./helpers-DzX-lcQO.js";import{cache_default as e}from"./cache-kimkMTWJ.js";import{parseDate as t,parseRelativeDate as n}from"./parse-date-Bgabdhlb.js";import"./ofetch-Bzt0BXUH.js";import{got_default as r}from"./got-CdvI2yKX.js";import{timezone as i}from"./timezone-BrNu6iXe.js";import{load as a}from"cheerio";const o={path:`/share/:category?`,categories:[`programming`],example:`/quicker/share/Recent`,parameters:{category:`分类，见下表，默认为动作库最新更新`},features:{requireConfig:!1,requirePuppeteer:!1,antiCrawler:!1,supportBT:!1,supportPodcast:!1,supportScihub:!1},radar:[{source:[`getquicker.net/Share/:category`,`getquicker.net/`]}],name:`动作分享`,maintainers:[`nczitzk`],handler:s,description:`| 动作库最新更新 | 动作库最多赞 | 动作库新动作 | 动作库最近赞 |
| -------------- | ------------ | ------------ | ------------ |
| Recent         | Recommended  | NewActions   | RecentLiked  |

| 子程序      | 扩展热键  | 文本指令     |
| ----------- | --------- | ------------ |
| SubPrograms | PowerKeys | TextCommands |`};async function s(o){let s=o.req.param(`category`)??`Recent`,c=`https://getquicker.net`,l=`${c}/Share/${s}`,u=await r({method:`get`,url:l}),d=a(u.data),f=d(`table tbody tr`).slice(1,o.req.query(`limit`)?Number.parseInt(o.req.query(`limit`)):25).toArray().map(e=>(e=d(e).find(`td a`).first(),{title:e.text(),link:`${c}${e.attr(`href`)}`}));return f=await Promise.all(f.map(o=>e.tryGet(o.link,async()=>{let e=await r({method:`get`,url:o.link}),s=a(e.data);s(`section`).last().remove(),s(`#app`).children().slice(0,2).remove();let c=s(`.text-secondary a`).not(`.text-secondary`).first().text()?.trim().replaceAll(/\s*/g,``)||s(`div.note-text`).find(`span`).eq(3).text();return o.author=s(`.user-link`).first().text(),o.description=s(`div[data-info="动作信息"]`).html()??s(`#app`).html()??s(`.row`).eq(1).html(),o.pubDate=i(/-/.test(c)?t(c):n(c),8),o}))),{title:d(`title`).text(),link:l,item:f,allowEmpty:!0}}export{o as route};
//# sourceMappingURL=share-CbrVbJUc.js.map