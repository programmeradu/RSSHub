import"./esm-shims-Dqvxr0BZ.js";import"./config-Dl8a1sIg.js";import{logger_default as e}from"./logger-CWOoofbD.js";import"./dist-IvUHtNe1.js";import{cache_default as t}from"./cache-kimkMTWJ.js";import{ofetch_default as n}from"./ofetch-Bzt0BXUH.js";const r={name:`FoodTalks全球食品资讯网`,url:`www.foodtalks.cn`,categories:[`new-media`],lang:`zh-CN`,description:`FoodTalks全球食品资讯网是一个提供食品饮料行业新闻、资讯、分析和商业资源的领先在线平台。它涵盖行业趋势、市场动态、产品创新、投融资信息以及企业新闻，连接行业内的专业人士、企业和消费者。`},i={path:`/`,categories:r.categories,example:`/foodtalks`,radar:[{source:[`www.foodtalks.cn`]}],name:`FoodTalks global food information network`,maintainers:[`Geraldxm`],handler:o,url:`www.foodtalks.cn`};function a(r,i){return Promise.all(r.map(r=>t.tryGet(r.link,async()=>{try{let e=await n(i.replace(`{id}`,r.id),{headers:{referrer:`https://www.foodtalks.cn/`,method:`GET`}});return r.description=e.data.content,r}catch(t){return e.error(`Error fetching full text for ${r.link}:`,t),r}})))}async function o(e){let t=e.req.query(`limit`)||15,i=`https://api-we.foodtalks.cn/news/news/page?current=1&size=${t}&isLatest=1&language=ZH`,o=await n(i,{headers:{referrer:`https://www.foodtalks.cn/`,method:`GET`}}),s=o.data.records,c=s.map(e=>({title:e.title,pubDate:new Date(e.publishTime),link:`https://www.foodtalks.cn/news/${e.id}`,category:e.parentTagCode===`category`?e.tagCode:e.parentTagCode,author:e.author===null?e.sourceName:e.author,id:e.id,image:e.coverImg})),l=await a(c,`https://api-we.foodtalks.cn/news/news/{id}?language=ZH`);return{title:r.name,description:r.description,link:`https://`+r.url,item:l,image:`https://www.foodtalks.cn/static/img/news-site-logo.7aaa5463.svg`}}export{i as route};
//# sourceMappingURL=foodtalks-BGt0h5-N.js.map