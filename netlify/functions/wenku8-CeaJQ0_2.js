import"./esm-shims-Dqvxr0BZ.js";import{config as e}from"./config-Dl8a1sIg.js";import"./logger-CWOoofbD.js";import"./dist-IvUHtNe1.js";import"./helpers-DzX-lcQO.js";import"./ofetch-Bzt0BXUH.js";import{got_default as t}from"./got-CdvI2yKX.js";import{load as n}from"cheerio";import r from"iconv-lite";const i={lastupdate:`https://www.wenku8.net/modules/article/toplist.php?sort=lastupdate`,fullflag:`https://www.wenku8.net/modules/article/articlelist.php?fullflag=1`,postdate:`https://www.wenku8.net/modules/article/toplist.php?sort=postdate`,anime:`https://www.wenku8.net/modules/article/toplist.php?sort=anime`,allvisit:`https://www.wenku8.net/modules/article/toplist.php?sort=allvisit`,articlelist:`https://www.wenku8.net/modules/article/articlelist.php`},a={lastupdate:`今日更新`,fullflag:`完结全本`,postdate:`新书一览`,anime:`动画化作品`,allvisit:`热门轻小说`,articlelist:`轻小说列表`},o={path:`/:category?`,name:`Unknown`,maintainers:[`Fatpandac`],handler:s};async function s(o){let s=o.req.param(`category`)??`lastupdate`,c=await t({method:`get`,url:i[s],responseType:`buffer`,headers:{UserAgent:e.ua,cookie:e.wenku8.cookie}}),l=r.decode(c.data,`gbk`),u=n(l),d=u(`td > div`).toArray().map(e=>({title:u(e).find(`b > a`).text(),link:u(e).find(`b > a`).attr(`href`),description:u(e).find(`img`).html()+u(e).find(`div:nth-child(2)`).remove(`b`).end().html()}));return{title:`轻小说文库 - ${a[s]}`,link:i[s],item:d}}export{o as route};
//# sourceMappingURL=wenku8-CeaJQ0_2.js.map