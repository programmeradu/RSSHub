{"version":3,"file":"sp-U9UkvmaH.js","names":["route: Route","ofetch","url"],"sources":["../../lib/routes/ieee-security/sp.ts"],"sourcesContent":["import { Route } from '@/types';\r\nimport ofetch from '@/utils/ofetch';\r\nimport { load } from 'cheerio';\r\nimport { parseDate } from '@/utils/parse-date';\r\nconst url = 'https://www.ieee-security.org/';\r\n// https://www.ieee-security.org/TC/SP2023/program-papers.html\r\n\r\nexport const route: Route = {\r\n    path: '/security-privacy',\r\n    categories: ['journal'],\r\n    example: '/ieee-security/security-privacy',\r\n    radar: [\r\n        {\r\n            source: ['ieee-security.org/TC/SP-Index.html', 'ieee-security.org/'],\r\n        },\r\n    ],\r\n    name: 'IEEE Symposium on Security and Privacy',\r\n    maintainers: ['ZeddYu'],\r\n    handler,\r\n    url: 'ieee-security.org/TC/SP-Index.html',\r\n    description: `Return results from 2020`,\r\n};\r\n\r\nasync function handler() {\r\n    const last = new Date().getFullYear() + 1;\r\n    const urlList = Array.from({ length: last - 2020 }, (_, v) => `${url}TC/SP${v + 2020}/program-papers.html`);\r\n    const responses = await Promise.allSettled(urlList.map((url) => ofetch(url)));\r\n\r\n    const items = responses.flatMap((response, i) => {\r\n        const $ = load(response.value);\r\n        return $('div.panel-body > div.list-group-item')\r\n            .toArray()\r\n            .map((item) => {\r\n                item = $(item);\r\n                const title = item.find('b').text().trim();\r\n                const link = urlList[i];\r\n                return {\r\n                    title,\r\n                    author: item.html().trim().split('<br>')[1].trim(),\r\n                    link: `${link}#${title}`,\r\n                    pubDate: parseDate(link.match(/SP(\\d{4})/)[1], 'YYYY'),\r\n                };\r\n            });\r\n    });\r\n\r\n    return {\r\n        title: 'S&P',\r\n        link: `${url}TC/SP-Index.html`,\r\n        description: 'IEEE Symposium on Security and Privacy Accepted Papers',\r\n        allowEmpty: true,\r\n        item: items,\r\n    };\r\n}\r\n"],"mappings":"+PAIA,MAAM,EAAM,iCAGCA,EAAe,CACxB,KAAM,oBACN,WAAY,CAAC,WACb,QAAS,kCACT,MAAO,CACH,CACI,OAAQ,CAAC,qCAAsC,wBAGvD,KAAM,yCACN,YAAa,CAAC,UACd,UACA,IAAK,qCACL,YAAa,4BAGjB,eAAe,GAAU,CACrB,IAAM,EAAO,IAAI,OAAO,cAAgB,EAClC,EAAU,MAAM,KAAK,CAAE,OAAQ,EAAO,OAAS,EAAG,IAAM,GAAG,EAAI,OAAO,EAAI,KAAK,uBAC/E,EAAY,MAAM,QAAQ,WAAW,EAAQ,IAAK,GAAQC,EAAOC,KAEjE,EAAQ,EAAU,SAAS,EAAU,IAAM,CAC7C,IAAM,EAAI,EAAK,EAAS,OACxB,OAAO,EAAE,wCACJ,UACA,IAAK,GAAS,CACX,EAAO,EAAE,GACT,IAAM,EAAQ,EAAK,KAAK,KAAK,OAAO,OAC9B,EAAO,EAAQ,GACrB,MAAO,CACH,QACA,OAAQ,EAAK,OAAO,OAAO,MAAM,QAAQ,GAAG,OAC5C,KAAM,GAAG,EAAK,GAAG,IACjB,QAAS,EAAU,EAAK,MAAM,aAAa,GAAI,aAK/D,MAAO,CACH,MAAO,MACP,KAAM,GAAG,EAAI,kBACb,YAAa,yDACb,WAAY,GACZ,KAAM"}