import{__dirname as e,init_esm_shims as t}from"./esm-shims-Dqvxr0BZ.js";import"./config-Dl8a1sIg.js";import"./logger-CWOoofbD.js";import"./dist-IvUHtNe1.js";import{art as n}from"./render-CxhTJIsl.js";import{ofetch_default as r}from"./ofetch-Bzt0BXUH.js";import i from"node:path";t();const a={DEFAULT_PAGE_SIZE:20,MAX_PAGE_SIZE:100},o={BASE_URL:`https://hiring.cafe/api/search-jobs`,HEADERS:{"Content-Type":`application/json`}},s=({keywords:e,page:t=0,size:n=a.DEFAULT_PAGE_SIZE})=>({keywords:e.trim(),page:Math.max(0,Math.floor(Number(t))),size:Math.min(Math.max(1,Math.floor(Number(n))),a.MAX_PAGE_SIZE)}),c=async e=>{let t={size:e.size||20,page:e.page||0,searchState:{searchQuery:e.keywords,sortBy:e.sortBy||`date`}};return await r(o.BASE_URL,{method:`POST`,body:t,headers:o.HEADERS})},l=(t,r)=>n(i.join(e,`templates/jobs-de4cc921.art`),{company_name:r.company_name,location:r.formatted_workplace_location??`Remote/Unspecified`,is_compensation_transparent:!!(r.is_compensation_transparent&&r.yearly_min_compensation&&r.yearly_max_compensation),yearly_min_compensation_formatted:r.yearly_min_compensation?.toLocaleString()??``,yearly_max_compensation_formatted:r.yearly_max_compensation?.toLocaleString()??``,workplace_type:r.workplace_type??`Not specified`,requirements_summary:r.requirements_summary??`No requirements specified`,job_description:t.description??``}),u=e=>{let{job_information:t,v5_processed_job_data:n,apply_url:r,id:i}=e;return{title:`${t.title} - ${n.company_name}`,description:l(t,n),link:r,pubDate:new Date(n.estimated_publish_date_millis).toUTCString(),category:[n.job_category,...n.role_activities,n.workplace_type].filter(e=>!!e),author:n.company_name,guid:i}};async function d(e){let t=s({keywords:e.req.param(`keywords`)}),n=await c(t),r=n.results.map(e=>u(e));return{title:`HiringCafe Jobs: ${t.keywords}`,description:`Job search results for "${t.keywords}" on HiringCafe`,link:`https://hiring.cafe/jobs?q=${encodeURIComponent(t.keywords)}`,item:r,total:n.total}}const f={path:`/jobs/:keywords`,categories:[`other`],example:`/hiring.cafe/jobs/sustainability`,parameters:{keywords:`Keywords to search for`},features:{requireConfig:!1,requirePuppeteer:!1,antiCrawler:!1,supportBT:!1,supportPodcast:!1,supportScihub:!1},radar:[{source:[`hiring.cafe`]}],name:`Jobs`,maintainers:[`mintyfrankie`],handler:d};export{f as route};
//# sourceMappingURL=jobs-BgOzDdFY.js.map