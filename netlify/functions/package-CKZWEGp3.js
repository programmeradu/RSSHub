import{__dirname as e,init_esm_shims as t}from"./esm-shims-Dqvxr0BZ.js";import"./config-Dl8a1sIg.js";import"./logger-CWOoofbD.js";import"./dist-IvUHtNe1.js";import{art as n}from"./render-CxhTJIsl.js";import{ofetch_default as r}from"./ofetch-Bzt0BXUH.js";import i from"node:path";t();const a={path:`/package/:name{(@[a-z0-9-~][a-z0-9-._~]*/)?[a-z0-9-~][a-z0-9-._~]*}`,name:`Package`,maintainers:[`Fatpandac`],categories:[`program-update`],example:`/npm/package/rsshub`,radar:[{source:[`www.npmjs.com/package/:name`]}],handler:o};async function o(t){let a=t.req.param(`name`),o=`https://api.npmjs.org/downloads/point/last-month/${a}`,s=`https://api.npmjs.org/downloads/point/last-week/${a}`,c=`https://api.npmjs.org/downloads/point/last-day/${a}`,l=`https://registry.npmjs.org/${a}`,u=await r(o),d=await r(s),f=await r(c),p=await r(l),m=p.time,h=Object.keys(m).map(e=>({version:e,time:m[e]})).toReversed();return{title:`${a} - npm`,link:`https://www.npmjs.com/package/${a}`,description:`${a} - npm`,item:[{title:`${a} - npm`,description:n(i.join(e,`templates/package-256942b3.art`),{packageDownloadCountLastMonth:u.downloads,packageDownloadCountLastWeek:d.downloads,packageDownloadCountLastDay:f.downloads,packageVersion:h}),link:`https://www.npmjs.com/package/${a}`,guid:`https://www.npmjs.com/package/${a}${m.modified}`}]}}export{a as route};
//# sourceMappingURL=package-CKZWEGp3.js.map