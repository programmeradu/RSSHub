import{__dirname as e,init_esm_shims as t}from"./esm-shims-Dqvxr0BZ.js";import"./config-Dl8a1sIg.js";import"./logger-CWOoofbD.js";import"./dist-IvUHtNe1.js";import"./helpers-DzX-lcQO.js";import{cache_default as n}from"./cache-kimkMTWJ.js";import{art as r}from"./render-CxhTJIsl.js";import{parseDate as i}from"./parse-date-Bgabdhlb.js";import"./ofetch-Bzt0BXUH.js";import{got_default as a}from"./got-CdvI2yKX.js";import o from"node:path";import{load as s}from"cheerio";t();const c=async t=>{let{category:c=``}=t.req.param(),l=t.req.query(`limit`)?Number.parseInt(t.req.query(`limit`),10):12,u=`https://lrepacks.net`,d=new URL(c,u).href,{data:f}=await a(d),p=s(f),m=p(`html`).prop(`lang`),h=p(`#main article`).slice(0,l).toArray().map(t=>{t=p(t);let n=t.find(`h3.entry-title`).text(),i=r(o.join(e,`templates/description-b958bde9.art`),{intro:t.find(`div.entry-content`).text()});return{title:n,description:i,link:t.find(`h3.entry-title a`).prop(`href`),category:t.find(`span.cat-links`).toArray().map(e=>p(e).text()),language:m}});h=await Promise.all(h.map(t=>n.tryGet(t.link,async()=>{let{data:n}=await a(t.link),c=s(n),l=JSON.parse(c(`script[type="application/ld+json"]`).first().text())[`@graph`]?.[0]??void 0;c(`div.entry-content a.highslide[href]`).each((t,n)=>{n=c(n),n.parent().replaceWith(r(o.join(e,`templates/description-b958bde9.art`),{images:[{src:n.prop(`href`),alt:n.prop(`title`)}]}))});let u=c(`h2.entry-title`).text(),d=t.description+r(o.join(e,`templates/description-b958bde9.art`),{description:c(`div.entry-content`).html()}),f=c(`meta[property="og:image"]`).prop(`content`);return t.title=u,t.description=d,t.pubDate=l?i(l.datePublished):void 0,t.author=l?.author?.name??void 0,t.content={html:d,text:c(`div.entry-content`).text()},t.image=f,t.banner=f,t.updated=l?i(l.dateModified):void 0,t.language=m,t})));let g=new URL(p(`div.logo img`).prop(`src`),u).href;return{title:p(`title`).text(),description:p(`meta[name="description"]`).prop(`content`),link:d,item:h,allowEmpty:!0,image:g,author:p(`meta[property="og:site_name"]`).prop(`content`),language:m}},l={path:`/:category?`,name:`REPACK скачать`,url:`lrepacks.net`,maintainers:[`nczitzk`],handler:c,example:`/lrepacks`,parameters:{category:`Category, Homepage by default`},description:`::: tip
  If you subscribe to [Системные программы](https://lrepacks.net/repaki-sistemnyh-programm/)，where the URL is \`https://lrepacks.net/repaki-sistemnyh-programm/\`, extract the part \`https://lrepacks.net/\` to the end, which is \`repaki-sistemnyh-programm\`, and use it as the parameter to fill in. Therefore, the route will be [\`/lrepacks/repaki-sistemnyh-programm\`](https://rsshub.app/lrepacks/repaki-sistemnyh-programm).

| Category                                                                        | ID                                                                                           |
| ------------------------------------------------------------------------------- | -------------------------------------------------------------------------------------------- |
| [Новые репаки на сегодня](https://lrepacks.net/novye-repaki-elchupacabra/)      | [novye-repaki-elchupacabra](https://rsshub.app/lrepacks/novye-repaki-elchupacabra)           |
| [Системные программы](https://lrepacks.net/repaki-sistemnyh-programm/)          | [repaki-sistemnyh-programm](https://rsshub.app/lrepacks/repaki-sistemnyh-programm)           |
| [Программы для графики](https://lrepacks.net/repaki-programm-dlya-grafiki/)     | [repaki-programm-dlya-grafiki](https://rsshub.app/lrepacks/repaki-programm-dlya-grafiki)     |
| [Программы для интернета](https://lrepacks.net/repaki-programm-dlya-interneta/) | [repaki-programm-dlya-interneta](https://rsshub.app/lrepacks/repaki-programm-dlya-interneta) |
| [Мультимедиа программы](https://lrepacks.net/repaki-multimedia-programm/)       | [repaki-multimedia-programm](https://rsshub.app/lrepacks/repaki-multimedia-programm)         |
| [Программы для офиса](https://lrepacks.net/repaki-programm-dlya-ofisa/)         | [repaki-programm-dlya-ofisa](https://rsshub.app/lrepacks/repaki-programm-dlya-ofisa)         |
| [Разные программы](https://lrepacks.net/repaki-raznyh-programm/)                | [repaki-raznyh-programm](https://rsshub.app/lrepacks/repaki-raznyh-programm)                 |
| [Системные библиотеки](https://lrepacks.net/sistemnye-biblioteki/)              | [sistemnye-biblioteki](https://rsshub.app/lrepacks/sistemnye-biblioteki)                     |
| [Важная информация](https://lrepacks.net/informaciya/)                          | [informaciya](https://rsshub.app/lrepacks/informaciya)                                       |
:::`,categories:[`program-update`],features:{requireConfig:!1,requirePuppeteer:!1,antiCrawler:!1,supportRadar:!0,supportBT:!1,supportPodcast:!1,supportScihub:!1},radar:[{source:[`lrepacks.net/:category`],target:e=>{let t=e.category;return`/lrepacks${t?`/${t}`:``}`}},{title:`Новые репаки на сегодня`,source:[`lrepacks.net/novye-repaki-elchupacabra/`],target:`/novye-repaki-elchupacabra`},{title:`Системные программы`,source:[`lrepacks.net/repaki-sistemnyh-programm/`],target:`/repaki-sistemnyh-programm`},{title:`Программы для графики`,source:[`lrepacks.net/repaki-programm-dlya-grafiki/`],target:`/repaki-programm-dlya-grafiki`},{title:`Программы для интернета`,source:[`lrepacks.net/repaki-programm-dlya-interneta/`],target:`/repaki-programm-dlya-interneta`},{title:`Мультимедиа программы`,source:[`lrepacks.net/repaki-multimedia-programm/`],target:`/repaki-multimedia-programm`},{title:`Программы для офиса`,source:[`lrepacks.net/repaki-programm-dlya-ofisa/`],target:`/repaki-programm-dlya-ofisa`},{title:`Разные программы`,source:[`lrepacks.net/repaki-raznyh-programm/`],target:`/repaki-raznyh-programm`},{title:`Системные библиотеки`,source:[`lrepacks.net/sistemnye-biblioteki/`],target:`/sistemnye-biblioteki`},{title:`Важная информация`,source:[`lrepacks.net/informaciya/`],target:`/informaciya`}]};export{c as handler,l as route};
//# sourceMappingURL=lrepacks-tk9NNWxR.js.map