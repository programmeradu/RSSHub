import"./esm-shims-Dqvxr0BZ.js";import"./config-Dl8a1sIg.js";import"./logger-CWOoofbD.js";import"./dist-IvUHtNe1.js";import"./helpers-DzX-lcQO.js";import{cache_default as e}from"./cache-kimkMTWJ.js";import{parseDate as t}from"./parse-date-Bgabdhlb.js";import"./ofetch-Bzt0BXUH.js";import{got_default as n}from"./got-CdvI2yKX.js";import{timezone as r}from"./timezone-BrNu6iXe.js";import{invalid_parameter_default as i}from"./invalid-parameter-CUJdROXf.js";import{load as a}from"cheerio";const o={tzgg:{link:`tzgg/`,title:`通知公告`},zjxx:{link:`zjxx/szfczyjs/`,title:`资金信息`},zfcg:{link:`zfcg/zfcgml`,title:`政府采购`},zdxm:{link:`zdxm`,title:`重大项目`}},s={path:`/shenzhen/xxgk/zfxxgj/:caty`,categories:[`government`],example:`/gov/shenzhen/xxgk/zfxxgj/tzgg`,parameters:{caty:`信息类别`},features:{requireConfig:!1,requirePuppeteer:!1,antiCrawler:!1,supportBT:!1,supportPodcast:!1,supportScihub:!1},name:`深圳市人民政府`,maintainers:[`laoxua`],handler:c,description:`| 通知公告 | 政府采购 | 资金信息 | 重大项目 |
| :------: | :------: | :------: | :------: |
|   tzgg   |   zfcg   |   zjxx   |   zdxm   |`};async function c(s){let c=o[s.req.param(`caty`)];if(!c)throw new i(`Bad category. See <a href="https://docs.rsshub.app/routes/government#guang-dong-sheng-ren-min-zheng-fu-guang-dong-sheng-shen-zhen-shi-ren-min-zheng-fu">docs</a>`);let l=new URL(c.link,`http://www.sz.gov.cn/cn/xxgk/zfxxgj/`).href,u=await n(l),d=a(u.data),f=d(`div.zx_ml_list ul li span.tit`).toArray().map(e=>(e=d(e).find(`a`),{title:e.text(),link:e.attr(`href`)})),p=await Promise.all(f.map(i=>e.tryGet(i.link,async()=>{let e=await n(i.link),o=a(e.data);return i.description=o(`div.news_cont_d_wrap`).html(),o(`div.fjdown`).html()!==null&&(i.description+=o(`div.fjdown`).html()),i.pubDate=r(t(o(`.tit span:nth-child(2)`).text().replace(/信息提供日期：/,``)),8),i})));return{title:`广东省深圳市人民政府 - `+c.title,link:l,item:p}}export{s as route};
//# sourceMappingURL=zfxxgj-DftJzUFT.js.map