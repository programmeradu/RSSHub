import"./esm-shims-Dqvxr0BZ.js";import"./config-Dl8a1sIg.js";import"./logger-CWOoofbD.js";import"./dist-IvUHtNe1.js";import"./helpers-DzX-lcQO.js";import{cache_default as e}from"./cache-kimkMTWJ.js";import{parseDate as t}from"./parse-date-Bgabdhlb.js";import"./ofetch-Bzt0BXUH.js";import{got_default as n}from"./got-CdvI2yKX.js";import{timezone as r}from"./timezone-BrNu6iXe.js";import{load as i}from"cheerio";const a={tuijian:`tuijian`,TMT:`TMT`,jinrong:`jinrong`,dichan:`dichan`,xiaofei:`xiaofei`,yiyao:`yiyao`,wine:`wine`,IPO:`IPO`},o={path:`/finance/:category?`,categories:[`new-media`],example:`/china/finance`,parameters:{category:`Category of news. See the form below for details, default is suggest news.`},features:{requireConfig:!1,requirePuppeteer:!1,antiCrawler:!1,supportBT:!1,supportPodcast:!1,supportScihub:!1},radar:[{source:[`finance.china.com/:category`]}],name:`Finance News 财经 - 财经新闻`,maintainers:[`KingJem`],handler:s,description:`| 推荐    | TMT | 金融    | 地产   | 消费    | 医药  | 酒业 | IPO 观察 |
| ------- | --- | ------- | ------ | ------- | ----- | ---- | -------- |
| tuijian | TMT | jinrong | dichan | xiaofei | yiyao | wine | IPO      |

  > Note: The default news num is \`30\`.

  > 注意：默认新闻条数是 \`30\`。`};async function s(o){let s=a[o.req.param(`category`)]??a.tuijian,c=`https://finance.china.com/${s}`,l=await n(c),u=l.data,d=i(u),f=d(`.list-hd strong`).text(),p=`中华网-财经-${f}新闻`,m=o.req.query(`limit`)?Number.parseInt(o.req.query(`limit`),10):30,h=d(`.item-con-inner`).toArray().map(e=>(e=d(e),{link:e.find(`.tit>a`).attr(`href`)})).filter(e=>e.link!==void 0).slice(0,m),g=await Promise.all(h.map(a=>e.tryGet(a.link,async()=>{let e=await n(a.link),o=i(e.data);return{title:o(`.article_title`).text(),link:a.link,description:o(`#js_article_content`).html(),pubDate:r(t(o(`.article_info>span.time`).text()),8),author:o(` div.article_info > span.source`).text(),category:p}})));return{title:d(`head title`).text(),link:c,category:p,item:g}}export{o as route};
//# sourceMappingURL=finance-BnIRwhNp.js.map