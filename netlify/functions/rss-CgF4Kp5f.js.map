{"version":3,"file":"rss-CgF4Kp5f.js","names":["route: Route","got"],"sources":["../../lib/routes/howtoforge/rss.ts"],"sourcesContent":["import { Route } from '@/types';\r\nimport got from '@/utils/got';\r\nimport { load } from 'cheerio';\r\n\r\nexport const route: Route = {\r\n    path: '/',\r\n    categories: ['study'],\r\n    example: '/howtoforge',\r\n    radar: [\r\n        {\r\n            source: ['howtoforge.com/'],\r\n        },\r\n    ],\r\n    name: 'Tutorials',\r\n    maintainers: ['cnkmmk'],\r\n    handler,\r\n    url: 'howtoforge.com/',\r\n};\r\n\r\nasync function handler() {\r\n    const currentUrl = 'https://www.howtoforge.com';\r\n    const response = await got(`${currentUrl}/feed.rss`);\r\n    const $ = load(response.data, { xmlMode: true });\r\n    const titleMain = $('channel > title').text();\r\n    const descriptionMain = $('channel > description').text();\r\n    const items = $('channel > item')\r\n        .toArray()\r\n        .map((item) => {\r\n            const $item = $(item);\r\n            const link = $item.find('link').text();\r\n            const title = $item.find('title').text();\r\n            const description = $item.find('description').text();\r\n            const pubDate = $item.find('pubDate').text();\r\n            return {\r\n                link,\r\n                pubDate, // no need to normalize because it's from a valid RSS feed\r\n                title,\r\n                description,\r\n            };\r\n        });\r\n\r\n    return {\r\n        title: titleMain,\r\n        description: descriptionMain,\r\n        link: currentUrl,\r\n        item: items,\r\n    };\r\n}\r\n"],"mappings":"+PAIA,MAAaA,EAAe,CACxB,KAAM,IACN,WAAY,CAAC,SACb,QAAS,cACT,MAAO,CACH,CACI,OAAQ,CAAC,qBAGjB,KAAM,YACN,YAAa,CAAC,UACd,UACA,IAAK,mBAGT,eAAe,GAAU,CACrB,IAAM,EAAa,6BACb,EAAW,MAAMC,EAAI,GAAG,EAAW,YACnC,EAAI,EAAK,EAAS,KAAM,CAAE,QAAS,KACnC,EAAY,EAAE,mBAAmB,OACjC,EAAkB,EAAE,yBAAyB,OAC7C,EAAQ,EAAE,kBACX,UACA,IAAK,GAAS,CACX,IAAM,EAAQ,EAAE,GACV,EAAO,EAAM,KAAK,QAAQ,OAC1B,EAAQ,EAAM,KAAK,SAAS,OAC5B,EAAc,EAAM,KAAK,eAAe,OACxC,EAAU,EAAM,KAAK,WAAW,OACtC,MAAO,CACH,OACA,UACA,QACA,iBAIZ,MAAO,CACH,MAAO,EACP,YAAa,EACb,KAAM,EACN,KAAM"}