{"version":3,"file":"price-BlLDJuzY.js","names":["route: Route","got"],"sources":["../../lib/routes/qiyoujiage/price.ts"],"sourcesContent":["import { Route } from '@/types';\r\nimport got from '@/utils/got';\r\nimport { load } from 'cheerio';\r\nimport md5 from '@/utils/md5';\r\n\r\nexport const route: Route = {\r\n    path: '/:path{.+}',\r\n    name: 'Unknown',\r\n    maintainers: [],\r\n    handler,\r\n};\r\n\r\nasync function handler(ctx) {\r\n    const path = ctx.req.param('path');\r\n    const link = `http://www.qiyoujiage.com/${path}.shtml`;\r\n\r\n    const { data: response } = await got(link);\r\n    const $ = load(response);\r\n\r\n    const priceText = $('#youjia').text();\r\n    const item = [\r\n        {\r\n            title: priceText,\r\n            description: $('#youjia').html(),\r\n            link,\r\n            guid: `${link}#${md5(priceText)}`,\r\n        },\r\n    ];\r\n\r\n    return {\r\n        title: $('title').text(),\r\n        description: $('meta[name=\"Description\"]').attr('content'),\r\n        link,\r\n        item,\r\n    };\r\n}\r\n"],"mappings":"uSAKA,MAAaA,EAAe,CACxB,KAAM,aACN,KAAM,UACN,YAAa,GACb,WAGJ,eAAe,EAAQ,EAAK,CACxB,IAAM,EAAO,EAAI,IAAI,MAAM,QACrB,EAAO,6BAA6B,EAAK,QAEzC,CAAE,KAAM,GAAa,MAAMC,EAAI,GAC/B,EAAI,EAAK,GAET,EAAY,EAAE,WAAW,OACzB,EAAO,CACT,CACI,MAAO,EACP,YAAa,EAAE,WAAW,OAC1B,OACA,KAAM,GAAG,EAAK,GAAG,EAAI,OAI7B,MAAO,CACH,MAAO,EAAE,SAAS,OAClB,YAAa,EAAE,4BAA4B,KAAK,WAChD,OACA"}