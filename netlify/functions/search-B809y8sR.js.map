{"version":3,"file":"search-B809y8sR.js","names":["route: Route"],"sources":["../../lib/routes/voronoiapp/search.ts"],"sourcesContent":["import type { Data, Route } from '@/types';\r\nimport { CommonDataProperties, CommonRouteProperties, getPostItems } from './common';\r\n\r\nexport const route: Route = {\r\n    ...CommonRouteProperties,\r\n    name: 'Search Keyword Posts',\r\n    path: '/search/:keyword',\r\n    radar: [\r\n        {\r\n            source: ['www.voronoiapp.com/explore'],\r\n            // 新版本中貌似不再支持 function 形式的 target\r\n            target: (_, url) => {\r\n                const parsedURL = new URL(url);\r\n                const keyword = parsedURL.searchParams.get('search');\r\n                return `/voronoiapp/search/${keyword}`;\r\n            },\r\n        },\r\n    ],\r\n    example: '/voronoiapp/search/china',\r\n    parameters: {\r\n        keyword: 'The keyword to search for',\r\n    },\r\n    handler: async (ctx) => {\r\n        const { keyword } = ctx.req.param();\r\n        const items = await getPostItems({ search: keyword });\r\n        return {\r\n            ...CommonDataProperties,\r\n            title: `Voronoi Posts for \"${keyword}\"`,\r\n            link: `https://www.voronoiapp.com/explore?search=${encodeURIComponent(keyword)}`,\r\n            item: items,\r\n        } as Data;\r\n    },\r\n};\r\n"],"mappings":"wTAGA,MAAaA,EAAe,CACxB,GAAG,EACH,KAAM,uBACN,KAAM,mBACN,MAAO,CACH,CACI,OAAQ,CAAC,8BAET,QAAS,EAAG,IAAQ,CAChB,IAAM,EAAY,IAAI,IAAI,GACpB,EAAU,EAAU,aAAa,IAAI,UAC3C,MAAO,sBAAsB,OAIzC,QAAS,2BACT,WAAY,CACR,QAAS,6BAEb,QAAS,KAAO,IAAQ,CACpB,GAAM,CAAE,WAAY,EAAI,IAAI,QACtB,EAAQ,MAAM,EAAa,CAAE,OAAQ,IAC3C,MAAO,CACH,GAAG,EACH,MAAO,sBAAsB,EAAQ,GACrC,KAAM,6CAA6C,mBAAmB,KACtE,KAAM"}