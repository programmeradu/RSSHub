import"./esm-shims-Dqvxr0BZ.js";import"./config-Dl8a1sIg.js";import"./logger-CWOoofbD.js";import"./dist-IvUHtNe1.js";import{cache_default as e}from"./cache-kimkMTWJ.js";import{parseDate as t}from"./parse-date-Bgabdhlb.js";import{getSubPath as n}from"./common-utils-CvkwbCD5.js";import{ofetch_default as r}from"./ofetch-Bzt0BXUH.js";import{timezone as i}from"./timezone-BrNu6iXe.js";const a={"/project":{title:`项目介绍`,list:`/front/index/project/page`,detail:`/front/index/project`,link:`/#/communityDetail?id=`},"/announcement":{title:`通知公告`,list:`/front/announcement/page`,detail:`/front/announcement/`,link:`/#/announcementList/detail?id=`}},o={path:`/beijing/bphc/*`,name:`Unknown`,maintainers:[],handler:s};async function s(o){let s=`https://gycpt.bphc.com.cn`,c=n(o).replaceAll(/(^\/beijing\/bphc|\/$)/g,``),l=c===``?`announcement`:c.endsWith(`/`)?c.slice(0,-1):c,u=a[l],d=`${s}${u.list}`,f=await r(d),p=f.data?.records??[],m=await Promise.all(p.map(n=>{let a=`${s}${u.detail}/${n.id}`;return e.tryGet(a,async()=>{let e=await r(a),o=(e.data?.content||e.data?.introduction)??``,c={title:n.title||n.fullName,author:o.match(/来源：(.*?)</)?.[1].trim()??n.operator,link:`${s}${u.link}${n.id}`,description:o,pubDate:i(t(n.createTime),8)};return c})}));return{title:u.title,link:s,item:m}}export{o as route};
//# sourceMappingURL=bphc-lo8EBNfJ.js.map