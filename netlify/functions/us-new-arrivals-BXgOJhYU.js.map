{"version":3,"file":"us-new-arrivals-BXgOJhYU.js","names":[],"sources":["../../lib/routes/snowpeak/us-new-arrivals.ts"],"sourcesContent":["import { Route } from '@/types';\r\n\r\nimport got from '@/utils/got';\r\nimport { art } from '@/utils/render';\r\nimport path from 'node:path';\r\nimport { load } from 'cheerio';\r\nconst host = 'https://www.snowpeak.com';\r\nexport const route: Route = {\r\n    path: '/us/new-arrivals',\r\n    categories: ['shopping'],\r\n    example: '/snowpeak/us/new-arrivals',\r\n    parameters: {},\r\n    features: {\r\n        requireConfig: false,\r\n        requirePuppeteer: false,\r\n        antiCrawler: false,\r\n        supportBT: false,\r\n        supportPodcast: false,\r\n        supportScihub: false,\r\n    },\r\n    radar: [\r\n        {\r\n            source: ['snowpeak.com/collections/new-arrivals', 'snowpeak.com/'],\r\n        },\r\n    ],\r\n    name: 'New Arrivals(USA)',\r\n    maintainers: ['EthanWng97'],\r\n    handler,\r\n    url: 'snowpeak.com/collections/new-arrivals',\r\n};\r\n\r\nasync function handler() {\r\n    const url = `${host}/collections/new-arrivals`;\r\n    const response = await got({\r\n        method: 'get',\r\n        url,\r\n    });\r\n    const data = response.data;\r\n\r\n    const $ = load(data);\r\n    const list = $('.element.product-tile')\r\n        .toArray()\r\n        .map((element) => {\r\n            const data = {};\r\n            const product = $(element).find('.product-data').data('product');\r\n            data.title = product.title;\r\n            data.link = `${host}/products/${product.handle}`;\r\n            data.pubDate = new Date(product.published_at).toUTCString();\r\n            data.category = product.tags;\r\n            data.variants = product.variants.map((item) => item.name);\r\n            data.description =\r\n                product.description +\r\n                art(path.join(__dirname, 'templates/new-arrivals.art'), {\r\n                    product,\r\n                });\r\n\r\n            return data;\r\n        });\r\n    return {\r\n        title: 'Snow Peak - New Arrivals',\r\n        link: `${host}/new-arrivals`,\r\n        description: 'Snow Peak - New Arrivals',\r\n        item: list.map((item) => ({\r\n            title: item.title,\r\n            category: item.category,\r\n            description: item.description,\r\n            pubDate: item.pubDate,\r\n            link: item.link,\r\n        })),\r\n    };\r\n}\r\n"],"mappings":"+WAMA,MAAM,EAAO,2BACA,EAAe,CACxB,KAAM,mBACN,WAAY,CAAC,YACb,QAAS,4BACT,WAAY,GACZ,SAAU,CACN,cAAe,GACf,iBAAkB,GAClB,YAAa,GACb,UAAW,GACX,eAAgB,GAChB,cAAe,IAEnB,MAAO,CACH,CACI,OAAQ,CAAC,wCAAyC,mBAG1D,KAAM,oBACN,YAAa,CAAC,cACd,UACA,IAAK,yCAGT,eAAe,GAAU,CACrB,IAAM,EAAM,GAAG,EAAK,2BACd,EAAW,MAAM,EAAI,CACvB,OAAQ,MACR,QAEE,EAAO,EAAS,KAEhB,EAAI,EAAK,GACT,EAAO,EAAE,yBACV,UACA,IAAK,GAAY,CACd,IAAM,EAAO,GACP,EAAU,EAAE,GAAS,KAAK,iBAAiB,KAAK,WAYtD,MAXA,GAAK,MAAQ,EAAQ,MACrB,EAAK,KAAO,GAAG,EAAK,YAAY,EAAQ,SACxC,EAAK,QAAU,IAAI,KAAK,EAAQ,cAAc,cAC9C,EAAK,SAAW,EAAQ,KACxB,EAAK,SAAW,EAAQ,SAAS,IAAK,GAAS,EAAK,MACpD,EAAK,YACD,EAAQ,YACR,EAAI,EAAA,KAAA,EAAA,uCAAoD,CACpD,YAGD,IAEf,MAAO,CACH,MAAO,2BACP,KAAM,GAAG,EAAK,eACd,YAAa,2BACb,KAAM,EAAK,IAAK,IAAU,CACtB,MAAO,EAAK,MACZ,SAAU,EAAK,SACf,YAAa,EAAK,YAClB,QAAS,EAAK,QACd,KAAM,EAAK"}