import{__dirname as e,init_esm_shims as t}from"./esm-shims-Dqvxr0BZ.js";import{cache_default as n}from"./cache-kimkMTWJ.js";import{art as r}from"./render-CxhTJIsl.js";import{ofetch_default as i}from"./ofetch-Bzt0BXUH.js";import a from"node:path";import{load as o}from"cheerio";t();const s=(e=`zh_CN`)=>`X-UA=${encodeURIComponent(`V=1&PN=WebApp&VN=0.1.0&LANG=${e}&PLT=PC`)}`,c=(e=!1)=>e?`https://www.taptap.io`:`https://www.taptap.cn`,l=(e,t=`zh_CN`,r=!1)=>n.tryGet(`taptap:appDetail:${e}:${t}:${r}`,async()=>{let n=await i(`${c(r)}/webapiv2/group/v1/detail?app_id=${e}&${s(t)}`,{headers:{Referer:`${c(r)}/app/${e}`}});return n.data}),u=t=>r(a.join(e,`templates/imagePost-fdbc3628.art`),{images:t}),d=async(e,t,n=`zh_CN`)=>{let r=await i(`${c(!1)}/webapiv2/topic/v1/detail?id=${t}&${s(n)}`,{headers:{Referer:`${c(!1)}/app/${e}`}}),a=o(r.data.first_post.contents.text,null,!1);return a(`img`).each((e,t)=>{let n=a(t);n.attr(`src`,n.attr(`data-origin-url`)),n.removeAttr(`data-origin-url`)}),a.html()},f=t=>r(a.join(e,`templates/videoPost-03438f3c.art`),{previewUrl:t.thumbnail.original_url||t.thumbnail.url});export{s as X_UA,l as appDetail,c as getRootUrl,u as imagePost,d as topicPost,f as videoPost};
//# sourceMappingURL=utils-DGqNB3hk.js.map