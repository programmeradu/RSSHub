import{__dirname as e,init_esm_shims as t}from"./esm-shims-Dqvxr0BZ.js";import"./config-Dl8a1sIg.js";import"./logger-CWOoofbD.js";import"./dist-IvUHtNe1.js";import"./helpers-DzX-lcQO.js";import{cache_default as n}from"./cache-kimkMTWJ.js";import{art as r}from"./render-CxhTJIsl.js";import{parseDate as i}from"./parse-date-Bgabdhlb.js";import"./ofetch-Bzt0BXUH.js";import{got_default as a}from"./got-CdvI2yKX.js";import o from"node:path";import{load as s}from"cheerio";t();const c=async t=>{let{category:c=``}=t.req.param(),l=t.req.query(`limit`)?Number.parseInt(t.req.query(`limit`),10):18,u=`423down.com`,d=`https://www.${u}`,f=new URL(c,d).href,{data:p}=await a(f),m=s(p),h=m(`html`).prop(`lang`),g=m(`ul.excerpt li`).toArray().filter(e=>{e=m(e);let t=e.find(`h2 a`).prop(`href`);return new RegExp(u).test(t)}).slice(0,l).map(t=>{t=m(t);let n=t.find(`h2`).text(),a=t.find(`a.pic img`).prop(`src`),s=r(o.join(e,`templates/description-b958bde9.art`),{images:a?[{src:a,alt:n}]:void 0,intro:t.find(`div.note`).text()});return{title:n,description:s,pubDate:i(t.find(`span.time`).text(),`MM-DD`),link:t.find(`h2 a`).prop(`href`),category:t.find(`span.cat a`).toArray().map(e=>m(e).text()),content:{html:s,text:t.find(`div.note`).text()},image:a,banner:a,language:h,enclosure_url:a,enclosure_type:a?`image/${a.split(/\./).pop()}`:void 0,enclosure_title:n}});g=await Promise.all(g.map(t=>n.tryGet(t.link,async()=>{let{data:n}=await a(t.link),c=s(n),l=c(`h1.meta-tit a`).text(),u=t.description+r(o.join(e,`templates/description-b958bde9.art`),{description:c(`div.entry`).html()});return t.title=l,t.description=u,t.pubDate=i(c(`p.meta-info`).contents().first().text().trim().split(/\s/)[0],`YYYY-MM-DD`),t.category=c(`p.meta-info a[rel="category tag"]`).toArray().map(e=>c(e).text()),t.content={html:u,text:c(`div.entry`).text()},t.language=h,t})));let _=m(`title`).first().text(),v=new URL(`wp-content/themes/D7/img/423Down.png`,d).href;return{title:_,description:m(`title`).last().text(),link:f,item:g,allowEmpty:!0,image:v,author:_.split(/-/).pop()?.trim(),language:h}},l={path:`/:category{.+}?`,name:`423Down`,url:`423down.com`,maintainers:[`nczitzk`],handler:c,example:`/423down`,parameters:{category:`分类，默认为首页，可在对应分类页 URL 中找到`},description:`::: tip
  若订阅 [Android - 423Down](https://www.423down.com/apk)，网址为 \`https://www.423down.com/apk\`。截取 \`https://www.423down.com/\` 到末尾的部分 \`apk\` 作为参数填入，此时路由为 [\`/423down/apk\`](https://rsshub.app/423down/apk)。
:::

#### [安卓软件](https://www.423down.com/apk)

| [安卓软件](https://www.423down.com/apk) |
| --------------------------------------- |
| [apk](https://rsshub.app/423down/apk)   |

#### 电脑软件

| [原创软件](https://www.423down.com/zd423) | [媒体播放](https://www.423down.com/multimedia)      | [网页浏览](https://www.423down.com/browser)   | [图形图像](https://www.423down.com/image) | [聊天软件](https://www.423down.com/im) |
| ----------------------------------------- | --------------------------------------------------- | --------------------------------------------- | ----------------------------------------- | -------------------------------------- |
| [zd423](https://rsshub.app/423down/zd423) | [multimedia](https://rsshub.app/423down/multimedia) | [browser](https://rsshub.app/423down/browser) | [image](https://rsshub.app/423down/image) | [im](https://rsshub.app/423down/im)    |

| [办公软件](https://www.423down.com/work) | [上传下载](https://www.423down.com/down) | [实用软件](https://www.423down.com/softtool)    | [系统辅助](https://www.423down.com/systemsoft)      | [系统必备](https://www.423down.com/systemplus)      |
| ---------------------------------------- | ---------------------------------------- | ----------------------------------------------- | --------------------------------------------------- | --------------------------------------------------- |
| [work](https://rsshub.app/423down/work)  | [down](https://rsshub.app/423down/down)  | [softtool](https://rsshub.app/423down/softtool) | [systemsoft](https://rsshub.app/423down/systemsoft) | [systemplus](https://rsshub.app/423down/systemplus) |

| [安全软件](https://www.423down.com/security)    | [补丁相关](https://www.423down.com/patch) | [硬件相关](https://www.423down.com/hardware)    |
| ----------------------------------------------- | ----------------------------------------- | ----------------------------------------------- |
| [security](https://rsshub.app/423down/security) | [patch](https://rsshub.app/423down/patch) | [hardware](https://rsshub.app/423down/hardware) |

#### 操作系统

| [Windows 11](https://www.423down.com/win11) | [Windows 10](https://www.423down.com/win10) | [Windows 7](https://www.423down.com/win7) | [Windows XP](https://www.423down.com/win7/winxp)    | [WinPE](https://www.423down.com/pe-system)        |
| ------------------------------------------- | ------------------------------------------- | ----------------------------------------- | --------------------------------------------------- | ------------------------------------------------- |
| [win11](https://rsshub.app/423down/win11)   | [win10](https://rsshub.app/423down/win10)   | [win7](https://rsshub.app/423down/win7)   | [win7/winxp](https://rsshub.app/423down/win7/winxp) | [pe-system](https://rsshub.app/423down/pe-system) |
  `,categories:[`program-update`],features:{requireConfig:!1,requirePuppeteer:!1,antiCrawler:!1,supportRadar:!0,supportBT:!1,supportPodcast:!1,supportScihub:!1},radar:[{source:[`423down.com/:category`,`423down.com`],target:e=>{let t=e.category;return`/423down${t?`/${t}`:``}`}},{title:`首页`,source:[`www.423down.com`],target:`/`},{title:`安卓软件`,source:[`www.423down.com/apk`],target:`/apk`},{title:`电脑软件 - 原创软件`,source:[`www.423down.com/zd423`],target:`/zd423`},{title:`电脑软件 - 媒体播放`,source:[`www.423down.com/multimedia`],target:`/multimedia`},{title:`电脑软件 - 网页浏览`,source:[`www.423down.com/browser`],target:`/browser`},{title:`电脑软件 - 图形图像`,source:[`www.423down.com/image`],target:`/image`},{title:`电脑软件 - 聊天软件`,source:[`www.423down.com/im`],target:`/im`},{title:`电脑软件 - 办公软件`,source:[`www.423down.com/work`],target:`/work`},{title:`电脑软件 - 上传下载`,source:[`www.423down.com/down`],target:`/down`},{title:`电脑软件 - 实用软件`,source:[`www.423down.com/softtool`],target:`/softtool`},{title:`电脑软件 - 系统辅助`,source:[`www.423down.com/systemsoft`],target:`/systemsoft`},{title:`电脑软件 - 系统必备`,source:[`www.423down.com/systemplus`],target:`/systemplus`},{title:`电脑软件 - 安全软件`,source:[`www.423down.com/security`],target:`/security`},{title:`电脑软件 - 补丁相关`,source:[`www.423down.com/patch`],target:`/patch`},{title:`电脑软件 - 硬件相关`,source:[`www.423down.com/hardware`],target:`/hardware`},{title:`操作系统 - Windows 11`,source:[`www.423down.com/win11`],target:`/win11`},{title:`操作系统 - Windows 10`,source:[`www.423down.com/win10`],target:`/win10`},{title:`操作系统 - Windows 7`,source:[`www.423down.com/win7`],target:`/win7`},{title:`操作系统 - Windows XP`,source:[`www.423down.com/win7/winxp`],target:`/win7/winxp`},{title:`操作系统 - WinPE`,source:[`www.423down.com/pe-system`],target:`/pe-system`}]};export{c as handler,l as route};
//# sourceMappingURL=423down-BuNXvKGC.js.map