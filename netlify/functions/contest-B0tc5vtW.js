import{__dirname as e,init_esm_shims as t}from"./esm-shims-Dqvxr0BZ.js";import"./config-Dl8a1sIg.js";import"./logger-CWOoofbD.js";import"./dist-IvUHtNe1.js";import"./helpers-DzX-lcQO.js";import{art as n}from"./render-CxhTJIsl.js";import"./ofetch-Bzt0BXUH.js";import{got_default as r}from"./got-CdvI2yKX.js";import i from"node:path";import{load as a}from"cheerio";t();const o={path:`/acm/contest/:category?`,categories:[`university`],example:`/ecnu/acm/contest/public`,parameters:{category:"category is optional, default is all, use `public` for public only contests"},features:{requireConfig:!1,requirePuppeteer:!1,antiCrawler:!1,supportBT:!1,supportPodcast:!1,supportScihub:!1},radar:[{source:[`acm.ecnu.edu.cn/contest/`,`acm.ecnu.edu.cn/`],target:`/acm/contest/`}],name:`ACM Online-Judge contests list`,maintainers:[`a180285`],handler:s,url:`acm.ecnu.edu.cn/contest/`};async function s(t){let o=t.req.param(`category`)??``,s=o===`public`,c=`https://acm.ecnu.edu.cn`,l=`${c}/contest/`,u=await r(l),d=a(u.data),f=d(`div > div > table > tbody > tr`),p=f.filter((e,t)=>!s||d(t).find(`i`).attr(`class`).includes(`green`)).toArray().map(t=>{let r=d(t).find(`td`),a=r.eq(0).text(),o=r.eq(1).text(),s=r.eq(2).text(),l=c+r.find(`a`).eq(0).attr(`href`);return{title:a,description:n(i.join(e,`templates/description-9f365e78.art`),{title:a,startTime:o,duration:s}),link:l}});return{title:`ECNU ACM ${s?`公开`:``}比赛`,link:l,item:p}}export{o as route};
//# sourceMappingURL=contest-B0tc5vtW.js.map