import{__dirname as e,init_esm_shims as t}from"./esm-shims-Dqvxr0BZ.js";import"./config-Dl8a1sIg.js";import"./logger-CWOoofbD.js";import"./dist-IvUHtNe1.js";import"./helpers-DzX-lcQO.js";import{art as n}from"./render-CxhTJIsl.js";import"./ofetch-Bzt0BXUH.js";import{got_default as r}from"./got-CdvI2yKX.js";import i from"node:path";import{load as a}from"cheerio";import{CookieJar as o}from"tough-cookie";t();const s=new o,c={path:`/:journal`,categories:[`journal`],example:`/mdpi/analytica`,parameters:{journal:`Journal Name, get it from the journal homepage`},features:{requireConfig:!1,requirePuppeteer:!1,antiCrawler:!1,supportBT:!1,supportPodcast:!1,supportScihub:!1},radar:[{source:[`www.mdpi.com/journal/:journal`]}],name:`Journal`,maintainers:[`Derekmini`],handler:l};async function l(t){let o=t.req.param(`journal`),c=`https://www.mdpi.com`,l=`${c}/journal/${o}`,u=await r(l,{cookieJar:s}),d=a(u.data),f=d(`.journal__description`).find(`h1`).text(),p=`${c}${d(`.side-menu-ul`).find(`a`).eq(1).attr(`href`)}`,m=await r(p,{cookieJar:s}),h=a(m.data),g=h(`.content__container`).find(`h1`).text().trim(),_=h(`.article-item`).toArray().map(e=>{let t=h(e).find(`.title-link`).text(),n=`${c}${h(e).find(`.title-link`).attr(`href`)}`,r=h(e).find(`.authors`).find(`.inlineblock`).text(),i=h(e).find(`.color-grey-dark`).find(`a`).attr(`href`),a=``;i!==void 0&&(a=i.replace(`https://doi.org/`,``)),h(e).find(`.abstract-full`).find(`a`).remove();let o=h(e).find(`.abstract-full`).text().trim(),s=`${c}${h(e).find(`.openpopupgallery`).find(`img`).attr(`data-src`)}`;return{title:t,authors:r,link:n,doi:a,abstract:o,issue:g,img:s}}),v=t=>n(i.join(e,`templates/description-8d743775.art`),{item:t}),y=_.map(e=>(e.description=v(e),e));return{title:f,link:l,item:y}}export{c as route};
//# sourceMappingURL=journal-rpsnjjS3.js.map