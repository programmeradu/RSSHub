import{__dirname as e,init_esm_shims as t}from"./esm-shims-Dqvxr0BZ.js";import{config as n}from"./config-Dl8a1sIg.js";import"./logger-CWOoofbD.js";import"./dist-IvUHtNe1.js";import"./helpers-DzX-lcQO.js";import{cache_default as r}from"./cache-kimkMTWJ.js";import{art as i}from"./render-CxhTJIsl.js";import"./ofetch-Bzt0BXUH.js";import{got_default as a}from"./got-CdvI2yKX.js";import{ViewType as o}from"./types-A5bA50Mg.js";import s from"node:path";t();const c={path:`/search/:q/:order?`,categories:[`picture`],view:o.Pictures,example:`/pixabay/search/cat`,parameters:{q:`Search term`,order:{description:`Order`,options:[{value:`popular`,label:`popular`},{value:`latest`,label:`latest`}],default:`latest`}},features:{requireConfig:[{name:`PIXABAY_KEY`,optional:!0,description:``}],requirePuppeteer:!1,antiCrawler:!1,supportBT:!1,supportPodcast:!1,supportScihub:!1},radar:[{source:[`pixabay.com/:searchType/search/:q`],target:`/search/:q`}],name:`Search`,maintainers:[`TonyRL`],handler:l};async function l(t){let{q:o,order:c=`latest`}=t.req.param(),l=n.pixabay?.key??`7329690-bbadad6d872ba577d5a358679`,u=`https://pixabay.com`,d=await r.tryGet(`pixabay:search:${o}:${c}`,async()=>{let{data:e}=await a(`${u}/api/`,{searchParams:{key:l,q:o,order:c,per_page:t.req.query(`limit`)??200}});return e},Math.max(n.cache.contentExpire,1440*60),!1),f=d.hits.map(t=>{let{pageURL:n,tags:r,user:a}=t;return{title:n.substring(n.lastIndexOf(`/`,n.lastIndexOf(`/`)-1)+1,n.lastIndexOf(`/`)).replace(/(-\d+)$/,``).replaceAll(`-`,` `),description:i(s.join(e,`templates/img-1b2f1f3d.art`),{item:t}),link:n,category:r.split(`, `),author:a}});return{title:`Search ${o} - Pixabay`,description:`Download & use free nature stock photos in high resolution ✓ New free images everyday ✓ HD to 4K ✓ Best nature pictures for all devices on Pixabay`,link:`${u}/images/search/${o}/${c===`latest`?`?order=latest`:``}`,image:`https://pixabay.com/apple-touch-icon.png`,language:`en`,item:f}}export{c as route};
//# sourceMappingURL=search-CRC8AdBa.js.map