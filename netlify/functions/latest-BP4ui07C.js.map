{"version":3,"file":"latest-BP4ui07C.js","names":["route: Route","got"],"sources":["../../lib/routes/xiaomiyoupin/utils.ts","../../lib/routes/xiaomiyoupin/latest.ts"],"sourcesContent":["import { art } from '@/utils/render';\r\nimport path from 'node:path';\r\n\r\nconst parseModule = (floors, module_key) => floors.find((floor) => floor.module_key === module_key);\r\n\r\nconst parseFloorItem = (floor) =>\r\n    floor.data.items.map((item) => {\r\n        const i = item.item;\r\n        return {\r\n            title: i.name,\r\n            link: i.jump_url,\r\n            guid: `xiaomiyoupin:${i.gid}`,\r\n            description: art(path.join(__dirname, 'templates/goods.art'), i),\r\n            pubDate: (i.start || i.start_time) * 1000,\r\n        };\r\n    });\r\n\r\nexport { parseModule, parseFloorItem };\r\n","import { Route } from '@/types';\r\nimport got from '@/utils/got';\r\nimport { parseModule, parseFloorItem } from './utils';\r\n\r\nexport const route: Route = {\r\n    path: '/latest',\r\n    categories: ['shopping'],\r\n    example: '/xiaomiyoupin/latest',\r\n    parameters: {},\r\n    features: {\r\n        requireConfig: false,\r\n        requirePuppeteer: false,\r\n        antiCrawler: false,\r\n        supportBT: false,\r\n        supportPodcast: false,\r\n        supportScihub: false,\r\n    },\r\n    radar: [\r\n        {\r\n            source: ['xiaomiyoupin.com/'],\r\n        },\r\n    ],\r\n    name: '小米有品每日上新',\r\n    maintainers: ['xyqfer', 'DIYgod', 'bigfei'],\r\n    handler,\r\n    url: 'xiaomiyoupin.com/',\r\n};\r\n\r\nasync function handler() {\r\n    const response = await got('https://m.xiaomiyoupin.com/homepage/main/v1005');\r\n    const floors = parseModule(response.data.data.homepage.floors, 'product_hot');\r\n    const items = parseFloorItem(floors);\r\n\r\n    return {\r\n        title: '小米有品每日上新',\r\n        link: 'https://m.xiaomiyoupin.com/w/newproduct?pageid=1605',\r\n        description: '小米有品每日上新',\r\n        item: items,\r\n    };\r\n}\r\n"],"mappings":"gVAGA,MAAM,GAAe,EAAQ,IAAe,EAAO,KAAM,GAAU,EAAM,aAAe,GAElF,EAAkB,GACpB,EAAM,KAAK,MAAM,IAAK,GAAS,CAC3B,IAAM,EAAI,EAAK,KACf,MAAO,CACH,MAAO,EAAE,KACT,KAAM,EAAE,SACR,KAAM,gBAAgB,EAAE,MACxB,YAAa,EAAI,EAAA,KAAA,EAAA,gCAA6C,GAC9D,SAAU,EAAE,OAAS,EAAE,YAAc,OCTpCA,EAAe,CACxB,KAAM,UACN,WAAY,CAAC,YACb,QAAS,uBACT,WAAY,GACZ,SAAU,CACN,cAAe,GACf,iBAAkB,GAClB,YAAa,GACb,UAAW,GACX,eAAgB,GAChB,cAAe,IAEnB,MAAO,CACH,CACI,OAAQ,CAAC,uBAGjB,KAAM,WACN,YAAa,CAAC,SAAU,SAAU,UAClC,UACA,IAAK,qBAGT,eAAe,GAAU,CACrB,IAAM,EAAW,MAAMC,EAAI,kDACrB,EAAS,EAAY,EAAS,KAAK,KAAK,SAAS,OAAQ,eACzD,EAAQ,EAAe,GAE7B,MAAO,CACH,MAAO,WACP,KAAM,sDACN,YAAa,WACb,KAAM"}