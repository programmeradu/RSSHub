{"version":3,"file":"bnext-CxhRf0BL.js","names":["route: Route","parser"],"sources":["../../lib/routes/bnext/index.ts"],"sourcesContent":["import { Route } from '@/types';\r\nimport parser from '@/utils/rss-parser';\r\nimport type { Item } from 'rss-parser';\r\n\r\nconst FEED_URL = 'https://rss.bnextmedia.com.tw/feed/bnext';\r\n\r\nexport const route: Route = {\r\n    path: '/',\r\n    categories: ['traditional-media'],\r\n    example: '/bnext',\r\n    parameters: {},\r\n    features: {\r\n        requireConfig: false,\r\n        requirePuppeteer: false,\r\n        antiCrawler: false,\r\n        supportBT: false,\r\n        supportPodcast: false,\r\n        supportScihub: false,\r\n    },\r\n    radar: [\r\n        {\r\n            source: ['www.bnext.com.tw'],\r\n            target: '/bnext',\r\n        },\r\n    ],\r\n    name: '最新文章',\r\n    maintainers: ['johan456789'],\r\n    handler,\r\n    url: 'www.bnext.com.tw',\r\n};\r\n\r\nasync function handler() {\r\n    const feed = await parser.parseURL(FEED_URL);\r\n    const items = (feed.items as Item[]).map((item) => {\r\n        const enclosure = item.enclosure;\r\n        const enclosure_url = enclosure?.url;\r\n        const enclosure_type = enclosure?.type;\r\n        const enclosure_length = enclosure?.length ? Number(enclosure.length) : undefined;\r\n\r\n        return {\r\n            title: item.title ?? item.link ?? 'Untitled',\r\n            link: item.link,\r\n            description: item.content ?? item.summary ?? item.contentSnippet,\r\n            pubDate: item.isoDate ?? item.pubDate,\r\n            enclosure_url,\r\n            enclosure_type,\r\n            enclosure_length,\r\n        };\r\n    });\r\n\r\n    return {\r\n        title: feed.title ?? '數位時代 BusinessNext',\r\n        link: feed.link ?? 'https://www.bnext.com.tw',\r\n        description: feed.description ?? '',\r\n        item: items,\r\n        allowEmpty: true, // the official feed clears all items every day at 00:00 UTC+8\r\n    };\r\n}\r\n"],"mappings":"2FAIA,MAEaA,EAAe,CACxB,KAAM,IACN,WAAY,CAAC,qBACb,QAAS,SACT,WAAY,GACZ,SAAU,CACN,cAAe,GACf,iBAAkB,GAClB,YAAa,GACb,UAAW,GACX,eAAgB,GAChB,cAAe,IAEnB,MAAO,CACH,CACI,OAAQ,CAAC,oBACT,OAAQ,WAGhB,KAAM,OACN,YAAa,CAAC,eACd,UACA,IAAK,oBAGT,eAAe,GAAU,CACrB,IAAM,EAAO,MAAMC,EAAO,SAAS,4CAC7B,EAAS,EAAK,MAAiB,IAAK,GAAS,CAC/C,IAAM,EAAY,EAAK,UACjB,EAAgB,GAAW,IAC3B,EAAiB,GAAW,KAC5B,EAAmB,GAAW,OAAS,OAAO,EAAU,QAAU,IAAA,GAExE,MAAO,CACH,MAAO,EAAK,OAAS,EAAK,MAAQ,WAClC,KAAM,EAAK,KACX,YAAa,EAAK,SAAW,EAAK,SAAW,EAAK,eAClD,QAAS,EAAK,SAAW,EAAK,QAC9B,gBACA,iBACA,sBAIR,MAAO,CACH,MAAO,EAAK,OAAS,oBACrB,KAAM,EAAK,MAAQ,2BACnB,YAAa,EAAK,aAAe,GACjC,KAAM,EACN,WAAY"}