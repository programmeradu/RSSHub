{"version":3,"file":"topic-CgvZUbyP.js","names":["route: Route","got"],"sources":["../../lib/routes/qoo-app/notes/topic.ts"],"sourcesContent":["import { Route } from '@/types';\r\nimport got from '@/utils/got';\r\nimport { load } from 'cheerio';\r\nimport { notesUrl, extractNotes } from '../utils';\r\n\r\nexport const route: Route = {\r\n    path: '/notes/:lang?/topic/:topic',\r\n    name: 'Unknown',\r\n    maintainers: ['TonyRL'],\r\n    handler,\r\n};\r\n\r\nasync function handler(ctx) {\r\n    const { topic, lang } = ctx.req.param();\r\n    const link = `${notesUrl}${lang ? `/${lang}` : ''}/topic/${topic}`;\r\n\r\n    const { data: response } = await got(link);\r\n    const $ = load(response);\r\n\r\n    const items = extractNotes($);\r\n\r\n    return {\r\n        title: $('head title').text(),\r\n        link,\r\n        language: $('html').attr('lang'),\r\n        item: items,\r\n    };\r\n}\r\n"],"mappings":"gYAKA,MAAaA,EAAe,CACxB,KAAM,6BACN,KAAM,UACN,YAAa,CAAC,UACd,WAGJ,eAAe,EAAQ,EAAK,CACxB,GAAM,CAAE,QAAO,QAAS,EAAI,IAAI,QAC1B,EAAO,GAAG,IAAW,EAAO,IAAI,IAAS,GAAG,SAAS,IAErD,CAAE,KAAM,GAAa,MAAMC,EAAI,GAC/B,EAAI,EAAK,GAET,EAAQ,EAAa,GAE3B,MAAO,CACH,MAAO,EAAE,cAAc,OACvB,OACA,SAAU,EAAE,QAAQ,KAAK,QACzB,KAAM"}