import"./esm-shims-Dqvxr0BZ.js";import"./config-Dl8a1sIg.js";import"./logger-CWOoofbD.js";import"./dist-IvUHtNe1.js";import"./helpers-DzX-lcQO.js";import{cache_default as e}from"./cache-kimkMTWJ.js";import{parseDate as t}from"./parse-date-Bgabdhlb.js";import"./ofetch-Bzt0BXUH.js";import{got_default as n}from"./got-CdvI2yKX.js";import{timezone as r}from"./timezone-BrNu6iXe.js";import{load as i}from"cheerio";async function a(e){let t=await n.get(e),r=t.data,a=i(r),o=(a(`#con_c`).length?a(`#con_c`).html():``)+(a(`#con_fujian`).length?a(`#con_fujian`).html():``);return{description:o}}const o=(e,n,o)=>Promise.all(n.map(n=>{let s=i(n),c=s(`a`),l=new URL(c.attr(`href`),e).href,u=r(t(s(`.datetime`).text().match(/\d{4}-\d{2}-\d{2}/)),8);return o.tryGet(l,async()=>{let{description:e}=await a(l);return{title:c.text(),link:l,author:`北林教务处`,description:e,pubDate:u}})}));var s={ProcessFeed:o};const c={path:`/jwc/:type`,categories:[`university`],example:`/bjfu/jwc/jwkx`,parameters:{type:`通知类别`},features:{requireConfig:!1,requirePuppeteer:!1,antiCrawler:!1,supportBT:!1,supportPodcast:!1,supportScihub:!1},radar:[{source:[`jwc.bjfu.edu.cn/:type/index.html`]}],name:`教务处通知公告`,maintainers:[`markmingjie`],handler:l,description:`| 教务快讯 | 考试信息 | 课程信息 | 教改动态 | 图片新闻 |
| -------- | -------- | -------- | -------- | -------- |
| jwkx     | ksxx     | kcxx     | jgdt     | tpxw     |`};async function l(t){let r=t.req.param(`type`),a,o;switch(r){case`jgdt`:a=`教改动态`,o=`jgdt/`;break;case`ksxx`:a=`考试信息`,o=`ksxx/`;break;case`kcxx`:a=`课程信息`,o=`tkxx/`;break;case`tpxw`:a=`图片新闻`,o=`tpxw/`;break;case`jwkx`:default:a=`教务快讯`,o=`jwkx/`}let c=`http://jwc.bjfu.edu.cn/`+o,l=await n({method:`get`,url:c}),u=l.data,d=i(u),f=d(`.list_c li`).slice(0,15).toArray(),p=await s.ProcessFeed(c,f,e);return{title:`北林教务处 - `+a,link:`http://jwc.bjfu.edu.cn/`+o,description:`北京林业大学教务处 - `+a,item:p}}export{c as route};
//# sourceMappingURL=jwc-EqvpMebJ.js.map