import"./esm-shims-Dqvxr0BZ.js";import{config as e}from"./config-Dl8a1sIg.js";import"./logger-CWOoofbD.js";import"./dist-IvUHtNe1.js";import"./helpers-DzX-lcQO.js";import{cache_default as t}from"./cache-kimkMTWJ.js";import"./ofetch-Bzt0BXUH.js";import{got_default as n}from"./got-CdvI2yKX.js";import r from"dayjs";import i from"dayjs/plugin/isSameOrBefore.js";import{load as a}from"cheerio";r.extend(i);const o={path:`/chatgpt/release-notes`,categories:[`program-update`],example:`/openai/chatgpt/release-notes`,parameters:{},features:{requireConfig:!1,requirePuppeteer:!1,antiCrawler:!1,supportBT:!1,supportPodcast:!1,supportScihub:!1},name:`ChatGPT - Release Notes`,maintainers:[],handler:s};async function s(){let i=`https://help.openai.com/en/articles/6825453-chatgpt-release-notes`,o=await t.tryGet(i,async()=>{let e=[],t=await n({method:`get`,url:i}),o=a(t.data),s=JSON.parse(o(`script#__NEXT_DATA__`).text()),c=s.props.pageProps.articleContent.title,l=s.props.pageProps.articleContent.description,u=s.props.pageProps.articleContent.author,d=u.name,f=s.props.pageProps.articleContent.blocks,p=r(),m=null,h={},g=p.year(),_=-1;for(let t of f){let n=(t.text||``).trim();if(!n)continue;if(t.type===`subheading`){m!==null&&(h.description=h.description.trim().replaceAll(`
`,`<br/>`),e.push(h),h={}),m=n,h.title=m,h.author=d,h.category=`ChatGPT`,h.link=i+`#`+t.idAttribute,h.guid=i+`#`+t.idAttribute,h.description=``;let a=m.match(/\((\w+\s+\d{1,2})\)$/);if(a!==null){let e=1+`Jan,Feb,Mar,Apr,May,Jun,Jul,Aug,Sep,Oct,Nov,Dec`.split(`,`).indexOf(a[1].slice(0,3));_!==-1&&_<e&&g--,_=e;let t=r(`${a[1]}, ${g}`,[`MMMM D, YYYY`,`MMM D, YYYY`],`en`,!0);h.pubDate=r(t.toISOString().replace(/\.\d{3}Z$/,`-08:00`));let n=t.format(`YYYY_MM_DD`);h.guid=i+`#`+n}}else h.description+=t.text.trim()+`

`}return m!==null&&(h.description=h.description.trim().replaceAll(`
`,`<br/>`),e.push(h)),{feedTitle:c,feedDesc:l,items:e}},e.cache.routeExpire,!1);return{title:o.feedTitle,description:o.feedDesc,link:i,item:o.items}}export{o as route};
//# sourceMappingURL=chatgpt-D7MOEqQz.js.map