{"version":3,"file":"chongdiantou-BJKcbEsH.js","names":["namespace: Namespace","route: Route","ofetch","cache","response"],"sources":["../../lib/routes/chongdiantou/namespace.ts","../../lib/routes/chongdiantou/index.ts"],"sourcesContent":["import type { Namespace } from '@/types';\r\n\r\nexport const namespace: Namespace = {\r\n    name: '充电头网',\r\n    url: 'www.chongdiantou.com',\r\n    categories: ['new-media'],\r\n    lang: 'zh-CN',\r\n    description: '充电头网是国内最早进行消费类电源技术及其周边配件（快充、充电头、充电器、无线充、车充、车载充电器、数据线、充电线材、移动电源及电芯、USB插排）评测、拆解的专业机构。',\r\n};\r\n","import { Route } from '@/types';\r\nimport { namespace } from './namespace';\r\nimport { load } from 'cheerio';\r\nimport ofetch from '@/utils/ofetch';\r\nimport cache from '@/utils/cache';\r\n\r\nexport const route: Route = {\r\n    path: '/',\r\n    categories: namespace.categories,\r\n    example: '/chongdiantou',\r\n    radar: [\r\n        {\r\n            source: ['www.chongdiantou.com'],\r\n        },\r\n    ],\r\n    name: '最新资讯',\r\n    maintainers: ['Geraldxm'],\r\n    handler,\r\n    url: 'www.chongdiantou.com',\r\n};\r\n\r\nasync function handler() {\r\n    const response = await ofetch('https://www.chongdiantou.com/nice-json/front-end/home-load-more');\r\n    let items = [];\r\n\r\n    items = response.data.map((item) => ({\r\n        title: item.title,\r\n        link: item.link,\r\n        image: item.cover,\r\n        pubDate: new Date(item.time),\r\n        category: item.cat.name,\r\n    }));\r\n\r\n    items = await Promise.all(\r\n        items.map(\r\n            async (item) =>\r\n                await cache.tryGet(item.link, async () => {\r\n                    try {\r\n                        const response = await ofetch(item.link);\r\n                        const $ = load(response);\r\n                        item.description = $('.post-content').html() || 'No content found';\r\n                    } catch {\r\n                        item.description = 'Failed to fetch content';\r\n                    }\r\n                    return item;\r\n                })\r\n        )\r\n    );\r\n\r\n    return {\r\n        title: '充电头网 - 最新资讯',\r\n        description: '充电头网新闻资讯',\r\n        link: 'https://www.chongdiantou.com',\r\n        image: 'https://static.chongdiantou.com/wp-content/uploads/2021/02/2021021806172389.png',\r\n        item: items,\r\n    };\r\n}\r\n"],"mappings":"8PAEA,MAAaA,EAAuB,CAChC,KAAM,OACN,IAAK,uBACL,WAAY,CAAC,aACb,KAAM,QACN,YAAa,uFCDJC,EAAe,CACxB,KAAM,IACN,WAAY,EAAU,WACtB,QAAS,gBACT,MAAO,CACH,CACI,OAAQ,CAAC,0BAGjB,KAAM,OACN,YAAa,CAAC,YACd,UACA,IAAK,wBAGT,eAAe,GAAU,CACrB,IAAM,EAAW,MAAMC,EAAO,mEAC1B,EAAQ,GA0BZ,MAxBA,GAAQ,EAAS,KAAK,IAAK,IAAU,CACjC,MAAO,EAAK,MACZ,KAAM,EAAK,KACX,MAAO,EAAK,MACZ,QAAS,IAAI,KAAK,EAAK,MACvB,SAAU,EAAK,IAAI,QAGvB,EAAQ,MAAM,QAAQ,IAClB,EAAM,IACF,KAAO,IACH,MAAMC,EAAM,OAAO,EAAK,KAAM,SAAY,CACtC,GAAI,CACA,IAAMC,EAAW,MAAMF,EAAO,EAAK,MAC7B,EAAI,EAAKE,GACf,EAAK,YAAc,EAAE,iBAAiB,QAAU,wBAC5C,CACJ,EAAK,YAAc,0BAEvB,OAAO,MAKhB,CACH,MAAO,cACP,YAAa,WACb,KAAM,+BACN,MAAO,kFACP,KAAM"}