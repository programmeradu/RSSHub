{"version":3,"file":"popular-iJaVb73w.js","names":["route: Route"],"sources":["../../lib/routes/voronoiapp/popular.ts"],"sourcesContent":["import type { Data, Route } from '@/types';\r\nimport { CategoryParam, CommonDataProperties, CommonRouteProperties, getPostItems, TabMap, TabParam, TimeRangeParam } from './common';\r\n\r\nexport const route: Route = {\r\n    ...CommonRouteProperties,\r\n    name: 'Popular Posts',\r\n    path: '/popular/:tab?/:time_range?/:category?',\r\n    radar: [\r\n        {\r\n            title: 'Most Liked Posts',\r\n            source: ['www.voronoiapp.com/posts/most-popular'],\r\n            target: '/popular/most-popular',\r\n        },\r\n        {\r\n            title: 'Most Discussed Posts',\r\n            source: ['www.voronoiapp.com/posts/most-discussed'],\r\n            target: '/popular/most-discussed',\r\n        },\r\n        {\r\n            title: 'Most Viewed Posts',\r\n            source: ['www.voronoiapp.com/posts/most-viewed'],\r\n            target: '/popular/most-viewed',\r\n        },\r\n    ],\r\n    parameters: {\r\n        tab: TabParam,\r\n        time_range: TimeRangeParam,\r\n        category: CategoryParam,\r\n    },\r\n    example: '/voronoiapp/popular/most-popular/MONTH',\r\n    handler: async (ctx) => {\r\n        const { tab = 'most-popular', time_range = 'MONTH', category = '' } = ctx.req.param();\r\n        if (!TabMap[tab.toLowerCase()]) {\r\n            throw new Error(`Invalid tab: ${tab}`);\r\n        }\r\n        const items = await getPostItems({\r\n            swimlane: 'POPULAR',\r\n            tab: TabMap[tab.toLowerCase()],\r\n            time_range: time_range === '' ? undefined : time_range.toUpperCase(),\r\n            category: category === '' ? undefined : category,\r\n        });\r\n        return {\r\n            ...CommonDataProperties,\r\n            title: `Voronoi ${TabParam.options.find((option) => option.value === tab.toLowerCase())?.label} Posts in ${TimeRangeParam.options.find((option) => option.value === time_range.toUpperCase())?.label}${category ? ` - ${category}` : ''}`,\r\n            link: `https://www.voronoiapp.com/posts/${tab}`,\r\n            item: items,\r\n        } as Data;\r\n    },\r\n};\r\n"],"mappings":"yXAGA,MAAaA,EAAe,CACxB,GAAG,EACH,KAAM,gBACN,KAAM,yCACN,MAAO,CACH,CACI,MAAO,mBACP,OAAQ,CAAC,yCACT,OAAQ,yBAEZ,CACI,MAAO,uBACP,OAAQ,CAAC,2CACT,OAAQ,2BAEZ,CACI,MAAO,oBACP,OAAQ,CAAC,wCACT,OAAQ,yBAGhB,WAAY,CACR,IAAK,EACL,WAAY,EACZ,SAAU,GAEd,QAAS,yCACT,QAAS,KAAO,IAAQ,CACpB,GAAM,CAAE,MAAM,eAAgB,aAAa,QAAS,WAAW,IAAO,EAAI,IAAI,QAC9E,GAAI,CAAC,EAAO,EAAI,eACZ,MAAU,MAAM,gBAAgB,KAEpC,IAAM,EAAQ,MAAM,EAAa,CAC7B,SAAU,UACV,IAAK,EAAO,EAAI,eAChB,WAAY,IAAe,GAAK,IAAA,GAAY,EAAW,cACvD,SAAU,IAAa,GAAK,IAAA,GAAY,IAE5C,MAAO,CACH,GAAG,EACH,MAAO,WAAW,EAAS,QAAQ,KAAM,GAAW,EAAO,QAAU,EAAI,gBAAgB,MAAM,YAAY,EAAe,QAAQ,KAAM,GAAW,EAAO,QAAU,EAAW,gBAAgB,QAAQ,EAAW,MAAM,IAAa,KACrO,KAAM,oCAAoC,IAC1C,KAAM"}