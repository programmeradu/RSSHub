import"./esm-shims-Dqvxr0BZ.js";import"./config-Dl8a1sIg.js";import"./logger-CWOoofbD.js";import"./dist-IvUHtNe1.js";import{cache_default as e}from"./cache-kimkMTWJ.js";import{parseDate as t}from"./parse-date-Bgabdhlb.js";import{ofetch_default as n}from"./ofetch-Bzt0BXUH.js";import{ViewType as r}from"./types-A5bA50Mg.js";import{load as i}from"cheerio";const a=async r=>{let{category:a=`daily-news`}=r.req.param(),o=Number.parseInt(r.req.query(`limit`)??`30`,10),s=`https://www.expats.cz`,c=new URL(`czech-news/${a}`,s).href,l=await n(c),u=i(l),d=u(`html`).attr(`lang`)??`en`,f=[];return f=u(`div.main h3 a`).slice(0,o).toArray().map(e=>{let t=u(e),n={title:t.text(),link:new URL(t.attr(`href`),s).href,language:d};return n}),f=await Promise.all(f.map(r=>r.link?e.tryGet(r.link,async()=>{let e=await n(r.link),a=i(e);a(`div.promo-widget, div.eas`).remove();let o=a(`div.title h1`).text(),c=a(`div#expats-article-content`).html()??void 0,l=a(`meta[property="article:published_time"]`).attr(`content`),u=[a(`meta[property="article:section"]`).attr(`content`)??``],f=a(`span.written-by a`).toArray(),p=f.map(e=>{let t=a(e);return{name:t.text(),url:t.attr(`href`)?new URL(t.attr(`href`),s).href:void 0,avatar:a(`div.authors div.photos a img`).attr(`src`)?new URL(a(`div.authors div.photos a img`).attr(`src`),s).href:void 0}}),m=a(`meta[property="og:image"]`).attr(`content`),h=l,g={title:o,description:c,pubDate:l?t(l):r.pubDate,category:u,author:p,content:{html:c,text:c},image:m,banner:m,updated:h?t(h):r.updated,language:d};return{...r,...g}}):r)),{title:u(`title`).text(),description:u(`meta[property="og:description"]`).attr(`content`),link:c,item:f,allowEmpty:!0,image:u(`meta[property="og:image"]`).attr(`content`),author:u(`meta[property="og:site_name"]`).attr(`content`),language:d,id:c}},o={path:`/czech-news/:category?`,name:`Czech News`,url:`www.expats.cz`,maintainers:[`nczitzk`],handler:a,example:`/expats/czech-news/daily-news`,parameters:{category:{description:"Category, `daily-news` by default",options:[{label:`Daily News`,value:`daily-news`},{label:`Prague Guide`,value:`prague-guide`},{label:`Culture & Events`,value:`culture-events`},{label:`Food & Drink`,value:`food-drink`},{label:`Expat Life`,value:`expat-life`},{label:`Housing`,value:`housing`},{label:`Education`,value:`education`},{label:`Health`,value:`health`},{label:`Work`,value:`work`},{label:`Travel`,value:`travel`},{label:`Economy`,value:`economy`},{label:`Language`,value:`language`}]}},description:`:::tip
To subscribe to [Daily News](https://www.expats.cz/czech-news/daily-news), where the source URL is \`https://www.expats.cz/czech-news/daily-news\`, extract the certain parts from this URL to be used as parameters, resulting in the route as [\`/expats/czech-news/daily-news\`](https://rsshub.app/expats/czech-news/daily-news).
:::

<details>
  <summary>More categories</summary>

| Category                                                      | ID                                                                    |
| ------------------------------------------------------------- | --------------------------------------------------------------------- |
| [Daily News](https://www.expats.cz/czech-news/daily-news)     | [daily-news](https://rsshub.app/expats/czech-news/daily-news)         |
| [Prague Guide](https://www.expats.cz/czech-news/prague-guide) | [prague-guide](https://rsshub.app/expats/czech-news/prague-guide)     |
| [Culture](https://www.expats.cz/czech-news/culture-events)    | [culture-events](https://rsshub.app/expats/czech-news/culture-events) |
| [Food & Drink](https://www.expats.cz/czech-news/food-drink)   | [food-drink](https://rsshub.app/expats/czech-news/food)               |
| [Expat Life](https://www.expats.cz/czech-news/expat-life)     | [expat-life](https://rsshub.app/expats/czech-news/expat-life)         |
| [Housing](https://www.expats.cz/czech-news/housing)           | [housing](https://rsshub.app/expats/czech-news/housing)               |
| [Education](https://www.expats.cz/czech-news/education)       | [education](https://rsshub.app/expats/czech-news/education)           |
| [Health](https://www.expats.cz/czech-news/health)             | [health](https://rsshub.app/expats/czech-news/health)                 |
| [Work](https://www.expats.cz/czech-news/work)                 | [work](https://rsshub.app/expats/czech-news/work)                     |
| [Travel](https://www.expats.cz/czech-news/travel)             | [travel](https://rsshub.app/expats/czech-news/travel)                 |
| [Economy](https://www.expats.cz/czech-news/economy)           | [economy](https://rsshub.app/expats/czech-news/economy)               |
| [Language](https://www.expats.cz/czech-news/language)         | [language](https://rsshub.app/expats/czech-news/language)             |

</details>
`,categories:[`new-media`],features:{requireConfig:!1,requirePuppeteer:!1,antiCrawler:!1,supportRadar:!0,supportBT:!1,supportPodcast:!1,supportScihub:!1},radar:[{source:[`www.expats.cz/czech-news/:category`],target:e=>{let t=e.category;return`/expats/czech-news${t?`/${t}`:``}`}},{title:`Daily News`,source:[`www.expats.cz/czech-news/daily-news`],target:`/expats/czech-news/daily-news`},{title:`Prague Guide`,source:[`www.expats.cz/czech-news/prague-guide`],target:`/expats/czech-news/prague-guide`},{title:`Culture & Events`,source:[`www.expats.cz/czech-news/culture-events`],target:`/expats/czech-news/culture-events`},{title:`Food & Drink`,source:[`www.expats.cz/czech-news/food-drink`],target:`/expats/czech-news/food-drink`},{title:`Expat Life`,source:[`www.expats.cz/czech-news/expat-life`],target:`/expats/czech-news/expat-life`},{title:`Housing`,source:[`www.expats.cz/czech-news/housing`],target:`/expats/czech-news/housing`},{title:`Education`,source:[`www.expats.cz/czech-news/education`],target:`/expats/czech-news/education`},{title:`Health`,source:[`www.expats.cz/czech-news/health`],target:`/expats/czech-news/health`},{title:`Work`,source:[`www.expats.cz/czech-news/work`],target:`/expats/czech-news/work`},{title:`Travel`,source:[`www.expats.cz/czech-news/travel`],target:`/expats/czech-news/travel`},{title:`Economy`,source:[`www.expats.cz/czech-news/economy`],target:`/expats/czech-news/economy`},{title:`Language`,source:[`www.expats.cz/czech-news/language`],target:`/expats/czech-news/language`}],view:r.Articles};export{a as handler,o as route};
//# sourceMappingURL=czech-news-DcpKWKvi.js.map