import{__dirname as e,init_esm_shims as t}from"./esm-shims-Dqvxr0BZ.js";import"./config-Dl8a1sIg.js";import"./logger-CWOoofbD.js";import"./dist-IvUHtNe1.js";import"./helpers-DzX-lcQO.js";import{art as n}from"./render-CxhTJIsl.js";import{parseDate as r}from"./parse-date-Bgabdhlb.js";import"./ofetch-Bzt0BXUH.js";import{got_default as i}from"./got-CdvI2yKX.js";import{timezone as a}from"./timezone-BrNu6iXe.js";import o from"node:path";t();const s={path:`/group/:id/:sort?`,categories:[`bbs`],example:`/douyu/group/1011`,parameters:{id:`鱼吧 id，可在鱼吧页 URL 中找到`,sort:`排序方式，见下表，默认为发布时间排序`},features:{requireConfig:!1,requirePuppeteer:!1,antiCrawler:!1,supportBT:!1,supportPodcast:!1,supportScihub:!1},radar:[{source:[`yuba.douyu.com/group/:id`,`yuba.douyu.com/group/newself/:id`,`yuba.douyu.com/group/newall/:id`,`yuba.douyu.com/`],target:`/group/:id`}],name:`鱼吧帖子`,maintainers:[`nczitzk`],handler:c,description:`| 回复时间排序 | 发布时间排序 |
| ------------ | ------------ |
| 1            | 2            |`};async function c(t){let s=t.req.param(`id`),c=t.req.param(`sort`)??`2`,l=`https://yuba.douyu.com`,u=`${l}/wbapi/web/group/head?group_id=${s}`,d=`${l}/wbapi/web/group/postlist?group_id=${s}&page=1&sort=${c}`,f=`${l}/group/${c===`1`?`newall`:`newself`}/${s}`,p=await i({method:`get`,url:d}),m=await i({method:`get`,url:u}),h=p.data.data.map(t=>({title:t.title,link:`${l}/p/${t.post_id}`,pubDate:a(r(t.created_at_std),8),description:n(o.join(e,`templates/description-ddeab83b.art`),{content:t.describe,images:t.imglist.map(e=>({size:e.size,url:e.url}))})}));return{title:`斗鱼鱼吧 - ${m.data.data.group_name}`,link:f,item:h,description:m.data.data.describe}}export{s as route};
//# sourceMappingURL=group-DWQ3KOeD.js.map