import{__dirname as e,init_esm_shims as t}from"./esm-shims-Dqvxr0BZ.js";import{config as n}from"./config-Dl8a1sIg.js";import{logger_default as r}from"./logger-CWOoofbD.js";import"./proxy-D7ccvALx.js";import{cache_default as i}from"./cache-kimkMTWJ.js";import{art as a}from"./render-CxhTJIsl.js";import{puppeteer_default as o}from"./puppeteer-f0D6AISB.js";import s from"node:path";import*as c from"cheerio";t();const l=t=>a(s.join(e,`templates/video-3615efc1.art`),t),u=async()=>{let e=`https://spankbang.com`,t=`${e}/new_videos/`,a=await o(),s=await i.tryGet(t,async()=>{let n=await a.newPage();await n.setRequestInterception(!0),n.on(`request`,e=>{e.resourceType()===`document`?e.continue():e.abort()}),r.http(`Requesting ${t}`),await n.goto(t,{waitUntil:`domcontentloaded`});let i=await n.content(),o=c.load(i),s=o(`.video-item`).toArray().map(t=>{let n=o(t),r=n.find(`.thumb`),i=n.find(`img.cover`);return{title:r.attr(`title`),link:new URL(r.attr(`href`),e).href,description:l({cover:i.data(`src`),preview:i.data(`preview`)})}});return{title:o(`head title`).text(),description:o(`head meta[name="description"]`).attr(`content`),item:s}},n.cache.routeExpire,!1);return await a.close(),{title:s.title,description:s.description,link:t,item:s.item}},d={path:`/new_videos`,categories:[`multimedia`],example:`/spankbang/new_videos`,name:`New Porn Videos`,maintainers:[`TonyRL`],features:{antiCrawler:!0,requirePuppeteer:!0,nsfw:!0},radar:[{source:[`spankbang.com/new_videos/`,`spankbang.com/`]}],handler:u};export{d as route};
//# sourceMappingURL=new-videos-haZZYEzq.js.map