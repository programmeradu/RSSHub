{"version":3,"file":"hackertalk-BuiRDjMt.js","names":["MarkdownIt","route: Route","got"],"sources":["../../lib/routes/hackertalk/index.ts"],"sourcesContent":["import { Route } from '@/types';\r\nimport got from '@/utils/got';\r\nimport { parseDate } from '@/utils/parse-date';\r\nimport MarkdownIt from 'markdown-it';\r\nconst md = MarkdownIt();\r\n\r\nexport const route: Route = {\r\n    path: '/',\r\n    radar: [\r\n        {\r\n            source: ['hackertalk.net/'],\r\n            target: '',\r\n        },\r\n    ],\r\n    name: 'Unknown',\r\n    maintainers: ['hyoban'],\r\n    handler,\r\n    url: 'hackertalk.net/',\r\n};\r\n\r\nasync function handler(ctx) {\r\n    const limit = ctx.req.query('limit') ?? 25;\r\n\r\n    const response = await got(`https://api.hackertalk.net/v1/posts?limit=${limit}&orderBy=time`);\r\n\r\n    const data = response.data.data;\r\n\r\n    return {\r\n        title: '黑客说的最新帖子',\r\n        link: 'https://hackertalk.net/?tab=new',\r\n        description: '黑客说 - 技术驱动优质交流',\r\n        item: data.map((item) => ({\r\n            title: item.title,\r\n            description: md.render(item.content),\r\n            pubDate: parseDate(item.createdAt),\r\n            link: `https://hackertalk.net/posts/${item.id}`,\r\n        })),\r\n    };\r\n}\r\n"],"mappings":"gTAIA,MAAM,EAAKA,IAEEC,EAAe,CACxB,KAAM,IACN,MAAO,CACH,CACI,OAAQ,CAAC,mBACT,OAAQ,KAGhB,KAAM,UACN,YAAa,CAAC,UACd,UACA,IAAK,mBAGT,eAAe,EAAQ,EAAK,CACxB,IAAM,EAAQ,EAAI,IAAI,MAAM,UAAY,GAElC,EAAW,MAAMC,EAAI,6CAA6C,EAAM,gBAExE,EAAO,EAAS,KAAK,KAE3B,MAAO,CACH,MAAO,WACP,KAAM,kCACN,YAAa,iBACb,KAAM,EAAK,IAAK,IAAU,CACtB,MAAO,EAAK,MACZ,YAAa,EAAG,OAAO,EAAK,SAC5B,QAAS,EAAU,EAAK,WACxB,KAAM,gCAAgC,EAAK"}