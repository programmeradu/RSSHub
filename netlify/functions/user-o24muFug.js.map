{"version":3,"file":"user-o24muFug.js","names":["route: Route","got"],"sources":["../../lib/routes/qoo-app/notes/user.ts"],"sourcesContent":["import { Route } from '@/types';\r\nimport got from '@/utils/got';\r\nimport { load } from 'cheerio';\r\nimport { notesUrl, extractNotes } from '../utils';\r\n\r\nexport const route: Route = {\r\n    path: '/notes/:lang?/user/:uid',\r\n    categories: ['anime'],\r\n    example: '/qoo-app/notes/en/user/35399143',\r\n    parameters: { lang: 'Language, see the table above, empty means `中文`', uid: 'User ID, can be found in URL' },\r\n    features: {\r\n        requireConfig: false,\r\n        requirePuppeteer: false,\r\n        antiCrawler: false,\r\n        supportBT: false,\r\n        supportPodcast: false,\r\n        supportScihub: false,\r\n    },\r\n    name: 'User Notes',\r\n    maintainers: ['TonyRL'],\r\n    handler,\r\n};\r\n\r\nasync function handler(ctx) {\r\n    const { uid, lang } = ctx.req.param();\r\n    const link = `${notesUrl}${lang ? `/${lang}` : ''}/user/${uid}`;\r\n\r\n    const { data: response } = await got(link);\r\n    const $ = load(response);\r\n\r\n    const items = extractNotes($);\r\n\r\n    return {\r\n        title: $('head title').text(),\r\n        link,\r\n        language: $('html').attr('lang'),\r\n        item: items,\r\n    };\r\n}\r\n"],"mappings":"gYAKA,MAAaA,EAAe,CACxB,KAAM,0BACN,WAAY,CAAC,SACb,QAAS,kCACT,WAAY,CAAE,KAAM,kDAAmD,IAAK,gCAC5E,SAAU,CACN,cAAe,GACf,iBAAkB,GAClB,YAAa,GACb,UAAW,GACX,eAAgB,GAChB,cAAe,IAEnB,KAAM,aACN,YAAa,CAAC,UACd,WAGJ,eAAe,EAAQ,EAAK,CACxB,GAAM,CAAE,MAAK,QAAS,EAAI,IAAI,QACxB,EAAO,GAAG,IAAW,EAAO,IAAI,IAAS,GAAG,QAAQ,IAEpD,CAAE,KAAM,GAAa,MAAMC,EAAI,GAC/B,EAAI,EAAK,GAET,EAAQ,EAAa,GAE3B,MAAO,CACH,MAAO,EAAE,cAAc,OACvB,OACA,SAAU,EAAE,QAAQ,KAAK,QACzB,KAAM"}