import"./esm-shims-Dqvxr0BZ.js";import"./config-Dl8a1sIg.js";import"./logger-CWOoofbD.js";import"./dist-IvUHtNe1.js";import{ofetch_default as e}from"./ofetch-Bzt0BXUH.js";import{ViewType as t}from"./types-A5bA50Mg.js";import{load as n}from"cheerio";const r=/(?<year>\d{4})-(?<month>\d{2})-(?<day>\d{2})/,i=[/開場 (?<openHr>\d{2}):(?<openMin>\d{2}) 開演 (?<startHr>\d{2}):(?<startMin>\d{2}) 終演 (?<closeHr>\d{2}):(?<closeMin>\d{2})/,/開場 - 開演 (?<openHr>\d{2}):(?<openMin>\d{2}) 終演 (?<closeHr>\d{2}):(?<closeMin>\d{2})/,/開場 (?<openHr>\d{2}):(?<openMin>\d{2}) 開演 - 終演 (?<closeHr>\d{2}):(?<closeMin>\d{2})/],a={path:`/actors/:name/:id`,categories:[`anime`],view:t.Videos,example:`/eventernote/actors/三森すずこ/2634`,parameters:{name:`声优姓名`,id:`声优 ID`},features:{requireConfig:!1,requirePuppeteer:!1,antiCrawler:!1,supportBT:!1,supportPodcast:!1,supportScihub:!1},radar:[{source:[`www.eventernote.com/actors/:name/:id`,`www.eventernote.com/actors/:name/:id/events`]}],name:`声优活动及演唱会`,maintainers:[`KTachibanaM`],handler:o};async function o(t){let{name:a,id:o}=t.req.param(),s=`${a}のイベント・ライブ情報一覧`,c=`https://www.eventernote.com/actors/${a}/${o}/events`,l=Array.from({length:3},(e,t)=>c+`?limit=20&page=${t+1}`),u=await Promise.all(l.map(t=>e(t))),d=u.flatMap(e=>{let t=n(e),a=t(`li.clearfix`);if(a.length===0)return[];let o=a.toArray().map(e=>{let n=t(`div.event > h4 > a`,e).text(),a=t(`div.event > div.place > a`,e).text(),o=t(`div.date > p`,e).text().match(r),s=o?.groups?.year,c=o?.groups?.month,l=o?.groups?.day,u=t(`div.event > div.place > span.s`,e).text(),d={openHr:null,openMin:null,startHr:null,startMin:null,closeHr:null,closeMin:null};for(let e of i){let t=u.match(e);if(t===null)continue;d={...d,...t.groups}}let f=t(`div.event > h4 > a`,e).attr(`href`),p=`イベント ${n}
開催場所 ${a}
開場 ${s}-${c}-${l} ${d.openHr}:${d.openMin}
開演 ${s}-${c}-${l} ${d.startHr}:${d.startMin}
終演 ${s}-${c}-${l} ${d.closeHr}:${d.closeMin}
`;return{title:n,description:p,link:f}}).filter(Boolean);return o});return{title:s,link:c,description:s,language:`ja`,allowEmpty:!0,item:d}}export{a as route};
//# sourceMappingURL=actors-CcGjlg_r.js.map