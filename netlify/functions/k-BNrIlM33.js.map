{"version":3,"file":"k-BNrIlM33.js","names":["route: Route","got"],"sources":["../../lib/routes/caixin/k.ts"],"sourcesContent":["import { Route } from '@/types';\r\nimport got from '@/utils/got';\r\nimport { parseDate } from '@/utils/parse-date';\r\n\r\nexport const route: Route = {\r\n    path: '/k',\r\n    categories: ['traditional-media'],\r\n    example: '/caixin/k',\r\n    parameters: {},\r\n    features: {\r\n        requireConfig: false,\r\n        requirePuppeteer: false,\r\n        antiCrawler: false,\r\n        supportBT: false,\r\n        supportPodcast: true,\r\n        supportScihub: false,\r\n    },\r\n    name: '财新一线',\r\n    maintainers: ['boypt'],\r\n    handler,\r\n};\r\n\r\nasync function handler() {\r\n    const response = await got('https://k.caixin.com/app/v1/list', {\r\n        searchParams: {\r\n            productIdList: '8,28',\r\n            uid: '',\r\n            unit: 1,\r\n            name: '',\r\n            code: '',\r\n            deviceType: '',\r\n            device: '',\r\n            userTag: '',\r\n            p: 1,\r\n            c: 20,\r\n        },\r\n    });\r\n\r\n    const data = response.data.data.list;\r\n    const items = data.map((item) => {\r\n        const hasAudio = item.audio_url || Object.values(item.audios)[0];\r\n        return {\r\n            title: item.title,\r\n            description: item.text,\r\n            link: `http://k.caixin.com/web/detail_${item.oneline_news_code}`,\r\n            pubDate: parseDate(item.ts, 'x'),\r\n            author: '财新一线',\r\n            enclosure_url: hasAudio ? item.audio_url || Object.values(item.audios)[0] : undefined,\r\n            enclosure_type: hasAudio ? 'audio/mpeg' : undefined,\r\n        };\r\n    });\r\n\r\n    return {\r\n        title: '财新网 - 财新一线新闻',\r\n        link: 'https://k.caixin.com/web/',\r\n        description: '财新网 - 财新一线新闻',\r\n        item: items,\r\n    };\r\n}\r\n"],"mappings":"qRAIA,MAAaA,EAAe,CACxB,KAAM,KACN,WAAY,CAAC,qBACb,QAAS,YACT,WAAY,GACZ,SAAU,CACN,cAAe,GACf,iBAAkB,GAClB,YAAa,GACb,UAAW,GACX,eAAgB,GAChB,cAAe,IAEnB,KAAM,OACN,YAAa,CAAC,SACd,WAGJ,eAAe,GAAU,CACrB,IAAM,EAAW,MAAMC,EAAI,mCAAoC,CAC3D,aAAc,CACV,cAAe,OACf,IAAK,GACL,KAAM,EACN,KAAM,GACN,KAAM,GACN,WAAY,GACZ,OAAQ,GACR,QAAS,GACT,EAAG,EACH,EAAG,MAIL,EAAO,EAAS,KAAK,KAAK,KAC1B,EAAQ,EAAK,IAAK,GAAS,CAC7B,IAAM,EAAW,EAAK,WAAa,OAAO,OAAO,EAAK,QAAQ,GAC9D,MAAO,CACH,MAAO,EAAK,MACZ,YAAa,EAAK,KAClB,KAAM,kCAAkC,EAAK,oBAC7C,QAAS,EAAU,EAAK,GAAI,KAC5B,OAAQ,OACR,cAAe,EAAW,EAAK,WAAa,OAAO,OAAO,EAAK,QAAQ,GAAK,IAAA,GAC5E,eAAgB,EAAW,aAAe,IAAA,MAIlD,MAAO,CACH,MAAO,eACP,KAAM,4BACN,YAAa,eACb,KAAM"}