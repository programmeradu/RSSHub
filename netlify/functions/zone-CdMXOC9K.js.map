{"version":3,"file":"zone-CdMXOC9K.js","names":["route: Route","got"],"sources":["../../lib/routes/huoxian/zone.ts"],"sourcesContent":["import { Route } from '@/types';\r\nimport got from '@/utils/got';\r\nimport { parseDate } from '@/utils/parse-date';\r\n\r\nexport const route: Route = {\r\n    path: '/zone',\r\n    categories: ['bbs'],\r\n    example: '/huoxian/zone',\r\n    parameters: {},\r\n    features: {\r\n        requireConfig: false,\r\n        requirePuppeteer: false,\r\n        antiCrawler: false,\r\n        supportBT: false,\r\n        supportPodcast: false,\r\n        supportScihub: false,\r\n    },\r\n    name: 'Zone',\r\n    maintainers: ['p7e4'],\r\n    handler,\r\n};\r\n\r\nasync function handler() {\r\n    const { data } = await got('https://zone.huoxian.cn/api/discussions?sort=-createdAt');\r\n    const items = data.data.map((item) => ({\r\n        title: item.attributes.title,\r\n        link: `https://zone.huoxian.cn/d/${item.attributes.slug}`,\r\n        description: data.included.find((i) => i.id === item.relationships.firstPost.data.id).attributes.contentHtml,\r\n        pubDate: parseDate(item.attributes.createdAt),\r\n        author: data.included.find((i) => i.id === item.relationships.user.data.id).attributes.displayName,\r\n        category: data.included.filter((i) => item.relationships.tags.data.map((t) => t.id).includes(i.id) && i.type === 'tags').map((i) => i.attributes.name),\r\n    }));\r\n    return {\r\n        title: '火线 Zone-安全攻防社区',\r\n        link: 'https://zone.huoxian.cn/',\r\n        item: items,\r\n    };\r\n}\r\n"],"mappings":"qRAIA,MAAaA,EAAe,CACxB,KAAM,QACN,WAAY,CAAC,OACb,QAAS,gBACT,WAAY,GACZ,SAAU,CACN,cAAe,GACf,iBAAkB,GAClB,YAAa,GACb,UAAW,GACX,eAAgB,GAChB,cAAe,IAEnB,KAAM,OACN,YAAa,CAAC,QACd,WAGJ,eAAe,GAAU,CACrB,GAAM,CAAE,QAAS,MAAMC,EAAI,2DACrB,EAAQ,EAAK,KAAK,IAAK,IAAU,CACnC,MAAO,EAAK,WAAW,MACvB,KAAM,6BAA6B,EAAK,WAAW,OACnD,YAAa,EAAK,SAAS,KAAM,GAAM,EAAE,KAAO,EAAK,cAAc,UAAU,KAAK,IAAI,WAAW,YACjG,QAAS,EAAU,EAAK,WAAW,WACnC,OAAQ,EAAK,SAAS,KAAM,GAAM,EAAE,KAAO,EAAK,cAAc,KAAK,KAAK,IAAI,WAAW,YACvF,SAAU,EAAK,SAAS,OAAQ,GAAM,EAAK,cAAc,KAAK,KAAK,IAAK,GAAM,EAAE,IAAI,SAAS,EAAE,KAAO,EAAE,OAAS,QAAQ,IAAK,GAAM,EAAE,WAAW,SAErJ,MAAO,CACH,MAAO,iBACP,KAAM,2BACN,KAAM"}