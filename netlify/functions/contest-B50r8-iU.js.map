{"version":3,"file":"contest-B50r8-iU.js","names":["route: Route","ofetch"],"sources":["../../lib/routes/makerworld/contest.ts"],"sourcesContent":["import { Route } from '@/types';\r\nimport ofetch from '@/utils/ofetch';\r\nimport { baseUrl, getNextBuildId } from './utils';\r\nimport { parseDate } from '@/utils/parse-date';\r\nimport { config } from '@/config';\r\n\r\nexport const route: Route = {\r\n    path: '/contests',\r\n    categories: ['design'],\r\n    example: '/makerworld/contests',\r\n    name: 'Contests',\r\n    maintainers: ['TonyRL'],\r\n    handler,\r\n    radar: [\r\n        {\r\n            source: ['makerworld.com/:lang/contests'],\r\n        },\r\n    ],\r\n};\r\n\r\nasync function handler() {\r\n    const nextBuildId = await getNextBuildId();\r\n    const response = await ofetch(`${baseUrl}/_next/data/${nextBuildId}/en/contests.json`, {\r\n        headers: {\r\n            'User-Agent': config.trueUA,\r\n        },\r\n    });\r\n    const { listConst, previewList } = response.pageProps;\r\n\r\n    const items = [\r\n        ...listConst.map((c) => ({\r\n            title: c.contestName,\r\n            link: `${baseUrl}/en/contests/${c.id}?name=${c.contestName}`,\r\n            description: c.themeDesc,\r\n            pubDate: parseDate(c.startTime),\r\n        })),\r\n        ...previewList.map((p) => ({\r\n            title: p.contestTheme,\r\n            description: p.themeDesc,\r\n            pubDate: parseDate(p.contestTime),\r\n        })),\r\n    ];\r\n\r\n    return {\r\n        title: 'Contest - MakerWorld',\r\n        description: 'Join the contest to showcase your creativity and win substantial rewards',\r\n        link: `${baseUrl}/en/contests`,\r\n        image: `${baseUrl}/favicon_new.png`,\r\n        item: items,\r\n    };\r\n}\r\n"],"mappings":"+UAMA,MAAaA,EAAe,CACxB,KAAM,YACN,WAAY,CAAC,UACb,QAAS,uBACT,KAAM,WACN,YAAa,CAAC,UACd,UACA,MAAO,CACH,CACI,OAAQ,CAAC,oCAKrB,eAAe,GAAU,CACrB,IAAM,EAAc,MAAM,IACpB,EAAW,MAAMC,EAAO,GAAG,EAAQ,cAAc,EAAY,mBAAoB,CACnF,QAAS,CACL,aAAc,EAAO,UAGvB,CAAE,YAAW,eAAgB,EAAS,UAEtC,EAAQ,CACV,GAAG,EAAU,IAAK,IAAO,CACrB,MAAO,EAAE,YACT,KAAM,GAAG,EAAQ,eAAe,EAAE,GAAG,QAAQ,EAAE,cAC/C,YAAa,EAAE,UACf,QAAS,EAAU,EAAE,cAEzB,GAAG,EAAY,IAAK,IAAO,CACvB,MAAO,EAAE,aACT,YAAa,EAAE,UACf,QAAS,EAAU,EAAE,iBAI7B,MAAO,CACH,MAAO,uBACP,YAAa,2EACb,KAAM,GAAG,EAAQ,cACjB,MAAO,GAAG,EAAQ,kBAClB,KAAM"}