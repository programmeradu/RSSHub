{"version":3,"file":"utils-30s3qOZ6.js","names":[],"sources":["../../lib/routes/qoo-app/utils.ts"],"sourcesContent":["import { parseDate } from '@/utils/parse-date';\r\nimport timezone from '@/utils/timezone';\r\n\r\nconst appsUrl = 'https://apps.qoo-app.com';\r\nconst newsUrl = 'https://news.qoo-app.com';\r\nconst notesUrl = 'https://notes.qoo-app.com';\r\nconst ssoUrl = 'https://sso.qoo-app.com';\r\nconst userUrl = 'https://user.qoo-app.com';\r\n\r\nconst siteIcon = 'https://o.qoo-img.com/statics.qoo-app.com/cdn/img/QooApp_512.v-0d0fd2.png';\r\n\r\nconst fixImg = ($) => {\r\n    $('img').each((_, img) => {\r\n        if (img.attribs['data-orig-file']) {\r\n            img.attribs.src = img.attribs['data-orig-file'].replace('i0.wp.com/', '').split('?')[0];\r\n            delete img.attribs['data-orig-file'];\r\n            delete img.attribs['data-orig-size'];\r\n            delete img.attribs['data-image-meta'];\r\n            delete img.attribs['data-comments-opened'];\r\n            delete img.attribs['data-full-url'];\r\n            delete img.attribs['data-medium-file'];\r\n            delete img.attribs['data-large-file'];\r\n        }\r\n        img.attribs.src = img.attribs.src.replace('i0.wp.com/', '').split('?')[0];\r\n        delete img.attribs.srcset;\r\n    });\r\n};\r\n\r\nconst extractNotes = ($) => {\r\n    $('.qoo-note-wrap')\r\n        .toArray()\r\n        .map((item) => {\r\n            item = $(item);\r\n            const title = item.find('.qoo-note-view .content-title').text();\r\n            const author = item.find('cite.name').text();\r\n            const pubDate = timezone(parseDate(item.find('time').text(), 'YYYY-MM-DD HH:mm'), 8);\r\n            item.find('cite.name, time, footer').remove();\r\n            return {\r\n                title,\r\n                description: item.find('.qoo-note-view').html(),\r\n                link: item.find('a.link-wrap').attr('href'),\r\n                pubDate,\r\n                author,\r\n            };\r\n        });\r\n};\r\n\r\nexport { appsUrl, newsUrl, notesUrl, ssoUrl, userUrl, siteIcon, fixImg, extractNotes };\r\n"],"mappings":"uGAGA,MAAM,EAAU,2BACV,EAAU,2BACV,EAAW,4BACX,EAAS,0BACT,EAAU,2BAEV,EAAW,4EAEX,EAAU,GAAM,CAClB,EAAE,OAAO,MAAM,EAAG,IAAQ,CAClB,EAAI,QAAQ,oBACZ,EAAI,QAAQ,IAAM,EAAI,QAAQ,kBAAkB,QAAQ,aAAc,IAAI,MAAM,KAAK,GACrF,OAAO,EAAI,QAAQ,kBACnB,OAAO,EAAI,QAAQ,kBACnB,OAAO,EAAI,QAAQ,mBACnB,OAAO,EAAI,QAAQ,wBACnB,OAAO,EAAI,QAAQ,iBACnB,OAAO,EAAI,QAAQ,oBACnB,OAAO,EAAI,QAAQ,oBAEvB,EAAI,QAAQ,IAAM,EAAI,QAAQ,IAAI,QAAQ,aAAc,IAAI,MAAM,KAAK,GACvE,OAAO,EAAI,QAAQ,UAIrB,EAAgB,GAAM,CACxB,EAAE,kBACG,UACA,IAAK,GAAS,CACX,EAAO,EAAE,GACT,IAAM,EAAQ,EAAK,KAAK,iCAAiC,OACnD,EAAS,EAAK,KAAK,aAAa,OAChC,EAAU,EAAS,EAAU,EAAK,KAAK,QAAQ,OAAQ,oBAAqB,GAElF,OADA,EAAK,KAAK,2BAA2B,SAC9B,CACH,QACA,YAAa,EAAK,KAAK,kBAAkB,OACzC,KAAM,EAAK,KAAK,eAAe,KAAK,QACpC,UACA"}