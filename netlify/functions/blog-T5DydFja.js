import"./esm-shims-Dqvxr0BZ.js";import"./config-Dl8a1sIg.js";import"./logger-CWOoofbD.js";import"./dist-IvUHtNe1.js";import{cache_default as e}from"./cache-kimkMTWJ.js";import{ofetch_default as t}from"./ofetch-Bzt0BXUH.js";import{load as n}from"cheerio";const r=new URL(`https://tailwindcss.com/`),i=async e=>{let r=await t(e,{responseType:`text`}),i=n(r);return i(`article.prose`).html()??``},a=async a=>{let o=new URL(`/feeds/atom.xml`,r).href,s=await t(o,{responseType:`text`}),c=n(s,{xml:!0}),l=await Promise.all(c(`entry`).toArray().slice(0,a).map(t=>{let n=c(t).find(`title`).text(),r=c(t).find(`id`).text(),a=c(t).find(`link[href]`).attr(`href`),o=c(t).find(`link[rel="enclosure"]`).attr(`href`);if(a===void 0)throw Error(`No article URL found for article with id ${r}`);return e.tryGet(`tailwindcss:${r}`,async()=>({title:n,link:a,image:o,description:await i(a),author:c(t).find(`author`).toArray().map(e=>({name:c(e).find(`name`).text(),url:c(e).find(`url`).text()})),pubDate:c(t).find(`updated`).text(),guid:c(t).find(`id`).text()}))}));return{title:c(`feed > title`).text(),item:l,author:c(`feed > author > name`).text(),logo:c(`feed > logo`).text(),icon:c(`feed > icon`).text(),description:c(`feed > subtitle`).text(),link:c(`feed > link[rel="alternate"]`).attr(`href`)}},o=e=>{let t=Number.parseInt(e.req.query(`limit`)||`10`);return a(t)},s={path:`/blog`,categories:[`programming`],example:`/tailwindcss/blog`,features:{requireConfig:!1,requirePuppeteer:!1,antiCrawler:!1,supportBT:!1,supportPodcast:!1,supportScihub:!1},name:`Blog`,maintainers:[`goestav`],handler:o};export{o as handler,s as route};
//# sourceMappingURL=blog-T5DydFja.js.map