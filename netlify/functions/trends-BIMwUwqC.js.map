{"version":3,"file":"trends-BIMwUwqC.js","names":["route: Route","ConfigNotFoundError","utils"],"sources":["../../lib/routes/twitter/trends.ts"],"sourcesContent":["import { Route } from '@/types';\r\nimport utils from './utils';\r\nimport { config } from '@/config';\r\nimport ConfigNotFoundError from '@/errors/types/config-not-found';\r\n\r\nexport const route: Route = {\r\n    path: '/trends/:woeid?',\r\n    categories: ['social-media'],\r\n    example: '/twitter/trends/23424856',\r\n    parameters: { woeid: 'Yahoo! Where On Earth ID. default to woeid=1 (World Wide)' },\r\n    features: {\r\n        requireConfig: false,\r\n        requirePuppeteer: false,\r\n        antiCrawler: false,\r\n        supportBT: false,\r\n        supportPodcast: false,\r\n        supportScihub: false,\r\n    },\r\n    name: 'Trends',\r\n    maintainers: ['sakamossan'],\r\n    handler,\r\n};\r\n\r\nasync function handler(ctx) {\r\n    if (!config.twitter || !config.twitter.consumer_key || !config.twitter.consumer_secret) {\r\n        throw new ConfigNotFoundError('Twitter RSS is disabled due to the lack of <a href=\"https://docs.rsshub.app/deploy/config#route-specific-configurations\">relevant config</a>');\r\n    }\r\n    const woeid = ctx.req.param('woeid') ?? 1; // Global information is available by using 1 as the WOEID\r\n    const client = await utils.getAppClient();\r\n    const data = await client.v1.get('trends/place.json', { id: woeid });\r\n    const [{ trends }] = data;\r\n\r\n    return {\r\n        title: `Twitter Trends on ${data[0].locations[0].name}`,\r\n        link: `https://x.com/i/trends`,\r\n        item: trends\r\n            .filter((t) => !t.promoted_content)\r\n            .map((t) => ({\r\n                title: t.name,\r\n                link: t.url,\r\n                description: t.name + (t.tweet_volume ? ` (${t.tweet_volume})` : ''),\r\n            })),\r\n    };\r\n}\r\n"],"mappings":"mPAKA,MAAaA,EAAe,CACxB,KAAM,kBACN,WAAY,CAAC,gBACb,QAAS,2BACT,WAAY,CAAE,MAAO,6DACrB,SAAU,CACN,cAAe,GACf,iBAAkB,GAClB,YAAa,GACb,UAAW,GACX,eAAgB,GAChB,cAAe,IAEnB,KAAM,SACN,YAAa,CAAC,cACd,WAGJ,eAAe,EAAQ,EAAK,CACxB,GAAI,CAAC,EAAO,SAAW,CAAC,EAAO,QAAQ,cAAgB,CAAC,EAAO,QAAQ,gBACnE,MAAM,IAAIC,EAAoB,gJAElC,IAAM,EAAQ,EAAI,IAAI,MAAM,UAAY,EAClC,EAAS,MAAMC,EAAM,eACrB,EAAO,MAAM,EAAO,GAAG,IAAI,oBAAqB,CAAE,GAAI,IACtD,CAAC,CAAE,WAAY,EAErB,MAAO,CACH,MAAO,qBAAqB,EAAK,GAAG,UAAU,GAAG,OACjD,KAAM,yBACN,KAAM,EACD,OAAQ,GAAM,CAAC,EAAE,kBACjB,IAAK,IAAO,CACT,MAAO,EAAE,KACT,KAAM,EAAE,IACR,YAAa,EAAE,MAAQ,EAAE,aAAe,KAAK,EAAE,aAAa,GAAK"}