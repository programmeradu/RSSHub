import"./esm-shims-Dqvxr0BZ.js";import"./config-Dl8a1sIg.js";import"./logger-CWOoofbD.js";import"./dist-IvUHtNe1.js";import{parseRelativeDate as e}from"./parse-date-Bgabdhlb.js";import{ofetch_default as t}from"./ofetch-Bzt0BXUH.js";import{ViewType as n}from"./types-A5bA50Mg.js";import*as r from"cheerio";const i={path:`/analytic`,categories:[`finance`],view:n.Articles,example:`/zhizhuan100/analytic`,radar:[{source:[`www.zhizhuan100.com.cn/analysis`]}],name:`analytic`,maintainers:[`Cedaric`],handler:a};async function a(){let n=await t(`https://www.zhizhuan100.com.cn/analysis`),i=r.load(n),a=i(`script[src*="Body.js"]`).attr(`src`);if(!a)throw Error(`无法找到 Body.js 脚本文件`);let o=await t(a,{parseResponse:e=>e}),s=o.match(/document\.write\('(.*)'\);/s);if(!s)throw Error(`无法找到HTML内容`);let c=JSON.parse(`"${s[1]}"`),l=r.load(c),u=l(`.w-list-item`),d=u.toArray().map(t=>{let n=l(t),r=n.find(`.w-list-title`),i=n.find(`.w-list-date`),a=n.find(`.w-list-link`),o=n.find(`.w-listpic-in`),s=r.text().trim()||``,c=i.text().trim()||``,u=a.attr(`href`)||``,d=o.attr(`src`)||``,f=u.match(/\/productinfo\/(\d+)\.html/),p=f?f[1]:``;return{title:s,pubDate:e(c),link:u.startsWith(`http`)?u:`https://www.zhizhuan100.com.cn${u}`,description:`<img src="${d.startsWith(`//`)?`https:`+d:d}" alt="${s}">`,guid:p}}).filter(e=>e.title);return{title:`智篆商业-消费报告`,link:`https://www.zhizhuan100.com.cn/analysis`,allowEmpty:!0,item:d}}export{i as route};
//# sourceMappingURL=report-CicFNI5n.js.map