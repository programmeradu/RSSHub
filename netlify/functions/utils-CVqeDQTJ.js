import{__dirname as e,init_esm_shims as t}from"./esm-shims-Dqvxr0BZ.js";import{art as n}from"./render-CxhTJIsl.js";import{got_default as r}from"./got-CdvI2yKX.js";import i from"node:path";import{load as a}from"cheerio";t();const o=`https://furstar.jp`,s=e=>e?`${o}/${e}`:o,c=t=>n(i.join(e,`templates/author-d513c223.art`),t),l=(t,r,a)=>n(i.join(e,`templates/description-f804eca7.art`),{desc:t,pics:r,author:c(a)}),u=e=>{let t=a(e),n=t(`a`),r={name:null,avatar:null,link:null};if(n.length>0){let e=t(`a img`);r.name=e.attr(`alt`),r.avatar=e.attr(`src`),r.link=n.attr(`href`)}else{let e=t(`img`);r.name=e.attr(`alt`),r.avatar=e.attr(`src`)}return r},d=(e,t)=>t.tryGet(e,async()=>{let t=await r(e,{https:{rejectUnauthorized:!1}}),n=a(t.data),i=n(`.row .panel-heading h2`).text().trim(),s=n(`.character-description p`).text().trim(),c=n(`.img-gallery .prettyPhoto`).toArray().map(e=>{let t=a(e),n=t(`a`).attr(`href`).trim();return`${o}/${n.slice(2)}`});return{title:i,pics:c,desc:s,author:u(n(`.character-description`).html())}}),f=(e,t)=>{let n=a(e),r=n(`.character-article`),i=r.toArray().map(e=>{let n=a(e),r={title:n(`.character-headline`).text().trim(),headImage:n(`.character-images img`).attr(`src`).trim(),detailPage:`${t}/${n(`.character-images a`).attr(`href`).trim()}`,author:u(n(`.character-description`).html())};return r});return i};var p={BASE:o,langBase:s,fetchAllCharacters:f,detailPage:d,authorDetail:u,renderDesc:l,renderAuthor:c};export{p as utils_default};
//# sourceMappingURL=utils-CVqeDQTJ.js.map