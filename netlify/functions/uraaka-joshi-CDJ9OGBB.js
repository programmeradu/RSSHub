import"./config-Dl8a1sIg.js";import"./logger-CWOoofbD.js";import"./proxy-D7ccvALx.js";import{parseDate as e}from"./parse-date-Bgabdhlb.js";import{puppeteer_default as t}from"./puppeteer-f0D6AISB.js";import{load as n}from"cheerio";const r={path:`/`,radar:[{source:[`uraaka-joshi.com/`],target:``}],name:`Unknown`,maintainers:[`SettingDust`,`Halcao`],handler:i,url:`uraaka-joshi.com/`};async function i(){let r=`https://www.uraaka-joshi.com/`,i=`裏垢女子まとめ`,a=await t(),o=await a.newPage();await o.setRequestInterception(!0),o.on(`request`,e=>{e.resourceType()===`document`||e.resourceType()===`script`||e.resourceType()===`fetch`?e.continue():e.abort()}),o.on(`requestfinished`,async e=>{e.url()===r&&e.response().status()===403&&await o.close()});let s=``;try{await o.goto(r,{waitUntil:`domcontentloaded`}),await o.waitForSelector(`#pickup03 .grid-cell`),await o.waitForSelector(`#pickup04 .grid-cell`),await o.waitForSelector(`#main-block .grid-cell`);let e=await o.$(`body`);s=await o.evaluate(e=>e.innerHTML,e)}catch{throw Error(`Access denied (403)`)}await a.close();let c=n(s),l=c(`.grid-cell`);return{title:i,link:r,item:l.toArray().map(t=>{t=c(t),t.find(`*`).removeAttr(`onclick`),t.find(`*`).removeAttr(`onerror`),t.find(`*`).removeAttr(`style`);let n=t.find(`.account-group-link-row`);return n.html(n.text()),t.find(`.plyr--video`).each((e,t)=>{t=c(t);let n=t.find(`video`);t.replaceWith(n);let r=n.attr(`data-poster`);n.attr(`poster`,`https:`+r);let i=n.find(`source`),a=i.attr(`src`);i.attr(`src`,`https:`+a)}),t.find(`img`).each((e,t)=>{let n=c(t).attr(`data-src`);c(t).attr(`src`,`https:`+n)}),{title:t.find(`.account-group`).text()+` - ${i}`,description:t.html(),link:t.find(`.account-group-link-row`).attr(`href`),pubDate:e(t.find(`.profile-char`).attr(`datetime`)),guid:t.find(`a.tap-image`).attr(`data-tweet-id`)||t.find(`video[class^="js-player-"]`).attr(`data-tweet-id`)||e(t.find(`.profile-char`).attr(`datetime`)).getTime()}})}}export{r as route};
//# sourceMappingURL=uraaka-joshi-CDJ9OGBB.js.map