import"./esm-shims-Dqvxr0BZ.js";import"./config-Dl8a1sIg.js";import"./logger-CWOoofbD.js";import"./dist-IvUHtNe1.js";import"./helpers-DzX-lcQO.js";import"./ofetch-Bzt0BXUH.js";import{got_default as e}from"./got-CdvI2yKX.js";const t={path:`/album/:id`,categories:[`picture`],example:`/google/album/msFFnAzKmQmWj76EA`,parameters:{id:"album ID, can be found in URL, for example, `https://photos.app.goo.gl/msFFnAzKmQmWj76EA` to `msFFnAzKmQmWj76EA`"},features:{requireConfig:!1,requirePuppeteer:!1,antiCrawler:!1,supportBT:!1,supportPodcast:!1,supportScihub:!1},name:`Public Albums`,maintainers:[`hoilc`],handler:n};async function n(t){let n=t.req.param(`id`),r=`https://photos.app.goo.gl/${n}?_imcp=1`,i=await e.get(r),a=i.request.options.url.href,o=JSON.parse(i.data.match(/AF_initDataCallback.*?data:(\[[\S\s]*])\s/m)[1])||[],s=o[3][1],c=o[3][5][2],l=o[1];return{title:`${c} 创建的 Google 相册 - ${s}`,link:r,item:l.slice(0,50).map(e=>{let t=new Date(e[2]*1),n=Object.keys(e[15]).length>2,r=n?`<video src="${e[1][0]}=m18" controls controlslist="nodownload" loop style="max-width: 100%;">`:`<img src="${e[1][0]}=w${e[1][1]}-h${e[1][2]}-no" style="max-width: 100%;">`;return{title:t.toLocaleString(),author:s,description:r,pubDate:t,link:a.replace(`?`,`/photo/${e[0]}?`),guid:e[0]}})}}export{t as route};
//# sourceMappingURL=album-BWVcb56D.js.map