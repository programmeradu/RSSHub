import"./esm-shims-Dqvxr0BZ.js";import"./config-Dl8a1sIg.js";import"./logger-CWOoofbD.js";import"./dist-IvUHtNe1.js";import"./helpers-DzX-lcQO.js";import{cache_default as e}from"./cache-kimkMTWJ.js";import{parseDate as t}from"./parse-date-Bgabdhlb.js";import"./ofetch-Bzt0BXUH.js";import{got_default as n}from"./got-CdvI2yKX.js";import{load as r}from"cheerio";const i={all:{title:`全部`,path:``},tech:{title:`科技`,path:`tech/`},finance:{title:`财经`,path:`finance/`},life:{title:`生活`,path:`life/`},company:{title:`公司`,path:`company/`},character:{title:`人物`,path:`character/`}},a=t=>e.tryGet(t.link,async()=>{let e=await n({method:`get`,url:`https:${t.link}`,responseType:`arrayBuffer`}),i=new TextDecoder(`GBK`),a=i.decode(e.data),o=r(a);return t.description=o(`.context-box .context-table tbody td`).html(),t}),o=async e=>{let{category:r=`all`}=e.req.param(),o=i[r]||i.all,s=`https://www.pconline.com.cn/3g/other/focus/${o.path}index.html`,c=await n({method:`get`,url:s}),l=c.data.replace(/Module\.callback\((.*)\)/s,`$1`).split(`
`).filter(e=>e.indexOf(`"tags":`)!==0).join(`
`).replaceAll(`'`,`"`),u=l.replaceAll(/[\n\r]/g,``),d=u.replaceAll(`,}`,`}`),f=JSON.parse(d||``),{articleList:p}=f,m=p.map(e=>({id:e.id,title:e.title,author:[{name:e.authorname,avatar:e.authorImg}],pubDate:t(e.pc_pubDate),link:e.url,description:e.summary,category:e.channelName,image:e.cover})),h=await Promise.all(m.map(e=>a(e)));return{title:`太平洋科技-${o.title}`,link:s,item:h}},s={path:`/focus/:category?`,categories:[`new-media`],example:`/pconline/focus`,parameters:{category:{description:`科技新闻的类别，获取最新的一页，分别：all, tech, finance, life, company, character`,default:`all`}},features:{requireConfig:!1,requirePuppeteer:!1,antiCrawler:!1,supportBT:!1,supportPodcast:!1,supportScihub:!1},radar:[{source:[`pconline.com.cn/focus/`,`pconline.com.cn/`],target:`/focus`}],name:`科技新闻`,maintainers:[`CH563`],handler:o,description:`::: tip
| 全部 | 科技 | 财经 | 生活 | 公司 | 人物 |
| --- | --- | --- | --- | --- | --- |
| all | tech | finance | life | company | character |
:::`};export{o as handler,s as route};
//# sourceMappingURL=focus-CIoyWxmd.js.map