import"./esm-shims-Dqvxr0BZ.js";import{rand_user_agent_default as e}from"./config-Dl8a1sIg.js";import"./logger-CWOoofbD.js";import"./dist-IvUHtNe1.js";import"./helpers-DzX-lcQO.js";import{cache_default as t}from"./cache-kimkMTWJ.js";import{parseDate as n}from"./parse-date-Bgabdhlb.js";import"./ofetch-Bzt0BXUH.js";import{got_default as r}from"./got-CdvI2yKX.js";import{timezone as i}from"./timezone-BrNu6iXe.js";import{xwlb_default as a}from"./xwlb-bNfBILXg.js";import o from"node:path";import{load as s}from"cheerio";const c=async()=>{let e=await r({method:`get`,url:`https://api.cntv.cn/video/videolistById?serviceId=cbox&vsid=C10354&em=01&p=1&n=50`}),t=e.data,a=await Promise.all(t.video.map(async e=>{let t=`https://vdn.apps.cntv.cn/api/getHttpVideoInfo.do?pid=${e.vid}`,a={title:e.t,description:e.desc,link:e.url,pubDate:i(n(e.ptime),8)},{data:o}=await r({method:`get`,url:t});return a.description+=`<br><video src="${o.hls_url}" controls="controls" poster="${e.img.replaceAll(/\?.+/g,``)}" style="width: 100%"></video>`,a}));return{title:`每周质量报告`,link:`https://tv.cctv.com/lm/mzzlbg/videoset/index.shtml`,description:`《每周质量报告》是CCTV-新闻频道一档以消费者为核心收视人群的新闻专题栏目。创办于2003年，始终致力于产品质量和食品安全领域的调查报道，以打假除劣扶优，推动质量进步为第一诉求，是我国电视新闻界质量新闻领域的旗帜性节目。首播时间：CCTV-新闻周日12:35—12:55。`,item:a}};var l=c;async function u(e){let t=await r({method:`get`,url:e}),n=s(t.data),i=``+n(`script`),a=i.split(`guid_Ad_VideoCode = "`)[1].split(`";`)[0],{data:o}=await r({method:`get`,url:`http://vdn.apps.cntv.cn/api/getHttpVideoInfo.do?pid=${a}`}),c=`${n(`meta[name=description]`).attr(`content`)}<br><video src="${o.hls_url}" controls="controls"  style="width: 100%"></video>`;return{description:c}}const d=e=>Promise.all(e.list.map(async e=>{let r=e.title,i=e.url,a=n(e.focus_date),o={title:r,link:i,author:`央视新闻`,guid:i,pubDate:a},s=await t.tryGet(i,()=>u(i));return{...o,...s}})),f=async()=>{let e=`https://api.cntv.cn/NewVideo/getVideoListByColumn?id=TOPC1451559066181661&n=20&sort=desc&p=1&mode=0&serviceId=tvcctv`,t=await r({method:`get`,url:e,headers:{Referer:`https://tv.cctv.com/lm/xinwen1j1/videoset/index.shtml#&Type=0`}}),n=t.data.data,i=await d(n);return{title:`《新闻1+1》- 中央电视台新闻频道`,link:e,description:`《新闻1+1》是中央电视台新闻频道的一档访谈类栏目。周一至周五，从时事政策、公共话题、突发事件等大型选题中选取当天最新、最热、最快的新闻话题，还原新闻全貌、解读事件真相，力求以精度、纯度和锐度为新闻导向，呈现最质朴的新闻。首播：CCTV-新闻：周一至周五21:30—21:55；重播：次日01:30，04:30。`,item:i}};var p=f;const m=e({browser:`mobile safari`,os:`ios`,device:`mobile`}),h=async e=>{let a=`https://news.cctv.com/2019/07/gaiban/cmsdatainterface/page/${e}_1.jsonp`,s=await r({method:`get`,url:a,headers:{Referer:`http://news.cctv.com/${e}`,"User-Agent":m}}),c=JSON.parse(s.data.slice(e.length+1,-1)),l=c.data.list,u=await Promise.all(l.map(({title:e,url:a,focus_date:s,image:c})=>t.tryGet(`cctv-news: ${a}`,async()=>{let t={title:e,link:a,pubDate:i(n(s),8)},l=o.parse(a).name,u=`未知类型，请点击<a href="https://github.com/DIYgod/RSSHub/issues">链接</a>提交issue`,d,f,p,h;if(l.startsWith(`ART`))f=`https://api.cntv.cn/Article/getXinwenNextArticleInfo?serviceId=sjnews&id=${l}&t=json`,p=`ART`;else if(l.startsWith(`PHO`))f=`https://api.cntv.cn/Article/contentinfo?id=${l}&serviceId=sjnews&t=json`,p=`PHO`;else if(l.startsWith(`VIDE`)){let e=o.parse(c).name.split(`-`)[0];f=`https://vdn.apps.cntv.cn/api/getHttpVideoInfo.do?pid=${e}`,p=`VIDE`}else d=u;if(f){let{data:e}=await r({method:`get`,url:f,headers:{"User-Agent":m}});switch(p){case`ART`:d=e.article_content,h=e.article_source;break;case`PHO`:d=``;for(let{photo_url:t,photo_name:n,photo_brief:r}of e.photo_album_list)d+=`
                                    <img src=${t} /><br>
                                    <strong>${n}</strong><br>
                                    ${r}<br>
                                `;h=e.source;break;case`VIDE`:d=`<video src="${e.hls_url}" controls="controls" poster="${c}" style="width: 100%"></video>`,h=e.article_source;break;default:d=u}}return t.description=d,t.author=h,t})));return{title:`央视新闻 ${e}`,link:`https://news.cctv.com/${e}`,description:`央视新闻 ${e}`,item:u}};var g=h;const _={path:`/:category`,categories:[`traditional-media`],example:`/cctv/world`,parameters:{category:`分类名`},features:{requireConfig:!1,requirePuppeteer:!1,antiCrawler:!1,supportBT:!1,supportPodcast:!1,supportScihub:!1},radar:[{source:[`news.cctv.com/:category`]}],name:`专题`,maintainers:[`idealclover`,`xyqfer`],handler:v,description:`| 新闻 | 国内  | 国际  | 社会    | 法治 | 文娱 | 科技 | 生活 | 教育 | 每周质量报告 | 新闻 1+1  |
| ---- | ----- | ----- | ------- | ---- | ---- | ---- | ---- | ---- | ------------ | --------- |
| news | china | world | society | law  | ent  | tech | life | edu  | mzzlbg       | xinwen1j1 |`};async function v(e){let t=e.req.param(`category`);switch(t){case`mzzlbg`:return await l();case`xinwen1j1`:return await p();case`xwlb`:return await a();default:return await g(t)}}export{_ as route};
//# sourceMappingURL=category-B8EiVcUb.js.map