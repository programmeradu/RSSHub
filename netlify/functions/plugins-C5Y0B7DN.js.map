{"version":3,"file":"plugins-C5Y0B7DN.js","names":["route: Route","ofetch"],"sources":["../../lib/routes/obsidian/plugins.ts"],"sourcesContent":["import { Route } from '@/types';\r\n\r\nimport ofetch from '@/utils/ofetch';\r\n\r\nexport const route: Route = {\r\n    path: '/plugins',\r\n    name: 'Obsidian Plugins',\r\n    maintainers: ['DIYgod'],\r\n    categories: ['program-update'],\r\n    example: '/obsidian/plugins',\r\n    handler,\r\n};\r\n\r\nasync function handler() {\r\n    const data = JSON.parse(await ofetch('https://raw.githubusercontent.com/obsidianmd/obsidian-releases/refs/heads/master/community-plugins.json')) as {\r\n        id: string;\r\n        name: string;\r\n        author: string;\r\n        description: string;\r\n        repo: string;\r\n    }[];\r\n    const stats = JSON.parse(await ofetch('https://raw.githubusercontent.com/obsidianmd/obsidian-releases/HEAD/community-plugin-stats.json')) as {\r\n        [key: string]: {\r\n            downloads: number;\r\n            updated: number;\r\n        };\r\n    };\r\n\r\n    return {\r\n        title: 'Obsidian Plugins',\r\n        link: `https://obsidian.md/plugins`,\r\n        item: data.map((item) => ({\r\n            title: item.name,\r\n            description: `${item.description}<br><br>Downloads: ${stats[item.id].downloads}`,\r\n            link: `https://github.com/${item.repo}`,\r\n            guid: item.id,\r\n            pubDate: new Date(stats[item.id].updated),\r\n            author: item.author,\r\n        })),\r\n    };\r\n}\r\n"],"mappings":"2KAIA,MAAaA,EAAe,CACxB,KAAM,WACN,KAAM,mBACN,YAAa,CAAC,UACd,WAAY,CAAC,kBACb,QAAS,oBACT,WAGJ,eAAe,GAAU,CACrB,IAAM,EAAO,KAAK,MAAM,MAAMC,EAAO,4GAO/B,EAAQ,KAAK,MAAM,MAAMA,EAAO,oGAOtC,MAAO,CACH,MAAO,mBACP,KAAM,8BACN,KAAM,EAAK,IAAK,IAAU,CACtB,MAAO,EAAK,KACZ,YAAa,GAAG,EAAK,YAAY,qBAAqB,EAAM,EAAK,IAAI,YACrE,KAAM,sBAAsB,EAAK,OACjC,KAAM,EAAK,GACX,QAAS,IAAI,KAAK,EAAM,EAAK,IAAI,SACjC,OAAQ,EAAK"}