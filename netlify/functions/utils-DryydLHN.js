import{__dirname as e,init_esm_shims as t}from"./esm-shims-Dqvxr0BZ.js";import{cache_default as n}from"./cache-kimkMTWJ.js";import{art as r}from"./render-CxhTJIsl.js";import{parseDate as i}from"./parse-date-Bgabdhlb.js";import{ofetch_default as a}from"./ofetch-Bzt0BXUH.js";import o from"node:path";import{load as s}from"cheerio";t();const c=`https://visionias.in`;async function l(t,c){return t.link===``?t:await n.tryGet(t.link,async()=>{let n=await a(t.link||``),l=s(n),d=String(l(`meta[property="article:published_time"]`).attr(`content`)),f=String(l(`meta[property="article:modified_time"]`).attr(`content`)),p=l(`meta[property="article:tag"]`).toArray().map(e=>l(e).attr(`content`)),m=l(c),h=m.find(`div.space-y-4 > h1`).text(),g=m.find(`div.flex > div.w-full`),_=g.find(`[x-data^="{isShortArticleOpen"]`),v=g.find(`[x-data^="{isSectionOpen"]`);if(_.length!==0){let n=_.toArray().map(n=>{let a=l(n),s=a.find(`a > div > h2`).text().trim(),c=a.find(`a`).attr(`href`),f=u(a.html()),p=a.find(`ul > li:contains("Tags :")`)?.nextAll(`li`).toArray().map(e=>l(e).text()),m=r(o.join(e,`templates/description-8c28334b.art`),{heading:s,articleContent:f});return{title:`${s} | ${h}`,pubDate:i(d),category:p,description:m,link:`${t.link}${c}`,author:`Vision IAS`}});return n}else if(v.length===0){let n=u(g.html()),a=r(o.join(e,`templates/description-8c28334b.art`),{heading:h,articleContent:n});return{title:t.title,pubDate:i(d),category:p,description:a,link:t.link,updated:f?i(f):null,author:`Vision IAS`}}else{let n=v.toArray().map(t=>{let n=l(t),i=n.find(`a > div > h2`).text().trim(),a=u(n.html(),`div.ck-content`),s=r(o.join(e,`templates/description-sub-8597a313.art`),{heading:i,articleContent:a});return{description:s}}),a=r(o.join(e,`templates/description-8c28334b.art`),{heading:h,subItems:n});return{title:h,pubDate:i(d),category:p,description:a,link:t.link,updated:f?i(f):null,author:`Vision IAS`}}})}function u(e,t=`div.ck-content`){let n=s(e,null,!1),r=n(e),i=r.find(String(t));i.find(`figure`).each((e,t)=>{n(t).css(`width`,``)});let a=i.html();return a}export{c as baseUrl,l as extractNews};
//# sourceMappingURL=utils-DryydLHN.js.map