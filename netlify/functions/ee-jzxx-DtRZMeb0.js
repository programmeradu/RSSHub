import"./esm-shims-Dqvxr0BZ.js";import"./config-Dl8a1sIg.js";import"./logger-CWOoofbD.js";import"./dist-IvUHtNe1.js";import"./helpers-DzX-lcQO.js";import{cache_default as e}from"./cache-kimkMTWJ.js";import{parseDate as t}from"./parse-date-Bgabdhlb.js";import"./ofetch-Bzt0BXUH.js";import{got_default as n}from"./got-CdvI2yKX.js";import{timezone as r}from"./timezone-BrNu6iXe.js";import{load as i}from"cheerio";const a={path:`/ee/jzxx/:category?`,categories:[`university`],example:`/xjtu/ee/jzxx/bks`,parameters:{category:"类别：`bks`，默认为首页，详情在描述中"},features:{requireConfig:!1,requirePuppeteer:!1,antiCrawler:!1,supportBT:!1,supportPodcast:!1,supportScihub:!1},radar:[{source:[`ee.xjtu.edu.cn/jzxx/:category?.htm`]}],name:`电气学院通知`,maintainers:[`riverflows2333`],handler:o,description:`栏目类型

| 主页 | 本科生 | 研究生 | 科研学术 | 采购招标 | 招聘就业 | 行政办公
| --- | ----- | ----- | ------ | ------- | ------ | ------
|  -  |  bks  |  yjs  |  kyxs  |   cgzb  |  zpjy  | xzbg  `};async function o(a){let o=a.req.param(`category`)??``,s=`https://ee.xjtu.edu.cn`,c=[`bks`,`yjs`,`kyxs`,`cgzb`,`zpjy`,`xzbg`].includes(o)?`${s}/jzxx/${o}.htm`:`${s}/jzxx.htm`,l=await n(c),u=i(l.data),d=u(`.list .wow.fadeInUp`).toArray().map(e=>{let t=u(e),n=t.find(`a`),r=n.text(),i=n.attr(`href`);return i?{title:r,link:new URL(i,s).href}:null}).filter(e=>e!==null),f=await Promise.all(d.map(a=>e.tryGet(a.link,async()=>{let e=await n(a.link),o=i(e.data),s=o(`div.art-tit.cont-tit`),c=s.find(`p span:nth-child(1)`).text().replace(`发布时间：`,``),l=r(t(c),8),d=o(`div.art-body.wow.fadeInUp`).clone().find(`ul li`).each(function(){let e=u(this),t=e.html()?.replace(/已下载[\s\S]*?<\/span>次/g,``)??``;e.html(t.replace(/<\/a>\s*$/,`</a>`))}).end().html();return{title:o(`div.art-tit.cont-tit`).find(`h3`).text(),pubDate:l,link:a.link,guid:a.link,description:d}}))),p={bks:`本科生`,yjs:`研究生`,kyxs:`科研学术`,cgzb:`采购招标`,zpjy:`招聘就业`,xzbg:`行政办公`};return{title:`西安交通大学电气学院通知 - ${p[o]||`通知首页`}`,link:c,item:f}}export{a as route};
//# sourceMappingURL=ee-jzxx-DtRZMeb0.js.map