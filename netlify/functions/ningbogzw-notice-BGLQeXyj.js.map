{"version":3,"file":"ningbogzw-notice-BGLQeXyj.js","names":["route: Route","got"],"sources":["../../lib/routes/gov/zj/ningbogzw-notice.ts"],"sourcesContent":["import { Route } from '@/types';\r\nimport got from '@/utils/got';\r\nimport { load } from 'cheerio';\r\nimport { parseDate } from '@/utils/parse-date';\r\n\r\nexport const route: Route = {\r\n    path: '/zj/ningbogzw-notice/:colId?',\r\n    categories: ['government'],\r\n    example: '/gov/zj/ningbogzw-notice/1229116730',\r\n    parameters: {\r\n        colId: '公告分类id、详细信息点击源网站http://gzw.ningbo.gov.cn/请求中寻找',\r\n    },\r\n    radar: [\r\n        {\r\n            source: ['gzw.ningbo.gov.cn/col/col1229116730/index.html'],\r\n            target: '/zj/ningbogzw-notice/:colId?',\r\n        },\r\n    ],\r\n    name: '宁波市国资委-公告',\r\n    url: 'gzw.ningbo.gov.cn',\r\n    maintainers: ['HaoyuLee'],\r\n    description: `\r\n| 公告类别         | colId |\r\n| ------------ | -- |\r\n| 首页-市属国企招聘信息-招聘公告     | 1229116730  |\r\n    `,\r\n    async handler(ctx) {\r\n        const { colId = '1229116730' } = ctx.req.param();\r\n        const url = `http://gzw.ningbo.gov.cn/col/col${colId}/index.html`;\r\n        const { data: response } = await got(url);\r\n        const noticeCate = load(response)('.List-topic .text-tag').text().trim();\r\n        const reg = /<li><a href=\".*\" target=\"_blank\">.*<\\/li>/g;\r\n        const item = response.match(reg).map((line) => {\r\n            const $ = load(line);\r\n            const title = $('a');\r\n            return {\r\n                title: `宁波市国资委-${noticeCate}:${title.text()}`,\r\n                link: `http://gzw.ningbo.gov.cn${title.attr('href')}`,\r\n                pubDate: parseDate($('p').text().replaceAll(/\\[|]/g, '')),\r\n                author: '宁波市国资委',\r\n                description: title.text(),\r\n            };\r\n        });\r\n        return {\r\n            title: '宁波市国资委',\r\n            link: url,\r\n            item,\r\n        };\r\n    },\r\n};\r\n"],"mappings":"oTAKA,MAAaA,EAAe,CACxB,KAAM,+BACN,WAAY,CAAC,cACb,QAAS,sCACT,WAAY,CACR,MAAO,kDAEX,MAAO,CACH,CACI,OAAQ,CAAC,kDACT,OAAQ,iCAGhB,KAAM,YACN,IAAK,oBACL,YAAa,CAAC,YACd,YAAa;;;;MAKb,MAAM,QAAQ,EAAK,CACf,GAAM,CAAE,QAAQ,cAAiB,EAAI,IAAI,QACnC,EAAM,mCAAmC,EAAM,aAC/C,CAAE,KAAM,GAAa,MAAMC,EAAI,GAC/B,EAAa,EAAK,GAAU,yBAAyB,OAAO,OAC5D,EAAM,6CACN,EAAO,EAAS,MAAM,GAAK,IAAK,GAAS,CAC3C,IAAM,EAAI,EAAK,GACT,EAAQ,EAAE,KAChB,MAAO,CACH,MAAO,UAAU,EAAW,GAAG,EAAM,SACrC,KAAM,2BAA2B,EAAM,KAAK,UAC5C,QAAS,EAAU,EAAE,KAAK,OAAO,WAAW,QAAS,KACrD,OAAQ,SACR,YAAa,EAAM,UAG3B,MAAO,CACH,MAAO,SACP,KAAM,EACN"}