import{__dirname as e,init_esm_shims as t}from"./esm-shims-Dqvxr0BZ.js";import"./config-Dl8a1sIg.js";import"./logger-CWOoofbD.js";import"./dist-IvUHtNe1.js";import{cache_default as n}from"./cache-kimkMTWJ.js";import{art as r}from"./render-CxhTJIsl.js";import{parseDate as i}from"./parse-date-Bgabdhlb.js";import{ofetch_default as a}from"./ofetch-Bzt0BXUH.js";import{ViewType as o}from"./types-A5bA50Mg.js";import s from"node:path";import{load as c}from"cheerio";t();const l=async t=>{let{device:o,sort:l,searchParams:u}=t.req.param(),d=Number.parseInt(t.req.query(`limit`)??`30`,10),f=`https://amazfitwatchfaces.com`,p=new URL(`${o}/${l}${u?`?${u}`:``}`,f).href,m=await a(p),h=c(m),g=h(`html`).attr(`lang`)??`en`,_=[];return _=h(`div.wf-panel`).slice(0,d).toArray().map(t=>{let n=h(t),i=n.prop(`title`),a=n.find(`img.wf-img`).attr(`src`),o=r(s.join(e,`templates/description-6d4e805c.art`),{images:a?[{src:a,alt:i}]:void 0}),c=n.find(`a.wf-act`).attr(`href`),l=n.find(`div.wf-comp code`).toArray(),u=[...new Set(l.map(e=>h(e).text()).filter(Boolean))],d=n.find(`div.wf-user a`).toArray(),p=d.map(e=>{let t=h(e);return{name:t.text(),url:t.attr(`href`)?new URL(t.attr(`href`),f).href:void 0,avatar:void 0}}),m={title:i,description:o,link:c?new URL(c,f).href:void 0,category:u,author:p,content:{html:o,text:o},image:a,banner:a,language:g};return m}),_=(await Promise.all(_.map(t=>t.link?n.tryGet(t.link,async()=>{let n=await a(t.link),o=c(n),l=o(`div.page-title h1`).text(),u=o(`img#watchface-preview`).attr(`src`),d=r(s.join(e,`templates/description-6d4e805c.art`),{images:u?[{src:u,alt:l}]:void 0,description:o(`div.unicodebidi`).html()}),p=o(`i.fa-calendar`).parent().find(`span`).text(),m=o(`.title`).attr(`href`),h=o(`div.mdesc a.btn-sm`).toArray(),_=[...new Set(h.map(e=>o(e).text()).filter(Boolean))],v=o(`div.wf-userinfo-name`).toArray(),y=v.map(e=>{let t=o(e).find(`a.wf-author-h`);return{name:t.text(),url:t.attr(`href`)?new URL(t.attr(`href`),f).href:void 0,avatar:t.find(`img.wf-userpic`).attr(`src`)}}),b=o(`i.fa-clock-o`).parent().find(`span`).text(),x={title:l,description:d,pubDate:p?i(p,`DD.MM.YYYY HH:mm`):t.pubDate,link:m?new URL(m,f).href:t.link,category:_,author:y,content:{html:d,text:d},image:u,banner:u,updated:b?i(b,`DD.MM.YYYY HH:mm`):t.updated,language:g};return{...t,...x}}):t))).filter(e=>!0),{title:h(`title`).text(),description:h(`meta[property="og:description"]`).attr(`content`),link:p,item:_,allowEmpty:!0,image:h(`img.mainlogolg`).attr(`src`)?new URL(h(`img.mainlogolg`).attr(`src`),f).href:void 0,author:h(`meta[property="og:site_name"]`).attr(`content`),language:g,id:p}},u={path:`/:device/:sort/:searchParams?`,name:`Watch Faces`,url:`amazfitwatchfaces.com`,maintainers:[`nczitzk`],handler:l,example:`/amazfitwatchfaces/amazfit-x/fresh`,parameters:{device:{description:`Device Id`,options:[{label:`Amazfit X`,value:`amazfit-x`},{label:`Amazfit Band`,value:`amazfit-band`},{label:`Amazfit Bip`,value:`bip`},{label:`Amazfit Active`,value:`active`},{label:`Amazfit Balance`,value:`balance`},{label:`Amazfit Cheetah`,value:`cheetah`},{label:`Amazfit Falcon`,value:`falcon`},{label:`Amazfit GTR`,value:`gtr`},{label:`Amazfit GTS`,value:`gts`},{label:`Amazfit T-Rex`,value:`t-rex`},{label:`Amazfit Stratos`,value:`pace`},{label:`Amazfit Verge Lite`,value:`verge-lite`},{label:`Haylou Watches`,value:`haylou`},{label:`Huawei Watches`,value:`huawei-watch-gt`},{label:`Xiaomi Mi Band 4`,value:`mi-band-4`},{label:`Xiaomi Mi Band 5`,value:`mi-band-5`},{label:`Xiaomi Mi Band 6`,value:`mi-band-6`},{label:`Xiaomi Mi Band 7`,value:`mi-band-7`},{label:`Xiaomi Smart Band 8`,value:`mi-band`},{label:`Xiaomi Smart Band 9`,value:`mi-band`}]},sort:{description:`Sort By`,options:[{label:`Fresh`,value:`fresh`},{label:`Updated`,value:`updated`},{label:`Random`,value:`random`},{label:`Top`,value:`top`}]},searchParams:{description:`Search Params`}},description:`:::tip
If you subscribe to [Updated watch faces for Amazfit X](https://amazfitwatchfaces.com/amazfit-x/updated)，where the URL is \`https://amazfitwatchfaces.com/amazfit-x/updated\`, extract the part \`https://amazfitwatchfaces.com/\` to the end, which is \`amazfit-x/updated\`, and use it as the parameter to fill in. Therefore, the route will be [\`/amazfitwatchfaces/amazfit-x/updated\`](https://rsshub.app/amazfitwatchfaces/amazfit-x/updated).

If you subscribe to [TOP for the last 6 months (Only new) - Xiaomi Smart Band 9](https://amazfitwatchfaces.com/mi-band/top?compatible=Smart_Band_9&topof=6months)，where the URL is \`https://amazfitwatchfaces.com/mi-band/top?compatible=Smart_Band_9&topof=6months\`, extract the part \`https://amazfitwatchfaces.com/\` to the end, which is \`mi-band/top\`, and use it as the parameter to fill in. Therefore, the route will be [\`/amazfitwatchfaces/mi-band/top/compatible=Smart_Band_9&topof=6months\`](https://rsshub.app/amazfitwatchfaces/mi-band/top/compatible=Smart_Band_9&topof=6months).

:::

<details>
  <summary>More devices</summary>

| Device Name                                                                                | Device Id       |
| ------------------------------------------------------------------------------------------ | --------------- |
| [Amazfit X](https://amazfitwatchfaces.com/amazfit-x/fresh)                                 | [amazfit-x](https://rsshub.app/amazfitwatchfaces/amazfit-x/fresh) |
| [Amazfit Band](https://amazfitwatchfaces.com/amazfit-band/fresh)                           | [amazfit-band](https://rsshub.app/amazfitwatchfaces/amazfit-band/fresh) |
| [Amazfit Bip](https://amazfitwatchfaces.com/bip/fresh)                                     | [bip](https://rsshub.app/amazfitwatchfaces/bip/fresh) |
| [Amazfit Active](https://amazfitwatchfaces.com/active/fresh)                               | [active](https://rsshub.app/amazfitwatchfaces/active/fresh) |
| [Amazfit Balance](https://amazfitwatchfaces.com/balance/fresh)                             | [balance](https://rsshub.app/amazfitwatchfaces/balance/fresh) |
| [Amazfit Cheetah](https://amazfitwatchfaces.com/cheetah/fresh)                             | [cheetah](https://rsshub.app/amazfitwatchfaces/cheetah/fresh) |
| [Amazfit Falcon](https://amazfitwatchfaces.com/falcon/fresh)                               | [falcon](https://rsshub.app/amazfitwatchfaces/falcon/fresh) |
| [Amazfit GTR](https://amazfitwatchfaces.com/gtr/fresh)                                     | [gtr](https://rsshub.app/amazfitwatchfaces/gtr/fresh) |
| [Amazfit GTS](https://amazfitwatchfaces.com/gts/fresh)                                     | [gts](https://rsshub.app/amazfitwatchfaces/gts/fresh) |
| [Amazfit T-Rex](https://amazfitwatchfaces.com/t-rex/fresh)                                 | [t-rex](https://rsshub.app/amazfitwatchfaces/t-rex/fresh) |
| [Amazfit Stratos](https://amazfitwatchfaces.com/pace/fresh)                                | [pace](https://rsshub.app/amazfitwatchfaces/pace/fresh) |
| [Amazfit Verge Lite](https://amazfitwatchfaces.com/verge-lite/fresh)                       | [verge-lite](https://rsshub.app/amazfitwatchfaces/verge-lite/fresh) |
| [Haylou Watches](https://amazfitwatchfaces.com/haylou/fresh)                               | [haylou](https://rsshub.app/amazfitwatchfaces/haylou/fresh) |
| [Huawei Watches](https://amazfitwatchfaces.com/huawei-watch-gt/fresh)                      | [huawei-watch-gt](https://rsshub.app/amazfitwatchfaces/huawei-watch-gt/fresh) |
| [Xiaomi Mi Band 4](https://amazfitwatchfaces.com/mi-band-4/fresh)                          | [mi-band-4](https://rsshub.app/amazfitwatchfaces/mi-band-4/fresh) |
| [Xiaomi Mi Band 5](https://amazfitwatchfaces.com/mi-band-5/fresh)                          | [mi-band-5](https://rsshub.app/amazfitwatchfaces/mi-band-5/fresh) |
| [Xiaomi Mi Band 6](https://amazfitwatchfaces.com/mi-band-6/fresh)                          | [mi-band-6](https://rsshub.app/amazfitwatchfaces/mi-band-6/fresh) |
| [Xiaomi Mi Band 7](https://amazfitwatchfaces.com/mi-band-7/fresh)                          | [mi-band-7](https://rsshub.app/amazfitwatchfaces/mi-band-7/fresh) |
| [Xiaomi Smart Band 8](https://amazfitwatchfaces.com/mi-band/fresh?compatible=Smart_Band_8) | [mi-band](https://rsshub.app/amazfitwatchfaces/mi-band/fresh/compatible=Smart_Band_8) |
| [Xiaomi Smart Band 9](https://amazfitwatchfaces.com/mi-band/fresh?compatible=Smart_Band_9) | [mi-band](https://rsshub.app/amazfitwatchfaces/mi-band/fresh/compatible=Smart_Band_9) |

</details>
`,categories:[`program-update`],features:{requireConfig:!1,requirePuppeteer:!1,antiCrawler:!1,supportRadar:!0,supportBT:!1,supportPodcast:!1,supportScihub:!1},radar:[{source:[`amazfitwatchfaces.com/:device/:sort`],target:e=>{let t=e.device,n=e.sort;return`/amazfitwatchfaces${t?`/${t}${n?`/${n}`:``}`:``}`}},{title:`Fresh watch faces for Amazfit X`,source:[`amazfitwatchfaces.com/amazfit-x/fresh`],target:`/amazfit-x/fresh`},{title:`Fresh watch faces for Amazfit Band`,source:[`amazfitwatchfaces.com/amazfit-band/fresh`],target:`/amazfit-band/fresh`},{title:`Fresh watch faces for Amazfit Bip`,source:[`amazfitwatchfaces.com/bip/fresh`],target:`/bip/fresh`},{title:`Fresh watch faces for Amazfit Active`,source:[`amazfitwatchfaces.com/active/fresh`],target:`/active/fresh`},{title:`Fresh watch faces for Amazfit Balance`,source:[`amazfitwatchfaces.com/balance/fresh`],target:`/balance/fresh`},{title:`Fresh watch faces for Amazfit Cheetah`,source:[`amazfitwatchfaces.com/cheetah/fresh`],target:`/cheetah/fresh`},{title:`Fresh watch faces for Amazfit Falcon`,source:[`amazfitwatchfaces.com/falcon/fresh`],target:`/falcon/fresh`},{title:`Fresh watch faces for Amazfit GTR`,source:[`amazfitwatchfaces.com/gtr/fresh`],target:`/gtr/fresh`},{title:`Fresh watch faces for Amazfit GTS`,source:[`amazfitwatchfaces.com/gts/fresh`],target:`/gts/fresh`},{title:`Fresh watch faces for Amazfit T-Rex`,source:[`amazfitwatchfaces.com/t-rex/fresh`],target:`/t-rex/fresh`},{title:`Fresh watch faces for Amazfit Stratos`,source:[`amazfitwatchfaces.com/pace/fresh`],target:`/pace/fresh`},{title:`Fresh watch faces for Amazfit Verge Lite`,source:[`amazfitwatchfaces.com/verge-lite/fresh`],target:`/verge-lite/fresh`},{title:`Fresh watch faces for Haylou Watches`,source:[`amazfitwatchfaces.com/haylou/fresh`],target:`/haylou/fresh`},{title:`Fresh watch faces for Huawei Watches`,source:[`amazfitwatchfaces.com/huawei-watch-gt/fresh`],target:`/huawei-watch-gt/fresh`},{title:`Fresh watch faces for Xiaomi Mi Band 4`,source:[`amazfitwatchfaces.com/mi-band-4/fresh`],target:`/mi-band-4/fresh`},{title:`Fresh watch faces for Xiaomi Mi Band 5`,source:[`amazfitwatchfaces.com/mi-band-5/fresh`],target:`/mi-band-5/fresh`},{title:`Fresh watch faces for Xiaomi Mi Band 6`,source:[`amazfitwatchfaces.com/mi-band-6/fresh`],target:`/mi-band-6/fresh`},{title:`Fresh watch faces for Xiaomi Mi Band 7`,source:[`amazfitwatchfaces.com/mi-band-7/fresh`],target:`/mi-band-7/fresh`},{title:`Fresh watch faces for Xiaomi Smart Band 8`,source:[`amazfitwatchfaces.com/mi-band/fresh`],target:`/mi-band/fresh/compatible=Smart_Band_8`},{title:`Fresh watch faces for Xiaomi Smart Band 9`,source:[`amazfitwatchfaces.com/mi-band/fresh`],target:`/mi-band/fresh/compatible=Smart_Band_9`}],view:o.Articles};export{l as handler,u as route};
//# sourceMappingURL=amazfitwatchfaces-BbGXXfSX.js.map