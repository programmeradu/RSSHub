import"./esm-shims-Dqvxr0BZ.js";import"./config-Dl8a1sIg.js";import"./logger-CWOoofbD.js";import"./dist-IvUHtNe1.js";import"./helpers-DzX-lcQO.js";import{cache_default as e}from"./cache-kimkMTWJ.js";import{parseDate as t}from"./parse-date-Bgabdhlb.js";import"./ofetch-Bzt0BXUH.js";import{got_default as n}from"./got-CdvI2yKX.js";import{invalid_parameter_default as r}from"./invalid-parameter-CUJdROXf.js";import{ProcessItem as i,rootUrl as a}from"./utils-Ct90p35-.js";const o={24:{title:`24小时热榜`,key:`homeData.data.hotlist.data`},renqi:{title:`资讯人气榜`,key:`hotListData.topList`},zonghe:{title:`资讯综合榜`,key:`hotListData.hotList`},shoucang:{title:`资讯综合榜`,key:`hotListData.collectList`}},s={path:`/hot-list/:category?`,categories:[`new-media`],example:`/36kr/hot-list`,parameters:{category:`分类，默认为24小时热榜`},features:{requireConfig:!1,requirePuppeteer:!1,antiCrawler:!1,supportBT:!1,supportPodcast:!1,supportScihub:!1},radar:[{source:[`36kr.com/hot-list/:category`,`36kr.com/`],target:`/hot-list/:category`}],name:`资讯热榜`,maintainers:[`nczitzk`],handler:l,description:`| 24 小时热榜 | 资讯人气榜 | 资讯综合榜 | 资讯收藏榜 |
| ----------- | ---------- | ---------- | ---------- |
| 24          | renqi      | zonghe     | shoucang   |`},c=(e,t)=>{let n=e,r=t.split(`.`);for(let e of r)n=n&&n[e];return n};async function l(s){let l=s.req.param(`category`)??`24`;if(!o[l])throw new r(`This category does not exist. Please refer to the documentation for the correct usage.`);let u=l===`24`?a:`${a}/hot-list/catalog`,d=await n({method:`get`,url:u}),f=c(JSON.parse(d.data.match(/window.initialState=({.*})/)[1]),o[l].key),p=f.slice(0,s.req.query(`limit`)?Number.parseInt(s.req.query(`limit`)):10).filter(e=>e.itemType!==0).map(e=>(e=e.templateMaterial??e,{title:e.widgetTitle.replaceAll(/<\/?em>/g,``),author:e.authorName,pubDate:t(e.publishTime),link:`${a}/p/${e.itemId}`,description:e.summary}));return p=await Promise.all(p.map(t=>i(t,e.tryGet))),{title:`36氪 - ${o[l].title}`,link:u,item:p}}export{s as route};
//# sourceMappingURL=hot-list-BPqLRS7R.js.map