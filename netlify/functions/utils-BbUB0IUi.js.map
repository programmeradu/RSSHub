{"version":3,"file":"utils-BbUB0IUi.js","names":["cache","ofetch"],"sources":["../../lib/routes/mirrormedia/utils.ts"],"sourcesContent":["import { load } from 'cheerio';\r\nimport cache from '@/utils/cache';\r\nimport ofetch from '@/utils/ofetch';\r\n\r\nexport function getArticle(item) {\r\n    return cache.tryGet(item.link, async () => {\r\n        const detailResponse = await ofetch(item.link);\r\n\r\n        const content = load(detailResponse);\r\n\r\n        item.description = item.link.includes('external')\r\n            ? content(':is([class^=external-article-brief],[class^=external-article-content])').html()\r\n            : content(':is([class^=brief__BriefContainer],[class^=article-content__Wrapper])').html();\r\n\r\n        item.category = [...item.category, ...(content(\"meta[name='keywords']\").attr('content') ?? '').split(',')];\r\n\r\n        return item;\r\n    });\r\n}\r\n"],"mappings":"yIAIA,SAAgB,EAAW,EAAM,CAC7B,OAAOA,EAAM,OAAO,EAAK,KAAM,SAAY,CACvC,IAAM,EAAiB,MAAMC,EAAO,EAAK,MAEnC,EAAU,EAAK,GAQrB,MANA,GAAK,YAAc,EAAK,KAAK,SAAS,YAChC,EAAQ,0EAA0E,OAClF,EAAQ,yEAAyE,OAEvF,EAAK,SAAW,CAAC,GAAG,EAAK,SAAU,IAAI,EAAQ,yBAAyB,KAAK,YAAc,IAAI,MAAM,MAE9F"}