{"version":3,"file":"tag-Dw_m9sGl.js","names":["route: Route","EhAPI","cache"],"sources":["../../lib/routes/ehentai/tag.ts"],"sourcesContent":["import { Route } from '@/types';\r\nimport cache from '@/utils/cache';\r\nimport EhAPI from './ehapi';\r\n\r\nexport const route: Route = {\r\n    path: '/tag/:tag/:page?/:routeParams?',\r\n    categories: ['picture'],\r\n    example: '/ehentai/tag/language:chinese/0/bittorrent=true&embed_thumb=false',\r\n    parameters: { tag: 'Tag', page: 'Page number, set 0 to get latest', routeParams: 'Additional parameters, see the table above' },\r\n    features: {\r\n        requireConfig: false,\r\n        requirePuppeteer: false,\r\n        antiCrawler: true,\r\n        supportBT: true,\r\n        supportPodcast: false,\r\n        supportScihub: false,\r\n        nsfw: true,\r\n    },\r\n    name: 'Tag',\r\n    maintainers: ['yindaheng98', 'syrinka'],\r\n    handler,\r\n};\r\n\r\nasync function handler(ctx) {\r\n    const page = ctx.req.param('page');\r\n    const tag = ctx.req.param('tag');\r\n    const routeParams = new URLSearchParams(ctx.req.param('routeParams'));\r\n    const bittorrent = routeParams.get('bittorrent') || false;\r\n    const embed_thumb = routeParams.get('embed_thumb') || false;\r\n    const items = await EhAPI.getTagItems(cache, tag, page, bittorrent, embed_thumb);\r\n\r\n    return EhAPI.from_ex\r\n        ? {\r\n              title: tag + ' - ExHentai Tag',\r\n              link: `https://exhentai.org/tag/${tag}`,\r\n              item: items,\r\n          }\r\n        : {\r\n              title: tag + ' - E-Hentai Tag',\r\n              link: `https://e-hentai.org/tag/${tag}`,\r\n              item: items,\r\n          };\r\n}\r\n"],"mappings":"iVAIA,MAAaA,EAAe,CACxB,KAAM,iCACN,WAAY,CAAC,WACb,QAAS,oEACT,WAAY,CAAE,IAAK,MAAO,KAAM,mCAAoC,YAAa,8CACjF,SAAU,CACN,cAAe,GACf,iBAAkB,GAClB,YAAa,GACb,UAAW,GACX,eAAgB,GAChB,cAAe,GACf,KAAM,IAEV,KAAM,MACN,YAAa,CAAC,cAAe,WAC7B,WAGJ,eAAe,EAAQ,EAAK,CACxB,IAAM,EAAO,EAAI,IAAI,MAAM,QACrB,EAAM,EAAI,IAAI,MAAM,OACpB,EAAc,IAAI,gBAAgB,EAAI,IAAI,MAAM,gBAChD,EAAa,EAAY,IAAI,eAAiB,GAC9C,EAAc,EAAY,IAAI,gBAAkB,GAChD,EAAQ,MAAMC,EAAM,YAAYC,EAAO,EAAK,EAAM,EAAY,GAEpE,OAAOD,EAAM,QACP,CACI,MAAO,EAAM,kBACb,KAAM,4BAA4B,IAClC,KAAM,GAEV,CACI,MAAO,EAAM,kBACb,KAAM,4BAA4B,IAClC,KAAM"}