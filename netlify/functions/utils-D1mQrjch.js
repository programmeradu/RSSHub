import{__dirname as e,init_esm_shims as t}from"./esm-shims-Dqvxr0BZ.js";import{cache_default as n}from"./cache-kimkMTWJ.js";import{art as r}from"./render-CxhTJIsl.js";import{parseDate as i}from"./parse-date-Bgabdhlb.js";import{got_default as a}from"./got-CdvI2yKX.js";import o from"node:path";import{load as s}from"cheerio";t();const c=`http://www.caareviews.org`,l=async e=>{let t=await a(e),n=s(t.data),r=n(`#infinite-content > div`).toArray().map(e=>({title:n(e).find(`div.title`).text().trim(),link:new URL(n(e).find(`div.title > em > a`).attr(`href`),c).href,author:n(e).find(`div.contributors`).text().trim()}));return r},u=(t,l)=>Promise.all(l.map(t=>n.tryGet(t.link,async()=>{let n=await a(t.link),l=s(n.data),u=new URL(l(`div.cover > a`).attr(`href`),c).href,d=l(`div.content.full-review`).html();return t.description=r(o.join(e,`templates/utils-6a14c53b.art`),{coverUrl:u,content:d}),l(`div.review_heading`).remove(),t.pubDate=i(l(`div.header-text > div.clearfix`).text()),t.doi=l(`div.crossref > a`).attr(`href`).replace(`http://dx.doi.org/`,``),t})));export{u as getItems,l as getList,c as rootUrl};
//# sourceMappingURL=utils-D1mQrjch.js.map