{"version":3,"file":"home-DMSa_bt8.js","names":["route: Route","utils","api"],"sources":["../../lib/routes/twitter/home.ts"],"sourcesContent":["import { Route } from '@/types';\r\nimport utils from './utils';\r\nimport api from './api';\r\n\r\nexport const route: Route = {\r\n    path: '/home/:routeParams?',\r\n    categories: ['social-media'],\r\n    example: '/twitter/home',\r\n    features: {\r\n        requireConfig: [\r\n            {\r\n                name: 'TWITTER_USERNAME',\r\n                description: 'Please see above for details.',\r\n            },\r\n            {\r\n                name: 'TWITTER_PASSWORD',\r\n                description: 'Please see above for details.',\r\n            },\r\n            {\r\n                name: 'TWITTER_AUTH_TOKEN',\r\n                description: 'Please see above for details.',\r\n            },\r\n        ],\r\n        requirePuppeteer: false,\r\n        antiCrawler: false,\r\n        supportBT: false,\r\n        supportPodcast: false,\r\n        supportScihub: false,\r\n    },\r\n    name: 'Home timeline',\r\n    maintainers: ['DIYgod', 'CaoMeiYouRen'],\r\n    handler,\r\n    radar: [\r\n        {\r\n            source: ['x.com/home'],\r\n            target: '/home',\r\n        },\r\n    ],\r\n};\r\n\r\nasync function handler(ctx) {\r\n    // For compatibility\r\n    const { count, include_rts, only_media } = utils.parseRouteParams(ctx.req.param('routeParams'));\r\n    const params = count ? { count } : {};\r\n\r\n    await api.init();\r\n    let data = await api.getHomeTimeline('', params);\r\n    if (!include_rts) {\r\n        data = utils.excludeRetweet(data);\r\n    }\r\n    if (only_media) {\r\n        data = utils.keepOnlyMedia(data);\r\n    }\r\n\r\n    return {\r\n        title: `Twitter following timeline`,\r\n        link: `https://x.com/home`,\r\n        // description: userInfo?.description,\r\n        item: utils.ProcessFeed(ctx, {\r\n            data,\r\n        }),\r\n    };\r\n}\r\n"],"mappings":"4hBAIA,MAAaA,EAAe,CACxB,KAAM,sBACN,WAAY,CAAC,gBACb,QAAS,gBACT,SAAU,CACN,cAAe,CACX,CACI,KAAM,mBACN,YAAa,iCAEjB,CACI,KAAM,mBACN,YAAa,iCAEjB,CACI,KAAM,qBACN,YAAa,kCAGrB,iBAAkB,GAClB,YAAa,GACb,UAAW,GACX,eAAgB,GAChB,cAAe,IAEnB,KAAM,gBACN,YAAa,CAAC,SAAU,gBACxB,UACA,MAAO,CACH,CACI,OAAQ,CAAC,cACT,OAAQ,WAKpB,eAAe,EAAQ,EAAK,CAExB,GAAM,CAAE,QAAO,cAAa,cAAeC,EAAM,iBAAiB,EAAI,IAAI,MAAM,gBAC1E,EAAS,EAAQ,CAAE,SAAU,GAEnC,MAAMC,EAAI,OACV,IAAI,EAAO,MAAMA,EAAI,gBAAgB,GAAI,GAQzC,OAPK,IACD,EAAOD,EAAM,eAAe,IAE5B,IACA,EAAOA,EAAM,cAAc,IAGxB,CACH,MAAO,6BACP,KAAM,qBAEN,KAAMA,EAAM,YAAY,EAAK,CACzB"}