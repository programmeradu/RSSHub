import"./esm-shims-Dqvxr0BZ.js";import"./config-Dl8a1sIg.js";import"./logger-CWOoofbD.js";import"./dist-IvUHtNe1.js";import"./helpers-DzX-lcQO.js";import"./cache-kimkMTWJ.js";import{parseDate as e}from"./parse-date-Bgabdhlb.js";import"./ofetch-Bzt0BXUH.js";import{got_default as t}from"./got-CdvI2yKX.js";import{generateData as n}from"./utils-39ejlYOc.js";import{auth_default as r}from"./auth-DyA-T6Py.js";const i={path:`/xhu/collection/:id`,categories:[`social-media`],example:`/zhihu/xhu/collection/26444956`,parameters:{id:`收藏夹 id, 可在收藏夹页面 URL 中找到`},features:{requireConfig:!1,requirePuppeteer:!1,antiCrawler:!1,supportBT:!1,supportPodcast:!1,supportScihub:!1},radar:[{source:[`www.zhihu.com/collection/:id`]}],name:`xhu - 收藏夹`,maintainers:[`JimenezLi`],handler:a};async function a(i){let a=await r.getCookie(),o=i.req.param(`id`),s=`https://www.zhihu.com/collection/${o}`,c=await t({method:`get`,url:`https://api.zhihuvvv.workers.dev/collections/${o}`,headers:{Referer:`https://api.zhihuvvv.workers.dev`,Cookie:a}}),l=await t({method:`get`,url:`https://api.zhihuvvv.workers.dev/collections/${o}/contents?limit=20&offset=0`,headers:{Referer:`https://api.zhihuvvv.workers.dev`,Cookie:a}}),u=l.data.data;return{title:`知乎收藏夹-${c.data.title}`,description:c.data.description,link:s,item:u.map(t=>{let r=t.url,i=t.author.name,a=e(t.collect_time*1e3),o=``,s=``;switch(t.type){case`article`:o=t.title,s=t.excerpt;break;case`answer`:o=t.question.title,s=t.excerpt;break;case`pin`:{let e=n([t])[0];o=e.title,s=e.description;break}default:throw Error(`Unknown type: ${t.type}`)}return{title:`收藏了内容：${o}`,description:s,author:i,pubDate:a,guid:r,link:r}})}}export{i as route};
//# sourceMappingURL=collection-D-ALRM9P.js.map