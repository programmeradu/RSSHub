import"./esm-shims-Dqvxr0BZ.js";import"./config-Dl8a1sIg.js";import"./logger-CWOoofbD.js";import"./dist-IvUHtNe1.js";import{cache_default as e}from"./cache-kimkMTWJ.js";import"./render-CxhTJIsl.js";import{parseDate as t}from"./parse-date-Bgabdhlb.js";import{ofetch_default as n}from"./ofetch-Bzt0BXUH.js";import"./timezone-BrNu6iXe.js";import{buildApiUrl as r,rootUrl as i}from"./util-BxlxEQ5b.js";import{load as a}from"cheerio";const o={path:`/daily`,name:`AI日报`,url:`www.aibase.com`,maintainers:[`3tuuu`],handler:async o=>{let s=Number.parseInt(o.req.query(`limit`)??`30`,10),c=new URL(`discover`,i).href,l=await n(c),u=a(l),d=u(`img.logo`).prop(`src`),f=d?new URL(d,i).href:``,{aILogListUrl:p}=await r(u),m=await n(p,{headers:{accept:`application/json;charset=utf-8`},query:{pagesize:s,page:1,type:2,isen:0}});if(!m||!m.data)throw Error(`日报数据不存在或为空`);let h=await Promise.all(m.data.slice(0,s).map(async r=>{let i=`https://www.aibase.com/zh/news/${r.Id}`;return await e.tryGet(i,async()=>{let e=await n(i),o=a(e),s=o(`.post-content`).html();if(!s)throw Error(`Empty content: ${i}`);return{title:r.title,link:i,description:s,pubDate:t(r.addtime),author:`AI Base`}})}));return{title:`AI日报`,description:`每天三分钟关注AI行业趋势`,language:`zh-cn`,link:`https://www.aibase.com/zh/daily`,item:h,allowEmpty:!0,image:f,author:`AI Base`}},example:`/aibase/daily`,description:`获取 AI 日报`,categories:[`new-media`],features:{requireConfig:!1,requirePuppeteer:!1,antiCrawler:!1,supportRadar:!0,supportBT:!1,supportPodcast:!1,supportScihub:!1},radar:[{source:[`www.aibase.com/zh/daily`],target:`/daily`}]};export{o as route};
//# sourceMappingURL=daily-CZHhuQwa.js.map