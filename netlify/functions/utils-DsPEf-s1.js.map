{"version":3,"file":"utils-DsPEf-s1.js","names":["got"],"sources":["../../lib/routes/oeeee/utils.ts"],"sourcesContent":["import got from '@/utils/got';\r\nimport { load } from 'cheerio';\r\nimport timezone from '@/utils/timezone';\r\nimport { parseDate } from '@/utils/parse-date';\r\n\r\nconst parseArticle = (item, tryGet) =>\r\n    tryGet(item.link, async () => {\r\n        const detailResponse = await got({\r\n            method: 'get',\r\n            url: item.link,\r\n        });\r\n\r\n        const content = load(detailResponse.data);\r\n\r\n        // nfapp page:\r\n        if (content('.post-cont') && content('.post-cont').html()) {\r\n            content('img').removeAttr('data-width').removeAttr('data-height').removeAttr('class').removeAttr('title').removeAttr('referrerpolicy');\r\n            content('.taglist, .J_ndlogo, .zan-shang, .sourcelist-box, #shareContain, .buyCopyright, .article-info, .icon, .special').remove();\r\n            item.description +=\r\n                content('.post-cont')\r\n                    .html()\r\n                    .replaceAll(/data:image\\S*==\"\\s*\\n*\\s*original=\"/g, '') ?? '';\r\n            if (!item.pubDate) {\r\n                item.pubDate = timezone(parseDate(content('.introduce').text().split()), +8);\r\n            }\r\n        }\r\n        // oeeee news page:\r\n        else if (content('.content') && content('.content').html()) {\r\n            item.description += content('.content').html() ?? '';\r\n        }\r\n        // oeeee news page #2:\r\n        else if (content('.article-conten') && content('.article-conten').html()) {\r\n            item.description += content('.article-conten').html() ?? '';\r\n        }\r\n\r\n        return item;\r\n    });\r\n\r\nexport { parseArticle };\r\n"],"mappings":"sLAKA,MAAM,GAAgB,EAAM,IACxB,EAAO,EAAK,KAAM,SAAY,CAC1B,IAAM,EAAiB,MAAMA,EAAI,CAC7B,OAAQ,MACR,IAAK,EAAK,OAGR,EAAU,EAAK,EAAe,MAuBpC,OApBI,EAAQ,eAAiB,EAAQ,cAAc,QAC/C,EAAQ,OAAO,WAAW,cAAc,WAAW,eAAe,WAAW,SAAS,WAAW,SAAS,WAAW,kBACrH,EAAQ,kHAAkH,SAC1H,EAAK,aACD,EAAQ,cACH,OACA,WAAW,uCAAwC,KAAO,GAC9D,EAAK,UACN,EAAK,QAAU,EAAS,EAAU,EAAQ,cAAc,OAAO,SAAU,KAIxE,EAAQ,aAAe,EAAQ,YAAY,OAChD,EAAK,aAAe,EAAQ,YAAY,QAAU,GAG7C,EAAQ,oBAAsB,EAAQ,mBAAmB,SAC9D,EAAK,aAAe,EAAQ,mBAAmB,QAAU,IAGtD"}