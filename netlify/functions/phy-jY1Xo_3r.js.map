{"version":3,"file":"phy-jY1Xo_3r.js","names":["route: Route","got"],"sources":["../../lib/routes/jlu/phy/index.ts"],"sourcesContent":["import { Route } from '@/types';\r\nimport got from '@/utils/got';\r\nimport { load } from 'cheerio';\r\n\r\nexport const route: Route = {\r\n    path: '/phy/:category/:column/:subcolumn?',\r\n    categories: ['university'],\r\n    example: '/jlu/phy/xzgz/tzgg',\r\n    parameters: {\r\n        category: '分类，为「行政工作」、「科学研究」、「人才培养」的拼音小写首字母。',\r\n        column: '栏目，当分类为「行政工作」时，为「通知公告」、「学院新闻」、「学院文件」的拼音小写首字母。当分类为「科学研究」时，为「科研动态」、「学术活动」的拼音小写首字母。当分类为「人才培养」时。为「本科生教育」、「研究生教育」、「学团工作」的拼音小写首字母。',\r\n        subcolumn: '子栏目。当栏目为「本科生教育」时，为「本科资讯」的拼音大写首字母，或为「教育思想大讨论系列活动」、「培养方案」的拼音小写首字母。当栏目为「研究生教育」时，为「教学通知」的拼音小写首字母。',\r\n    },\r\n    features: {\r\n        requireConfig: false,\r\n        requirePuppeteer: false,\r\n        antiCrawler: false,\r\n        supportBT: false,\r\n        supportPodcast: false,\r\n        supportScihub: false,\r\n    },\r\n    radar: [\r\n        {\r\n            source: ['phy.jlu.edu.cn/:category/:column', 'phy.jlu.edu.cn/:category/:column/:subcolumn'],\r\n        },\r\n    ],\r\n    name: '物理学院',\r\n    maintainers: ['tsurumi-yizhou'],\r\n    url: 'phy.jlu.edu.cn',\r\n    handler: async (ctx) => {\r\n        const { category, column, subcolumn } = ctx.req.param();\r\n        const query = subcolumn ? `${column}/${subcolumn}` : column;\r\n        const response = await got(`https://phy.jlu.edu.cn/${category}/${query}.htm`);\r\n        const $ = load(response.body);\r\n        const list = $('.tit-list ul li');\r\n\r\n        return {\r\n            title: '吉林大学物理学院',\r\n            link: 'https://phy.jlu.edu.cn/',\r\n            description: '吉林大学物理学院',\r\n            item: list.toArray().map((item) => {\r\n                const element = $(item).find('a');\r\n                const title = element.find('.tl-top').find('h3').text().trim();\r\n                const link = element.attr('href')!.replaceAll('../', 'https://phy.jlu.edu.cn/');\r\n                const date = element.find('.tl-top').find('.tl-date');\r\n                const pubDate = date.find('span').text().replaceAll('/', '').trim() + '-' + date.find('b').text();\r\n                return {\r\n                    title,\r\n                    link,\r\n                    pubDate: new Date(pubDate),\r\n                };\r\n            }),\r\n        };\r\n    },\r\n};\r\n"],"mappings":"+PAIA,MAAaA,EAAe,CACxB,KAAM,qCACN,WAAY,CAAC,cACb,QAAS,qBACT,WAAY,CACR,SAAU,oCACV,OAAQ,+HACR,UAAW,iGAEf,SAAU,CACN,cAAe,GACf,iBAAkB,GAClB,YAAa,GACb,UAAW,GACX,eAAgB,GAChB,cAAe,IAEnB,MAAO,CACH,CACI,OAAQ,CAAC,mCAAoC,iDAGrD,KAAM,OACN,YAAa,CAAC,kBACd,IAAK,iBACL,QAAS,KAAO,IAAQ,CACpB,GAAM,CAAE,WAAU,SAAQ,aAAc,EAAI,IAAI,QAC1C,EAAQ,EAAY,GAAG,EAAO,GAAG,IAAc,EAC/C,EAAW,MAAMC,EAAI,0BAA0B,EAAS,GAAG,EAAM,OACjE,EAAI,EAAK,EAAS,MAClB,EAAO,EAAE,mBAEf,MAAO,CACH,MAAO,WACP,KAAM,0BACN,YAAa,WACb,KAAM,EAAK,UAAU,IAAK,GAAS,CAC/B,IAAM,EAAU,EAAE,GAAM,KAAK,KACvB,EAAQ,EAAQ,KAAK,WAAW,KAAK,MAAM,OAAO,OAClD,EAAO,EAAQ,KAAK,QAAS,WAAW,MAAO,2BAC/C,EAAO,EAAQ,KAAK,WAAW,KAAK,YACpC,EAAU,EAAK,KAAK,QAAQ,OAAO,WAAW,IAAK,IAAI,OAAS,IAAM,EAAK,KAAK,KAAK,OAC3F,MAAO,CACH,QACA,OACA,QAAS,IAAI,KAAK"}