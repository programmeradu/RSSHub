import"./esm-shims-Dqvxr0BZ.js";import{config as e}from"./config-Dl8a1sIg.js";import"./logger-CWOoofbD.js";import"./dist-IvUHtNe1.js";import{cache_default as t}from"./cache-kimkMTWJ.js";import"./render-CxhTJIsl.js";import{ofetch_default as n}from"./ofetch-Bzt0BXUH.js";import{baseUrl as r,processCreator as i,processWork as a}from"./utils-Bzyzoa63.js";const o={new_art_works:`新着作品 (Illust)`,new_voice_works:`新着作品 (Voice)`,new_novel_works:`新着作品 (Novel)`,new_video_works:`新着作品 (Video)`,new_music_works:`新着作品 (Music)`,new_correction_works:`新着作品 (Advice)`,new_comic_works:`新着作品 (Comic)`,popular_works:`人気の作品 (Popular)`,popular_creators:`人気クリエイター`,new_creators:`新着クリエイター`},s=new Set([`new_art_works`,`new_voice_works`,`new_novel_works`,`new_video_works`,`new_music_works`,`new_correction_works`,`new_comic_works`,`popular_works`]),c={path:`/:category`,categories:[`picture`],example:`/skeb/new_art_works`,parameters:{category:`Category, the div id of the section title on the homepage.`},features:{requireConfig:!1,requirePuppeteer:!1,antiCrawler:!1,supportBT:!1,supportPodcast:!1,supportScihub:!1},name:`Skeb`,maintainers:[`SnowAgar25`],handler:l,radar:[{title:`新着作品 (Illust)`,source:[`skeb.jp`],target:`/new_art_works`},{title:`新着作品 (Voice)`,source:[`skeb.jp`],target:`/new_voice_works`},{title:`新着作品 (Novel)`,source:[`skeb.jp`],target:`/new_novel_works`},{title:`新着作品 (Video)`,source:[`skeb.jp`],target:`/new_video_works`},{title:`新着作品 (Music)`,source:[`skeb.jp`],target:`/new_music_works`},{title:`新着作品 (Advice)`,source:[`skeb.jp`],target:`/new_correction_works`},{title:`新着作品 (Comic)`,source:[`skeb.jp`],target:`/new_comic_works`},{title:`人気の作品 (Popular)`,source:[`skeb.jp`],target:`/popular_works`},{title:`人気クリエイター`,source:[`skeb.jp`],target:`/popular_creators`},{title:`新着クリエイター`,source:[`skeb.jp`],target:`/new_creators`}]};async function l(c){let l=c.req.param(`category`)||`new_art_works`;if(!(l in o))throw Error(`Invalid category`);let u=`${r}/api`,d=await t.tryGet(u,async()=>{let e=await n(u);return e},e.cache.routeExpire,!1);if(!d||typeof d!=`object`)throw Error(`Invalid data received from API`);let f=await t.tryGet(l,async()=>{if(!(l in d)||!Array.isArray(d[l]))return[];let e=s.has(l)?a:i;return await Promise.all(d[l].map(async t=>await e(t)).filter(Boolean))});return{title:`Skeb - ${o[l]}`,link:`${r}/#${l}`,item:f}}export{c as route};
//# sourceMappingURL=skeb-Bi2uKdur.js.map