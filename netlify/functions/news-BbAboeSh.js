import{__dirname as e,init_esm_shims as t}from"./esm-shims-Dqvxr0BZ.js";import"./config-Dl8a1sIg.js";import"./logger-CWOoofbD.js";import"./dist-IvUHtNe1.js";import"./helpers-DzX-lcQO.js";import{cache_default as n}from"./cache-kimkMTWJ.js";import{art as r}from"./render-CxhTJIsl.js";import{parseDate as i}from"./parse-date-Bgabdhlb.js";import"./ofetch-Bzt0BXUH.js";import{got_default as a}from"./got-CdvI2yKX.js";import o from"node:path";t();const s={path:`/news/:category?`,categories:[`game`],example:`/loltw/news`,parameters:{category:`新闻分类，置空为全部新闻`},features:{requireConfig:!1,requirePuppeteer:!1,antiCrawler:!1,supportBT:!1,supportPodcast:!1,supportScihub:!1},name:`台服新闻`,maintainers:[`hoilc`],handler:c,description:`| 活动  | 资讯 | 系统   | 电竞   | 版本资讯 | 战棋资讯 |
| ----- | ---- | ------ | ------ | -------- | -------- |
| event | info | system | esport | patch    | TFTpatch |`};async function c(t){let s=t.req.param(`category`)??``,c=`https://lol.garena.tw`,l=await a(`${c}/api/news/search?category=${s}`),u=l.data.data.news.map(e=>({guid:e.id,title:e.title,author:`Garena`,link:`${c}/news/articles/${e.id}`,pubDate:i(e.updated_at*1e3)})),d=await Promise.all(u.map(t=>n.tryGet(t.link,async()=>{let n=await a(`${c}/api/news/detail?news_id=${t.guid}`);return t.description=r(o.join(e,`templates/news-2cdb09f5.art`),n.data.data.news_detail),t})));return{title:`英雄联盟 - 台服新闻`,link:s?`${c}/news/${s}`:`${c}/news`,item:d}}export{s as route};
//# sourceMappingURL=news-BbAboeSh.js.map