import{__dirname as e,init_esm_shims as t}from"./esm-shims-Dqvxr0BZ.js";import"./config-Dl8a1sIg.js";import"./logger-CWOoofbD.js";import"./dist-IvUHtNe1.js";import{art as n}from"./render-CxhTJIsl.js";import{ofetch_default as r}from"./ofetch-Bzt0BXUH.js";import i from"node:path";import{load as a}from"cheerio";t();const o=`https://www.openrice.com`,s={path:`/:lang/hongkong/promos`,maintainers:[`after9`],handler:c,categories:[`shopping`],example:`/openrice/zh/hongkong/promos`,parameters:{lang:`语言，缺省为 zh`},name:`香港餐厅滋讯`,description:`
| 简体 | 繁體 | EN |
| ----- | ------ | ----- |
| zh-cn | zh | en |
  `};async function c(t){let s=t.req.param(`lang`)??`zh`,c;switch(s){case`zh-cn`:c=`/zh-cn/hongkong/promos`;break;case`en`:c=`/en/hongkong/promos`;break;case`zh`:default:c=`/zh/hongkong/promos`;break}let l=await r(o+c,{}),u=a(l),d=u(`title`).text()??`Openrice - What's Hot`,f=u(`meta[name="description"]`).attr(`content`)??`What's Hot from Openrice`,p=u(`.article-listing-content-cell-wrapper`),m=p.toArray().map(t=>{let r=u(t),a=r.find(`.title-name`).text()??``,o=r.find(`a.sr1-listing-content-cell`).attr(`href`)??``,s=r.find(`.cover-photo`).attr(`style`)?.match(/url\(['"]?(.*?)['"]?\)/)?.[1]??null,c=n(i.join(e,`templates/description-98624103.art`),{description:r.find(`.article-details .desc`).text()??``,image:s});return{title:a,description:c,link:o}});return{title:d,link:o+c,description:f,item:m}}export{s as route};
//# sourceMappingURL=promos-CyTA9etL.js.map