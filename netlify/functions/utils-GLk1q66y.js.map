{"version":3,"file":"utils-GLk1q66y.js","names":["got"],"sources":["../../lib/routes/playno1/utils.ts"],"sourcesContent":["import got from '@/utils/got';\r\nimport { load } from 'cheerio';\r\nimport { CookieJar, Cookie } from 'tough-cookie';\r\nconst cookieJar = new CookieJar();\r\nconst cookie = Cookie.fromJSON({\r\n    key: 'playno1',\r\n    value: 'playno1Cookie',\r\n    domain: 'playno1.com',\r\n    path: '/',\r\n});\r\n(async () => {\r\n    await cookieJar.setCookie(cookie, 'http://www.playno1.com/');\r\n})();\r\n\r\nconst processArticle = (items, cache) =>\r\n    Promise.all(\r\n        items.map((item) =>\r\n            cache.tryGet(item.link, async () => {\r\n                const detailResponse = await got(item.link, {\r\n                    cookieJar,\r\n                });\r\n                const content = load(detailResponse.data);\r\n                item.description = content('#article_content').html();\r\n                return item;\r\n            })\r\n        )\r\n    );\r\n\r\nexport { cookieJar, processArticle };\r\n"],"mappings":"oIAGA,MAAM,EAAY,IAAI,EAChB,EAAS,EAAO,SAAS,CAC3B,IAAK,UACL,MAAO,gBACP,OAAQ,cACR,KAAM,OAET,SAAY,CACT,MAAM,EAAU,UAAU,EAAQ,+BAGtC,MAAM,GAAkB,EAAO,IAC3B,QAAQ,IACJ,EAAM,IAAK,GACP,EAAM,OAAO,EAAK,KAAM,SAAY,CAChC,IAAM,EAAiB,MAAMA,EAAI,EAAK,KAAM,CACxC,cAEE,EAAU,EAAK,EAAe,MAEpC,MADA,GAAK,YAAc,EAAQ,oBAAoB,OACxC"}