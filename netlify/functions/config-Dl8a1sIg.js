import{randUserAgent as e}from"@tonyrl/rand-user-agent";import"dotenv/config";import{ofetch as t}from"ofetch";const n=({browser:t=`chrome`,os:n=`mac os`,device:r=`desktop`})=>{r=r.toLowerCase(),t=t.toLowerCase(),n=n.toLowerCase();let i=e(r,t,n);if(t===`chrome`)for(;i.includes(`Chrome-Lighthouse`)||i.includes(`Gener8`)||i.includes(`HeadlessChrome`)||i.includes(`SMTBot`)||i.includes(`Electron`)||i.includes(`Code`);)i=e(r,t,n);if(t===`safari`)for(;i.includes(`Applebot`);)i=e(r,t,n);return i};var r=n;let i=process.env;const a={},o=`RSSHub/1.0 (+http://github.com/DIYgod/RSSHub; like FeedFetcher-Google)`,s=(e,t)=>e===void 0?t:e===``||e===`0`||e===`false`?!1:!!e,c=(e,t)=>e===void 0?t:Number.parseInt(e),l=()=>{let e={},t={},n={},l={},u={};for(let r in i)if(r.startsWith(`BILIBILI_COOKIE_`)){let t=r.slice(16);e[t]=i[r]}else if(r.startsWith(`EMAIL_CONFIG_`)){let e=r.slice(13);t[e]=i[r]}else if(r.startsWith(`DISCUZ_COOKIE_`)){let e=r.slice(14);n[e]=i[r]}else if(r.startsWith(`MEDIUM_COOKIE_`)){let e=r.slice(14).toLowerCase();l[e]=i[r]}else if(r.startsWith(`DISCOURSE_CONFIG_`)){let e=r.slice(17);u[e]=JSON.parse(i[r]||`{}`)}let d={disallowRobot:s(i.DISALLOW_ROBOT,!1),enableCluster:s(i.ENABLE_CLUSTER,!1),isPackage:!!i.IS_PACKAGE,nodeName:i.NODE_NAME,puppeteerWSEndpoint:i.PUPPETEER_WS_ENDPOINT,chromiumExecutablePath:i.CHROMIUM_EXECUTABLE_PATH,connect:{port:c(i.PORT,1200)},listenInaddrAny:s(i.LISTEN_INADDR_ANY,!0),requestRetry:c(i.REQUEST_RETRY,2),requestTimeout:c(i.REQUEST_TIMEOUT,3e4),ua:i.UA??(s(i.NO_RANDOM_UA,!1)?o:r({browser:`chrome`,os:`mac os`,device:`desktop`})),trueUA:o,allowOrigin:i.ALLOW_ORIGIN,cache:{type:i.CACHE_TYPE||(i.CACHE_TYPE===``?``:`memory`),requestTimeout:c(i.CACHE_REQUEST_TIMEOUT,60),routeExpire:c(i.CACHE_EXPIRE,300),contentExpire:c(i.CACHE_CONTENT_EXPIRE,3600)},memory:{max:c(i.MEMORY_MAX,Math.pow(2,8))},redis:{url:i.REDIS_URL||`redis://localhost:6379/`},proxyUri:i.PROXY_URI,proxyUris:i.PROXY_URIS?i.PROXY_URIS.split(`,`).map(e=>e.trim()).filter(Boolean):void 0,proxy:{protocol:i.PROXY_PROTOCOL,host:i.PROXY_HOST,port:i.PROXY_PORT,auth:i.PROXY_AUTH,url_regex:i.PROXY_URL_REGEX||`.*`,strategy:i.PROXY_STRATEGY||`all`,failoverTimeout:c(i.PROXY_FAILOVER_TIMEOUT,5e3),healthCheckInterval:c(i.PROXY_HEALTH_CHECK_INTERVAL,6e4)},pacUri:i.PAC_URI,pacScript:i.PAC_SCRIPT,accessKey:i.ACCESS_KEY,debugInfo:i.DEBUG_INFO||`true`,loggerLevel:i.LOGGER_LEVEL||`info`,noLogfiles:s(i.NO_LOGFILES,!1),otel:{seconds_bucket:i.OTEL_SECONDS_BUCKET||`0.01,0.1,1,2,5,15,30,60`,milliseconds_bucket:i.OTEL_MILLISECONDS_BUCKET||`10,20,50,100,250,500,1000,5000,15000`},showLoggerTimestamp:s(i.SHOW_LOGGER_TIMESTAMP,!1),sentry:{dsn:i.SENTRY,routeTimeout:c(i.SENTRY_ROUTE_TIMEOUT,3e4)},enableRemoteDebugging:s(i.ENABLE_REMOTE_DEBUGGING,!1),hotlink:{template:i.HOTLINK_TEMPLATE,includePaths:i.HOTLINK_INCLUDE_PATHS?i.HOTLINK_INCLUDE_PATHS.split(`,`):void 0,excludePaths:i.HOTLINK_EXCLUDE_PATHS?i.HOTLINK_EXCLUDE_PATHS.split(`,`):void 0},feature:{allow_user_hotlink_template:s(i.ALLOW_USER_HOTLINK_TEMPLATE,!1),filter_regex_engine:i.FILTER_REGEX_ENGINE||`re2`,allow_user_supply_unsafe_domain:s(i.ALLOW_USER_SUPPLY_UNSAFE_DOMAIN,!1),disable_nsfw:s(i.DISABLE_NSFW,!1)},suffix:i.SUFFIX,titleLengthLimit:c(i.TITLE_LENGTH_LIMIT,150),openai:{apiKey:i.OPENAI_API_KEY,model:i.OPENAI_MODEL||`gpt-3.5-turbo-16k`,temperature:c(i.OPENAI_TEMPERATURE,.2),maxTokens:c(i.OPENAI_MAX_TOKENS,0)||void 0,endpoint:i.OPENAI_API_ENDPOINT||`https://api.openai.com/v1`,inputOption:i.OPENAI_INPUT_OPTION||`description`,promptDescription:i.OPENAI_PROMPT||`Please summarize the following article and reply with markdown format.`,promptTitle:i.OPENAI_PROMPT_TITLE||`Please translate the following title into Simplified Chinese and reply only translated text.`},follow:{ownerUserId:i.FOLLOW_OWNER_USER_ID,description:i.FOLLOW_DESCRIPTION,price:c(i.FOLLOW_PRICE),userLimit:c(i.FOLLOW_USER_LIMIT)},bilibili:{cookies:e,dmImgList:i.BILIBILI_DM_IMG_LIST,dmImgInter:i.BILIBILI_DM_IMG_INTER,excludeSubtitles:s(i.BILIBILI_EXCLUDE_SUBTITLES,!1)},bitbucket:{username:i.BITBUCKET_USERNAME,password:i.BITBUCKET_PASSWORD},btbyr:{host:i.BTBYR_HOST,cookies:i.BTBYR_COOKIE},bupt:{portal_cookie:i.BUPT_PORTAL_COOKIE},caixin:{cookie:i.CAIXIN_COOKIE},civitai:{cookie:i.CIVITAI_COOKIE},dianping:{cookie:i.DIANPING_COOKIE},dida365:{username:i.DIDA365_USERNAME,password:i.DIDA365_PASSWORD},discord:{authorization:i.DISCORD_AUTHORIZATION},discourse:{config:u},discuz:{cookies:n},disqus:{api_key:i.DISQUS_API_KEY},douban:{cookie:i.DOUBAN_COOKIE},ehentai:{ipb_member_id:i.EH_IPB_MEMBER_ID,ipb_pass_hash:i.EH_IPB_PASS_HASH,sk:i.EH_SK,igneous:i.EH_IGNEOUS,star:i.EH_STAR,img_proxy:i.EH_IMG_PROXY},email:{config:t},fanbox:{session:i.FANBOX_SESSION_ID},fanfou:{consumer_key:i.FANFOU_CONSUMER_KEY,consumer_secret:i.FANFOU_CONSUMER_SECRET,username:i.FANFOU_USERNAME,password:i.FANFOU_PASSWORD},fantia:{cookies:i.FANTIA_COOKIE},game4399:{cookie:i.GAME_4399},gelbooru:{apiKey:i.GELBOORU_API_KEY,userId:i.GELBOORU_USER_ID},github:{access_token:i.GITHUB_ACCESS_TOKEN},gitee:{access_token:i.GITEE_ACCESS_TOKEN},google:{fontsApiKey:i.GOOGLE_FONTS_API_KEY},guozaoke:{cookies:i.GUOZAOKE_COOKIES},hefeng:{key:i.HEFENG_KEY},infzm:{cookie:i.INFZM_COOKIE},initium:{username:i.INITIUM_USERNAME,password:i.INITIUM_PASSWORD,bearertoken:i.INITIUM_BEARER_TOKEN},instagram:{username:i.IG_USERNAME,password:i.IG_PASSWORD,proxy:i.IG_PROXY,cookie:i.IG_COOKIE},iwara:{username:i.IWARA_USERNAME,password:i.IWARA_PASSWORD},javdb:{session:i.JAVDB_SESSION},jumeili:{cookie:i.JUMEILI_COOKIE},keylol:{cookie:i.KEYLOL_COOKIE},lastfm:{api_key:i.LASTFM_API_KEY},lightnovel:{cookie:i.SECURITY_KEY},lofter:{cookies:i.LOFTER_COOKIE},lorientlejour:{token:i.LORIENTLEJOUR_TOKEN,username:i.LORIENTLEJOUR_USERNAME,password:i.LORIENTLEJOUR_PASSWORD},malaysiakini:{email:i.MALAYSIAKINI_EMAIL,password:i.MALAYSIAKINI_PASSWORD,refreshToken:i.MALAYSIAKINI_REFRESHTOKEN},mangadex:{username:i.MANGADEX_USERNAME,password:i.MANGADEX_PASSWORD,clientId:i.MANGADEX_CLIENT_ID,clientSecret:i.MANGADEX_CLIENT_SECRET,refreshToken:i.MANGADEX_REFRESH_TOKEN},manhuagui:{cookie:i.MHGUI_COOKIE},mastodon:{apiHost:i.MASTODON_API_HOST,accessToken:i.MASTODON_API_ACCESS_TOKEN,acctDomain:i.MASTODON_API_ACCT_DOMAIN},medium:{cookies:l,articleCookie:i.MEDIUM_ARTICLE_COOKIE||``},mihoyo:{cookie:i.MIHOYO_COOKIE},miniflux:{instance:i.MINIFLUX_INSTANCE||`https://reader.miniflux.app`,token:i.MINIFLUX_TOKEN||``},misskey:{accessToken:i.MISSKEY_ACCESS_TOKEN},mixi2:{authToken:i.MIXI2_AUTH_TOKEN,authKey:i.MIXI2_AUTH_KEY},mox:{cookie:i.MOX_COOKIE},ncm:{cookies:i.NCM_COOKIES||``},newrank:{cookie:i.NEWRANK_COOKIE},nga:{uid:i.NGA_PASSPORT_UID,cid:i.NGA_PASSPORT_CID},nhentai:{username:i.NHENTAI_USERNAME,password:i.NHENTAI_PASSWORD},notion:{key:i.NOTION_TOKEN},patreon:{sessionId:i.PATREON_SESSION_ID},pianyuan:{cookie:i.PIANYUAN_COOKIE},pixabay:{key:i.PIXABAY_KEY},pixiv:{refreshToken:i.PIXIV_REFRESHTOKEN,bypassCdn:s(i.PIXIV_BYPASS_CDN,!1),bypassCdnHostname:i.PIXIV_BYPASS_HOSTNAME||`public-api.secure.pixiv.net`,bypassCdnDoh:i.PIXIV_BYPASS_DOH||`https://1.1.1.1/dns-query`,imgProxy:i.PIXIV_IMG_PROXY||`https://i.pixiv.re`},pkubbs:{cookie:i.PKUBBS_COOKIE},qingting:{id:i.QINGTING_ID},readwise:{accessToken:i.READWISE_ACCESS_TOKEN},saraba1st:{cookie:i.SARABA1ST_COOKIE,host:i.SARABA1ST_HOST||`https://stage1st.com`},sehuatang:{cookie:i.SEHUATANG_COOKIE},scboy:{token:i.SCBOY_BBS_TOKEN},scihub:{host:i.SCIHUB_HOST||`https://sci-hub.se/`},sis001:{baseUrl:i.SIS001_BASE_URL||`https://sis001.com`},skeb:{bearerToken:i.SKEB_BEARER_TOKEN},sorrycc:{cookie:i.SORRYCC_COOKIES},spotify:{clientId:i.SPOTIFY_CLIENT_ID,clientSecret:i.SPOTIFY_CLIENT_SECRET,refreshToken:i.SPOTIFY_REFRESHTOKEN},sspai:{bearertoken:i.SSPAI_BEARERTOKEN},telegram:{token:i.TELEGRAM_TOKEN,session:i.TELEGRAM_SESSION,apiId:i.TELEGRAM_API_ID,apiHash:i.TELEGRAM_API_HASH,maxConcurrentDownloads:i.TELEGRAM_MAX_CONCURRENT_DOWNLOADS,proxy:{host:i.TELEGRAM_PROXY_HOST,port:i.TELEGRAM_PROXY_PORT,secret:i.TELEGRAM_PROXY_SECRET}},tophub:{cookie:i.TOPHUB_COOKIE},tsdm39:{cookie:i.TSDM39_COOKIES},tumblr:{clientId:i.TUMBLR_CLIENT_ID,clientSecret:i.TUMBLR_CLIENT_SECRET,refreshToken:i.TUMBLR_REFRESH_TOKEN},twitter:{username:i.TWITTER_USERNAME?.split(`,`),password:i.TWITTER_PASSWORD?.split(`,`),authenticationSecret:i.TWITTER_AUTHENTICATION_SECRET?.split(`,`),phoneOrEmail:i.TWITTER_PHONE_OR_EMAIL?.split(`,`),authToken:i.TWITTER_AUTH_TOKEN?.split(`,`),thirdPartyApi:i.TWITTER_THIRD_PARTY_API},uestc:{bbsCookie:i.UESTC_BBS_COOKIE,bbsAuthStr:i.UESTC_BBS_AUTH_STR},weibo:{app_key:i.WEIBO_APP_KEY,app_secret:i.WEIBO_APP_SECRET,cookies:i.WEIBO_COOKIES,redirect_url:i.WEIBO_REDIRECT_URL},wenku8:{cookie:i.WENKU8_COOKIE},wordpress:{cdnUrl:i.WORDPRESS_CDN},xiaoyuzhou:{device_id:i.XIAOYUZHOU_ID,refresh_token:i.XIAOYUZHOU_TOKEN},xiaohongshu:{cookie:i.XIAOHONGSHU_COOKIE},ximalaya:{token:i.XIMALAYA_TOKEN},xsijishe:{cookie:i.XSIJISHE_COOKIE,user_agent:i.XSIJISHE_USER_AGENT},xueqiu:{cookies:i.XUEQIU_COOKIES},yamibo:{salt:i.YAMIBO_SALT,auth:i.YAMIBO_AUTH},youtube:{key:i.YOUTUBE_KEY,clientId:i.YOUTUBE_CLIENT_ID,clientSecret:i.YOUTUBE_CLIENT_SECRET,refreshToken:i.YOUTUBE_REFRESH_TOKEN},zhihu:{cookies:i.ZHIHU_COOKIES},zodgame:{cookie:i.ZODGAME_COOKIE},zsxq:{accessToken:i.ZSXQ_ACCESS_TOKEN},smzdm:{cookie:i.SMZDM_COOKIE}};for(let e in d)a[e]=d[e]};l(),(async()=>{if(i.REMOTE_CONFIG){let{default:e}=await import(`./logger-D_bLSE47.js`);try{let n=await t(i.REMOTE_CONFIG,{headers:{Authorization:`Basic ${i.REMOTE_CONFIG_AUTH}`}});n?(i=Object.assign(i,n),l(),e.info(`Remote config loaded.`)):e.error(`Remote config load failed.`)}catch(t){e.error(`Remote config load failed.`,t)}}})();const u=a;export{u as config,r as rand_user_agent_default};
//# sourceMappingURL=config-Dl8a1sIg.js.map