import"./esm-shims-Dqvxr0BZ.js";import"./config-Dl8a1sIg.js";import"./logger-CWOoofbD.js";import"./dist-IvUHtNe1.js";import{cache_default as e}from"./cache-kimkMTWJ.js";import{parseDate as t}from"./parse-date-Bgabdhlb.js";import{ofetch_default as n}from"./ofetch-Bzt0BXUH.js";import{timezone as r}from"./timezone-BrNu6iXe.js";import{load as i}from"cheerio";const a={434:`行业资讯`,436:`协会动态`,438:`重要通知`,440:`政策法规`},o={path:`/news/:typeId`,categories:[`government`],example:`/samd/news/440`,parameters:{type:`文章类型ID，见下表`},features:{requireConfig:!1,requirePuppeteer:!1,antiCrawler:!1,supportBT:!1,supportPodcast:!1,supportScihub:!1},description:`| 行业资讯 | 协会动态 | 重要通知 | 政策法规 |
| --- | --- | --- | --- |
| 434 | 436 | 438 | 440 |`,name:`资讯信息`,maintainers:[`hualiong`],handler:async o=>{let s=`https://www.samd.org.cn/home`,c=o.req.param(`typeId`),{rows:l}=await n(`/GetNewsByTagId`,{baseURL:s,method:`POST`,query:{page:1,rows:10,typeId:c,status:1}}),u=l.map(e=>({title:e.title,category:[e.tag_names],link:`${s}/newsDetail?id=${e.auto_id}&typeId=${c}`,image:e.img_url?s+e.img_url:null})),d=await Promise.all(u.map(a=>e.tryGet(a.link,async()=>{let e=i(await n(a.link)),o=e(`.content`);return a.author=o.find(`.author span`).text(),a.pubDate=r(t(o.find(`.time`).text(),`发布时间：YYYY-MM-DD HH:mm:ss`),8),o.children(`.titles`).remove(),o.children(`.auxi`).remove(),a.description=o.html(),a})));return{title:`${a[c]} - 深圳市医疗器械行业协会`,link:`https://www.samd.org.cn/home/newsList`,item:d}}};export{o as route};
//# sourceMappingURL=news-Cul2sOvq.js.map