import{config as e}from"./config-Dl8a1sIg.js";import{cache_default as t}from"./cache-kimkMTWJ.js";import{parseDate as n}from"./parse-date-Bgabdhlb.js";import{ofetch_default as r}from"./ofetch-Bzt0BXUH.js";import{load as i}from"cheerio";const a=`https://cara.app`,o=`${a}/api`,s=`https://cdn.cara.app`;function c(t,n){return r(t,{...n,headers:{"user-agent":e.trueUA}})}async function l(n){let r=await t.tryGet(`${a}:buildId`,async()=>{let e=await c(`${a}/explore`),t=i(e);return JSON.parse(t(`#__NEXT_DATA__`)?.text()??`{}`).buildId},e.cache.routeExpire,!1);return await t.tryGet(`${a}:${n}`,async()=>{let e=await c(`${a}/_next/data/${r}/${n}.json`);return e.pageProps.user})}async function u(e){let t=await c(`${o}/posts/${e.postId}`),r=t.data.images.filter(e=>!e.isCoverImg).map(e=>`<img src="${s}/${e.src}" />`).join(`<br />`),i={title:t.data.title||t.data.content,pubDate:n(t.data.createdAt),link:`${a}/post/${e.postId}`,description:r};return i}export{o as API_HOST,s as CDN_HOST,a as HOST,c as customFetch,u as fetchPortfolioItem,l as parseUserData};
//# sourceMappingURL=utils-B7dT-_AV.js.map