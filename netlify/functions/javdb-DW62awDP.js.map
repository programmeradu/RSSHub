{"version":3,"file":"javdb-DW62awDP.js","names":["route: Route","utils"],"sources":["../../lib/routes/javdb/index.ts"],"sourcesContent":["import { Route } from '@/types';\r\nimport utils from './utils';\r\n\r\nexport const route: Route = {\r\n    path: '/home/:category?/:sort?/:filter?',\r\n    radar: [\r\n        {\r\n            source: ['javdb.com/'],\r\n        },\r\n    ],\r\n    name: '主页',\r\n    example: '/javdb/home',\r\n    parameters: { category: '分类，见下表，默认为 `有碼`', sort: '排序，见下表，默认为 `磁鏈更新排序`', filter: '过滤，见下表，默认为 `可下载`' },\r\n    maintainers: ['nczitzk'],\r\n    handler,\r\n    url: 'javdb.com/',\r\n    description: `分类\r\n\r\n| 有碼     | 無碼       | 歐美    |\r\n| -------- | ---------- | ------- |\r\n| censored | uncensored | western |\r\n\r\n  排序\r\n\r\n| 发布日期排序 | 磁鏈更新排序 |\r\n| ------------ | ------------ |\r\n| 1            | 2            |\r\n\r\n  过滤\r\n\r\n| 全部 | 可下载 | 含字幕 | 含短評 |\r\n| ---- | ------ | ------ | ------ |\r\n| 0    | 1      | 2      | 3      |`,\r\n};\r\n\r\nasync function handler(ctx) {\r\n    const category = ctx.req.param('category') ?? 'censored';\r\n    const sort = ctx.req.param('sort') ?? '2';\r\n    const filter = ctx.req.param('filter') ?? '1';\r\n\r\n    const currentUrl = `${category === 'censored' ? '' : category}?vft=${filter}&vst=${sort}`;\r\n\r\n    const categories = {\r\n        censored: '有碼',\r\n        uncensored: '無碼',\r\n        western: '歐美',\r\n        fc2: 'FC2',\r\n    };\r\n\r\n    const filters = {\r\n        0: '',\r\n        1: '可下载',\r\n        2: '含字幕',\r\n        3: '含短評',\r\n    };\r\n\r\n    const sorts = {\r\n        1: '发布日期排序',\r\n        2: '磁鏈更新排序',\r\n    };\r\n\r\n    const title = `${categories[category]} - JavDB - ${filters[filter] === '' ? '|' : `${filters[filter]} | `}${sorts[sort]}`;\r\n\r\n    return await utils.ProcessItems(ctx, currentUrl, title);\r\n}\r\n"],"mappings":"kWAGA,MAAaA,EAAe,CACxB,KAAM,mCACN,MAAO,CACH,CACI,OAAQ,CAAC,gBAGjB,KAAM,KACN,QAAS,cACT,WAAY,CAAE,SAAU,kBAAmB,KAAM,sBAAuB,OAAQ,oBAChF,YAAa,CAAC,WACd,UACA,IAAK,aACL,YAAa;;;;;;;;;;;;;;;;sCAmBjB,eAAe,EAAQ,EAAK,CACxB,IAAM,EAAW,EAAI,IAAI,MAAM,aAAe,WACxC,EAAO,EAAI,IAAI,MAAM,SAAW,IAChC,EAAS,EAAI,IAAI,MAAM,WAAa,IAEpC,EAAa,GAAG,IAAa,WAAa,GAAK,EAAS,OAAO,EAAO,OAAO,IAE7E,EAAa,CACf,SAAU,KACV,WAAY,KACZ,QAAS,KACT,IAAK,OAGH,EAAU,CACZ,EAAG,GACH,EAAG,MACH,EAAG,MACH,EAAG,OAGD,EAAQ,CACV,EAAG,SACH,EAAG,UAGD,EAAQ,GAAG,EAAW,GAAU,aAAa,EAAQ,KAAY,GAAK,IAAM,GAAG,EAAQ,GAAQ,OAAO,EAAM,KAElH,OAAO,MAAMC,EAAM,aAAa,EAAK,EAAY"}