import"./config-Dl8a1sIg.js";import"./logger-CWOoofbD.js";import"./proxy-D7ccvALx.js";import{cache_default as e}from"./cache-kimkMTWJ.js";import{parseDate as t}from"./parse-date-Bgabdhlb.js";import"./puppeteer-f0D6AISB.js";import{baseUrl as n,puppeteerGet as r}from"./utils-C1gZvF2W.js";import{load as i}from"cheerio";const a={path:`/category/:category?/:sort?`,categories:[`bbs`],example:`/pincong/category/1/new`,parameters:{category:"分类，与官网分类 URL `category-` 后的数字对应，默认为全部",sort:`排序方式，参数可见下表，默认为推荐`},features:{requireConfig:!1,requirePuppeteer:!0,antiCrawler:!0,supportBT:!1,supportPodcast:!1,supportScihub:!1},name:`发现`,maintainers:[`zphw`],handler:o,description:`| 最新 | 推荐      | 热门 |
| ---- | --------- | ---- |
| new  | recommend | hot  |`};async function o(a){let o=`${n}/`,s={new:`sort_type-new`,recommend:`recommend-1`,hot:`sort_type-hot__day2`};o+=a.req.param(`sort`)&&s[a.req.param(`sort`)]||`recommend-1`,o+=a.req.param(`category`)?`__category-`+a.req.param(`category`):``;let c=await r(o,e),l=i(c),u=l(`div.aw-item`);return{title:`品葱 - 发现`,link:o,item:u.toArray().map(e=>({title:l(e).find(`h4 a`).text().trim(),link:n+l(e).find(`h4 a`).attr(`href`),pubDate:t(l(e).attr(`data-created-at`)*1e3)}))}}export{a as route};
//# sourceMappingURL=pincong-DgLX5lP6.js.map