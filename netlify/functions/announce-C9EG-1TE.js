import"./esm-shims-Dqvxr0BZ.js";import"./config-Dl8a1sIg.js";import"./logger-CWOoofbD.js";import"./dist-IvUHtNe1.js";import"./helpers-DzX-lcQO.js";import"./ofetch-Bzt0BXUH.js";import{got_default as e}from"./got-CdvI2yKX.js";import{timezone as t}from"./timezone-BrNu6iXe.js";import{load as n}from"cheerio";const r={path:`/announce/:owner?/:province?/:office?`,categories:[`government`],example:`/dol/announce`,parameters:{owner:`Requester/former land owner`,province:`Province which the land is belongs to`,office:`DOL office name which the land is belongs to (สำนักงานที่ดิน(กรุงเทพมหานคร|จังหวัด*) [สาขา*])`},features:{requireConfig:!1,requirePuppeteer:!1,antiCrawler:!1,supportBT:!1,supportPodcast:!1,supportScihub:!1},name:`e-LandsAnnouncement`,maintainers:[`itpcc`],handler:i};async function i(r){let i=`https://announce.dol.go.th`,{owner:a,province:o,office:s}=r.req.param(),c={searchprovince:``,searchoffice:``,searchtype:``,searchconcerned:a??``},l={title:`ประกาศสำนักงานที่ดิน${o?`จังหวัด`+o+` `:``}${s?`สำนักงานที่ดิน`+s:``}${a?`ชื่อผู้ถือกรรมสิทธิ/ผู้ขอ `+a:``}`,link:`${i}/index.php`,item:[]};if(o||s){let{data:t}=await e(`${i}/index.php`),r=n(t);if(o){let e=r(`select#searchprovince option:contains('${o}')`);if(!e.length)return l;c.searchprovince=e.attr(`value`)}if(s){let e=r(`select#searchoffice option:contains('${s}')`);if(!e.length)return l;c.searchoffice=e.attr(`value`)}}l.link=`${i}/index.php?${new URLSearchParams(c).toString()}`;let{data:u}=await e(l.link,{https:{rejectUnauthorized:!1}}),d=n(u);return l.item=d(`div#div table tbody tr:not([class])`).toArray().map(e=>{e=d(e);let[,n,r,a,o,s,c,l]=e.find(`th`).toArray().map(e=>d(e)),u=o.text().split(`-`);return{title:`${n.text()} (ผู้ถือกรรมสิทธิ/ผู้ขอ ${r.text()})`,description:`ประกาศ${c.text()} เรื่อง${n.text()}
                    ด้วย ${r.text()} ได้ยื่นเรื่องราว ${a.text()}
                    จึงขอประกาศให้ทราบทั่วกัน ถ้าผู้ใดจะคัดค้านประการใด ให้ยื่นคำคัดค้านต่อพนักงานเจ้าหน้าที่ ภายใน ${s.text()}
                    ประกาศ ณ วันที่ ${o.text()}
                `,link:`${i}/${l.find(`a`).attr(`href`)}`,pubDate:t(new Date(Number.parseInt(u[2])-543,Number.parseInt(u[1])-1,Number.parseInt(u[0])),7),author:c.text(),category:[a.text()]}}),l}export{r as route};
//# sourceMappingURL=announce-C9EG-1TE.js.map