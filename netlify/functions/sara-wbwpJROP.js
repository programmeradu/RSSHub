import"./esm-shims-Dqvxr0BZ.js";import"./config-Dl8a1sIg.js";import"./logger-CWOoofbD.js";import"./dist-IvUHtNe1.js";import{cache_default as e}from"./cache-kimkMTWJ.js";import{ofetch_default as t}from"./ofetch-Bzt0BXUH.js";import{load as n}from"cheerio";const r={dynamic:`协会动态`,announcement:`通知公告`,industry:`行业动态`},i={path:`/:type`,categories:[`government`],example:`/sara/announcement`,parameters:{type:`dynamic | announcement | industry`},features:{requireConfig:!1,requirePuppeteer:!1,antiCrawler:!1,supportBT:!1,supportPodcast:!1,supportScihub:!1},description:`| 协会动态 | 通知公告 |行业动态 |
| -------- | ------------ | -------- |
| dynamic | announcement | industry |`,name:`新闻资讯`,maintainers:[`HChenZi`],handler:async e=>{let i=`http://www.sara.org.cn`,o=e.req.param(`type`),s=`${i}/news/${o}.htm`,c=await t(s),l=n(c),u=l(`.newsItem_total > dd`).toArray().map(e=>{let t=l(e).find(`a`).first();return{link:`${i}${t.attr(`href`)}`,title:t.attr(`title`)}}),d=await Promise.all(u.map(e=>a(e)));return{title:r[o],link:s,item:d}}};async function a(r){return await e.tryGet(r.link,async()=>{let e=await t(r.link),i=n(e);return{description:i(`.text`).html(),language:`zh-cn`,...r}})}export{i as route};
//# sourceMappingURL=sara-wbwpJROP.js.map