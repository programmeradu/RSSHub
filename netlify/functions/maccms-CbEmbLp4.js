import{__dirname as e,init_esm_shims as t}from"./esm-shims-Dqvxr0BZ.js";import"./config-Dl8a1sIg.js";import"./logger-CWOoofbD.js";import"./dist-IvUHtNe1.js";import{art as n}from"./render-CxhTJIsl.js";import{parseDate as r}from"./parse-date-Bgabdhlb.js";import{ofetch_default as i}from"./ofetch-Bzt0BXUH.js";import{timezone as a}from"./timezone-BrNu6iXe.js";import o from"node:path";t();const s=(t,r)=>n(o.join(e,`templates/vod-07e00f6f.art`),{vod:t,link:r}),c={path:`/:domain/:type?/:size?`,categories:[`multimedia`],example:`/maccms/moduzy.net/2`,features:{requireConfig:!1,requirePuppeteer:!1,antiCrawler:!1,supportBT:!1,supportPodcast:!1,supportScihub:!1},parameters:{domain:`采集站域名，可选值如下表`,type:`类别ID，不同采集站点有不同的类别规则和ID，默认为 0，代表全部类别`,size:`每次获取的数据条数，上限 100 条，默认 30 条`},name:`最新资源`,maintainers:[`hualiong`],description:`
::: tip
每个采集站提供的影视类别ID是不同的，即参数中的 \`type\` 是不同的。**可以先访问一次站点提供的采集接口，然后从返回结果中的 \`class\` 字段中的 \`type_id\`获取相应的类别ID**
:::

| 站名                | 域名                                             | 站名             | 域名                                               | 站名           | 域名                                            |
| ------------------- | ------------------------------------------------ | ---------------- | -------------------------------------------------- | -------------- | ----------------------------------------------- |
| 魔都资源网          | [moduzy.net](https://moduzy.net)                 | 华为吧影视资源站 | [hw8.live](https://hw8.live)                       | 360 资源站     | [360zy.com](https://360zy.com)                  |
| jkun 爱坤联盟资源网 | [ikunzyapi.com](https://ikunzyapi.com)           | 奥斯卡资源站     | [aosikazy.com](https://aosikazy.com)               | 飞速资源采集网 | [www.feisuzyapi.com](http://www.feisuzyapi.com) |
| 森林资源网          | [slapibf.com](https://slapibf.com)               | 天空资源采集网   | [api.tiankongapi.com](https://api.tiankongapi.com) | 百度云资源     | [api.apibdzy.com](https://api.apibdzy.com)      |
| 红牛资源站          | [www.hongniuzy2.com](https://www.hongniuzy2.com) | 乐视资源网       | [leshiapi.com](https://leshiapi.com)               | 暴风资源       | [bfzyapi.com](https://bfzyapi.com)              |`,handler:async e=>{let{domain:t,type:n=`0`,size:o=`30`}=e.req.param();if(!l.has(t))throw Error(`非法域名！`);let c=await i(`https://${t}/api.php/provide/vod`,{parseResponse:JSON.parse,query:{ac:`detail`,t:n,pagesize:Number.parseInt(o)>100?100:o}}),u=c.list.map(e=>({title:e.vod_name,image:e.vod_pic,link:`https://${t}/vod/${e.vod_id}/`,guid:e.vod_play_url?.match(/https:\/\/.+?\.m3u8/g)?.slice(-1)[0],pubDate:a(r(e.vod_time,`YYYY-MM-DD HH:mm:ss`),8),category:[e.type_name,...e.vod_class.split(`,`)],description:s(e,`https://${t}/vod/${e.vod_id}/`)+e.vod_content}));return{title:`最新${n!==`0`&&u.length?u[0].category[0]:`资源`} - ${t}`,link:`https://${t}`,allowEmpty:!0,item:u}}},l=new Set([`moduzy.net`,`hw8.live`,`360zy.com`,`ikunzyapi.com`,`aosikazy.com`,`www.feisuzyapi.com`,`slapibf.com`,`api.tiankongapi.com`,`api.apibdzy.com`,`www.hongniuzy2.com`,`leshiapi.com`,`bfzyapi.com`]);export{c as route};
//# sourceMappingURL=maccms-CbEmbLp4.js.map