import"./esm-shims-Dqvxr0BZ.js";import"./config-Dl8a1sIg.js";import"./logger-CWOoofbD.js";import"./dist-IvUHtNe1.js";import"./helpers-DzX-lcQO.js";import{cache_default as e}from"./cache-kimkMTWJ.js";import{parseDate as t}from"./parse-date-Bgabdhlb.js";import"./ofetch-Bzt0BXUH.js";import{got_default as n}from"./got-CdvI2yKX.js";import{finishArticleItem as r}from"./wechat-mp-BwNEdjlr.js";import{load as i}from"cheerio";const a=`http://job.hrbeu.edu.cn`,o={tzgg:{name:`通知公告`,url:`http://job.hrbeu.edu.cn/HrbeuJY/Web/Home/NewsList?43kuJdqqW6kyCmomBv0smMlyGfDy8QefMwSyc-jK8Ww=.shtml`},rdxw:{name:`热点新闻`,url:`http://job.hrbeu.edu.cn/HrbeuJY/Web/Home/NewsList?43kuJdqqW6kyCmomBv0smLeM5XMyxaJMXP0thrbMBWI=.shtml`}},s={path:`/job/list/:id`,categories:[`university`],example:`/hrbeu/job/list/tzgg`,parameters:{id:`栏目，如下表`},features:{requireConfig:!1,requirePuppeteer:!1,antiCrawler:!1,supportBT:!1,supportPodcast:!1,supportScihub:!1},name:`就业服务平台`,maintainers:[`Derekmini`],description:`| 通知公告 | 热点新闻 |
| :------: | :------: |
|   tzgg   |   rdxw   |`,handler:c};async function c(s){let c=s.req.param(`id`),l=await n(o[c].url,{headers:{Referer:a}}),u=i(l.data),d=u(`li.list_item.i1`).toArray().map(e=>{let n=u(e).find(`a`).attr(`href`);return n.includes(`HrbeuJY`)&&(n=`${a}${n}`),{title:u(e).find(`a`).attr(`title`),pubDate:t(u(e).find(`.Article_PublishDate`).text()),link:n}}),f=await Promise.all(d.map(t=>e.tryGet(t.link,async()=>{if(t.link.includes(`HrbeuJY`)){let e=await n(t.link),r=i(e.data);t.description=r(`.article`).html()}else new URL(t.link).hostname===`mp.weixin.qq.com`?await r(t):t.description=`本文需跳转，请点击标题后阅读`;return t})));return{title:`就业服务平台-`+o[c].name,link:o[c].url,item:f}}export{s as route};
//# sourceMappingURL=list-DspQcVoq.js.map