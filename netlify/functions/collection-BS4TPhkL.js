import"./esm-shims-Dqvxr0BZ.js";import"./config-Dl8a1sIg.js";import"./logger-CWOoofbD.js";import"./dist-IvUHtNe1.js";import{ofetch_default as e}from"./ofetch-Bzt0BXUH.js";import{load as t}from"cheerio";var n=function(e){return e[e.HANDPICK=0]=`HANDPICK`,e[e.SPECIAL=1]=`SPECIAL`,e[e.WEEKLY=2]=`WEEKLY`,e[e.MONTHLY=3]=`MONTHLY`,e}(n||{});const r={[n.HANDPICK]:`OpenGithub - Github开源项目精选 - 精选文章`,[n.SPECIAL]:`OpenGithub - Github开源项目精选 - 专栏`,[n.WEEKLY]:`OpenGithub - Github开源项目精选 - 周刊`,[n.MONTHLY]:`OpenGithub - Github开源项目精选 - 月刊`},i={path:`/collection/:colType`,categories:[`blog`],example:`/itc/collection/1`,radar:[{source:[`open.itc.cn/`]}],name:`合集`,maintainers:[`cnkmmk`],handler:a};async function a(n){let i=`https://open.itc.cn`,a=n.req.param(`colType`),o={title:r[a]??`NULL`,link:i,description:r[a]??`NULL`,item:[]},s=await e(`${i}/github/collection/list?colType=${a}`),c=t(s);return o.item=[...c(`.tab-pane > .row > .card`)].map(e=>{let t=c(e).find(`.d-flex.mt-3.ms-sm-auto`).text()?.split(`:`)?.[1],n=t?new Date(t):void 0;return{title:c(e).find(`a.btn-link`).text(),description:c(e).find(`.d-sm-inline-block`).text(),link:c(e).find(`a.btn-link`).attr(`href`)||``,pubDate:n,category:[...c(e).find(`.nav.nav-stack.small li`)].map(e=>c(e).find(`.badge`).text())}}),o}export{i as route};
//# sourceMappingURL=collection-BS4TPhkL.js.map