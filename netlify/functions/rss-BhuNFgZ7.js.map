{"version":3,"file":"rss-BhuNFgZ7.js","names":["route: Route","got"],"sources":["../../lib/routes/hicairo/rss.ts"],"sourcesContent":["import { Route } from '@/types';\r\nimport got from '@/utils/got';\r\nimport { load } from 'cheerio';\r\n\r\nexport const route: Route = {\r\n    path: '/',\r\n    categories: ['blog'],\r\n    example: '/hicairo',\r\n    radar: [\r\n        {\r\n            source: ['hicairo.com/'],\r\n        },\r\n    ],\r\n    name: '最近发表',\r\n    maintainers: ['cnkmmk'],\r\n    handler,\r\n    url: 'hicairo.com/',\r\n};\r\n\r\nasync function handler() {\r\n    const currentUrl = 'https://www.hicairo.com';\r\n    const response = await got(`${currentUrl}/feed.php`);\r\n    const $ = load(response.data, { xmlMode: true });\r\n    const title_main = $('channel > title').text();\r\n    const description_main = $('channel > description').text();\r\n    const items = $('channel > item')\r\n        .toArray()\r\n        .map((item) => {\r\n            const $item = $(item);\r\n            const link = $item.find('link').text();\r\n            const title = $item.find('title').text();\r\n            const description = $item.find('description').text();\r\n            const pubDate = $item.find('pubDate').text();\r\n            return {\r\n                link,\r\n                pubDate, // no need to normalize because it's from a valid RSS feed\r\n                title,\r\n                description,\r\n            };\r\n        });\r\n\r\n    return {\r\n        title: title_main,\r\n        description: description_main,\r\n        link: currentUrl,\r\n        item: items,\r\n    };\r\n}\r\n"],"mappings":"+PAIA,MAAaA,EAAe,CACxB,KAAM,IACN,WAAY,CAAC,QACb,QAAS,WACT,MAAO,CACH,CACI,OAAQ,CAAC,kBAGjB,KAAM,OACN,YAAa,CAAC,UACd,UACA,IAAK,gBAGT,eAAe,GAAU,CACrB,IAAM,EAAa,0BACb,EAAW,MAAMC,EAAI,GAAG,EAAW,YACnC,EAAI,EAAK,EAAS,KAAM,CAAE,QAAS,KACnC,EAAa,EAAE,mBAAmB,OAClC,EAAmB,EAAE,yBAAyB,OAC9C,EAAQ,EAAE,kBACX,UACA,IAAK,GAAS,CACX,IAAM,EAAQ,EAAE,GACV,EAAO,EAAM,KAAK,QAAQ,OAC1B,EAAQ,EAAM,KAAK,SAAS,OAC5B,EAAc,EAAM,KAAK,eAAe,OACxC,EAAU,EAAM,KAAK,WAAW,OACtC,MAAO,CACH,OACA,UACA,QACA,iBAIZ,MAAO,CACH,MAAO,EACP,YAAa,EACb,KAAM,EACN,KAAM"}