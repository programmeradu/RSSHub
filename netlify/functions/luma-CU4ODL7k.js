import"./esm-shims-Dqvxr0BZ.js";import"./config-Dl8a1sIg.js";import"./logger-CWOoofbD.js";import"./dist-IvUHtNe1.js";import{parseDate as e}from"./parse-date-Bgabdhlb.js";import{ofetch_default as t}from"./ofetch-Bzt0BXUH.js";const n={path:`/:url`,name:`Events`,url:`lu.ma`,maintainers:[`cxheng315`],example:`/luma/yieldnest`,categories:[`other`],parameters:{url:`LuMa URL`},features:{requireConfig:!1,requirePuppeteer:!1,antiCrawler:!1,supportBT:!1,supportPodcast:!1,supportScihub:!1},radar:[{source:[`lu.ma/:url`],target:`/:url`}],handler:r};async function r(n){let r=`https://api.lu.ma/url?url=`+n.req.param(`url`),i=await t(r),a;switch(i.kind){case`calendar`:a=i.data.featured_items.map(t=>({title:t.event.name,link:`https://lu.ma/`+t.event.url,author:t.hosts?t.hosts.map(e=>e.name).join(`, `):``,guid:t.event.api_id,pubDate:e(t.event.start_at),itunes_item_image:t.event.cover_url,itunes_duration:(new Date(t.event.end_at).getTime()-new Date(t.event.start_at).getTime())/1e3}));break;case`event`:a=[{title:i.data.event.name,link:`https://lu.ma/`+i.data.event.url,author:i.data.hosts?i.data.hosts.map(e=>e.name).join(`, `):``,guid:i.data.event.api_id,pubDate:e(i.data.event.start_at),itunes_item_image:i.data.event.cover_url,itunes_duration:(new Date(i.data.event.end_at).getTime()-new Date(i.data.event.start_at).getTime())/1e3}];break;case`discover-place`:a=i.data.events.map(t=>({title:t.event.name,link:`https://lu.ma/`+t.event.url,author:t.hosts?t.hosts.map(e=>e.name).join(`, `):``,guid:t.event.api_id,pubDate:e(t.event.start_at),itunes_item_image:t.event.cover_url,itunes_duration:(new Date(t.event.end_at).getTime()-new Date(t.event.start_at).getTime())/1e3}));break;default:a=[{title:`Not Found`,link:`Not Found`}];break}return{title:i.data.calendar?i.data.calendar.name:i.data.place.name,description:i.data.place?i.data.place.description:``,link:`https://lu.ma/`+n.req.param(`url`),image:i.data.calendar?i.data.calendar.cover_url:i.data.place.cover_url,item:a}}export{n as route};
//# sourceMappingURL=luma-CU4ODL7k.js.map