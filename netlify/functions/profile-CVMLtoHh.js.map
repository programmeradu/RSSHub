{"version":3,"file":"profile-CVMLtoHh.js","names":["route: Route","got"],"sources":["../../lib/routes/hackmd/profile.ts"],"sourcesContent":["import { Route } from '@/types';\r\nimport got from '@/utils/got';\r\n\r\nexport const route: Route = {\r\n    path: '/profile/:path',\r\n    categories: ['programming'],\r\n    example: '/hackmd/profile/hackmd',\r\n    parameters: { path: 'userpath or teampath' },\r\n    features: {\r\n        requireConfig: false,\r\n        requirePuppeteer: false,\r\n        antiCrawler: false,\r\n        supportBT: false,\r\n        supportPodcast: false,\r\n        supportScihub: false,\r\n    },\r\n    name: 'Profile',\r\n    maintainers: ['Yukaii', 'kaiix'],\r\n    handler,\r\n};\r\n\r\nasync function handler(ctx) {\r\n    const path = ctx.req.param('path');\r\n\r\n    const response = await got({\r\n        method: 'get',\r\n        url: `https://hackmd.io/api/@${path}/overview`,\r\n    });\r\n    const data = response.data;\r\n\r\n    const profile = data.user || data.team;\r\n    return {\r\n        title: `${profile.name}'s Profile`,\r\n        link: `https://hackmd.io/@${path}`,\r\n        description: `${profile.name}'s profile on HackMD`,\r\n        item: data.notes.map((note) => ({\r\n            title: note.title,\r\n            description: `<pre>${note.content}</pre>`,\r\n            pubDate: new Date(note.publishedAt).toUTCString(),\r\n            link: `https://hackmd.io/@${path}/${note.permalink || note.shortId}`,\r\n        })),\r\n    };\r\n}\r\n"],"mappings":"gOAGA,MAAaA,EAAe,CACxB,KAAM,iBACN,WAAY,CAAC,eACb,QAAS,yBACT,WAAY,CAAE,KAAM,wBACpB,SAAU,CACN,cAAe,GACf,iBAAkB,GAClB,YAAa,GACb,UAAW,GACX,eAAgB,GAChB,cAAe,IAEnB,KAAM,UACN,YAAa,CAAC,SAAU,SACxB,WAGJ,eAAe,EAAQ,EAAK,CACxB,IAAM,EAAO,EAAI,IAAI,MAAM,QAErB,EAAW,MAAMC,EAAI,CACvB,OAAQ,MACR,IAAK,0BAA0B,EAAK,aAElC,EAAO,EAAS,KAEhB,EAAU,EAAK,MAAQ,EAAK,KAClC,MAAO,CACH,MAAO,GAAG,EAAQ,KAAK,YACvB,KAAM,sBAAsB,IAC5B,YAAa,GAAG,EAAQ,KAAK,sBAC7B,KAAM,EAAK,MAAM,IAAK,IAAU,CAC5B,MAAO,EAAK,MACZ,YAAa,QAAQ,EAAK,QAAQ,QAClC,QAAS,IAAI,KAAK,EAAK,aAAa,cACpC,KAAM,sBAAsB,EAAK,GAAG,EAAK,WAAa,EAAK"}