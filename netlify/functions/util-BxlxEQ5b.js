import{__dirname as e,init_esm_shims as t}from"./esm-shims-Dqvxr0BZ.js";import{art as n}from"./render-CxhTJIsl.js";import{parseDate as r}from"./parse-date-Bgabdhlb.js";import{ofetch_default as i}from"./ofetch-Bzt0BXUH.js";import{timezone as a}from"./timezone-BrNu6iXe.js";import o from"node:path";t();const s=`https://top.aibase.com`,c=`https://app.chinaz.com`,l=e=>e.startsWith(`[`)?JSON.parse(e):[e];n.defaults.imports.strToArray=l;const u=async e=>{let t=new URL(e(`script[src]`).last()?.prop(`src`)??`_static/ee6af7e.js`,s).href,n=await i(t,{responseType:`text`});return n.match(/"\/(\w+)\/ai\/.*?\.aspx"/)?.[1]??`djflkdsoisknfoklsyhownfrlewfknoiaewf`},d=async e=>{let t=await u(e),n=new URL(`${t}/ai/GetAIProcRecommList.aspx`,c).href,r=new URL(`${t}/ai/GetAIProcListByRecomm.aspx`,c).href,i=new URL(`${t}/ai/GetAiProductOfTag.aspx`,c).href,a=new URL(`${t}/ai/GetAiInfoList.aspx`,c).href,o=new URL(`${t}/ai/v2/GetAILogList.aspx`,c).href;return{apiRecommListUrl:n,apiRecommProcUrl:r,apiTagProcUrl:i,apiInfoListUrl:a,aILogListUrl:o}},f=t=>t.map(t=>{let i=t.name,c=t.imgurl,u=n(o.join(e,`templates/description-e2273660.art`),{images:c?[{src:c,alt:i}]:void 0,item:t}),d=`aibase-${t.zurl}`;return{title:i,description:u,pubDate:a(r(t.addtime),8),link:new URL(`tool/${t.zurl}`,s).href,category:[...new Set([...l(t.categories),...l(t.tags),t.catname,t.procattrname,t.procformname,t.proctypename])].filter(Boolean),guid:d,id:d,content:{html:u,text:t.desc},image:c,banner:c,updated:r(t.UpdTime),enclosure_url:t.logo,enclosure_type:t.logo?`image/${t.logo.split(/\./).pop()}`:void 0,enclosure_title:i}});export{d as buildApiUrl,f as processItems,s as rootUrl};
//# sourceMappingURL=util-BxlxEQ5b.js.map