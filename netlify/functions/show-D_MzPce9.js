import"./esm-shims-Dqvxr0BZ.js";import"./config-Dl8a1sIg.js";import"./logger-CWOoofbD.js";import"./dist-IvUHtNe1.js";import{parseDate as e}from"./parse-date-Bgabdhlb.js";import{ofetch_default as t}from"./ofetch-Bzt0BXUH.js";import{ViewType as n}from"./types-A5bA50Mg.js";import"./config-not-found-BVqhRP9D.js";import{utils_default as r}from"./utils-BahhmqTb.js";const i={path:`/show/:id`,categories:[`multimedia`],view:n.Audios,example:`/spotify/show/5CfCWKI5pZ28U0uOzXkDHe`,parameters:{id:`Show ID`},features:{requireConfig:[{name:`SPOTIFY_CLIENT_ID`,description:``},{name:`SPOTIFY_CLIENT_SECRET`,description:``}],requirePuppeteer:!1,antiCrawler:!1,supportBT:!1,supportPodcast:!1,supportScihub:!1},radar:[{source:[`open.spotify.com/show/:id`]}],name:`Show/Podcasts`,maintainers:[`caiohsramos`,`pseudoyu`],handler:a};async function a(n){let i=await r.getPublicToken(),a=n.req.param(`id`),o=await t(`https://api.spotify.com/v1/shows/${a}?market=US`,{method:`GET`,headers:{Authorization:`Bearer ${i}`}}),s=o.episodes.items;return{title:o.name,description:o.description,link:o.external_urls.spotify,language:o.languages[0],itunes_author:o.publisher,itunes_category:o.type,itunes_explicit:o.explicit,allowEmpty:!0,item:s.filter(Boolean).map(t=>({title:t.name,description:t.html_description,pubDate:e(t.release_date),link:t.external_urls.spotify,itunes_item_image:t.images[0].url,itunes_duration:t.duration_ms/1e3,enclosure_url:t.audio_preview_url,enclosure_type:`audio/mpeg`})),image:o.images.length?o.images[0].url:void 0}}export{i as route};
//# sourceMappingURL=show-D_MzPce9.js.map