import"./esm-shims-Dqvxr0BZ.js";import"./config-Dl8a1sIg.js";import"./logger-CWOoofbD.js";import"./dist-IvUHtNe1.js";import"./helpers-DzX-lcQO.js";import{cache_default as e}from"./cache-kimkMTWJ.js";import{parseDate as t}from"./parse-date-Bgabdhlb.js";import"./ofetch-Bzt0BXUH.js";import{got_default as n}from"./got-CdvI2yKX.js";import{timezone as r}from"./timezone-BrNu6iXe.js";import{load as i}from"cheerio";const a={path:`/analyst/rank/:type?`,categories:[`finance`],example:`/qianzhan/analyst/rank/week`,parameters:{type:`分类，见下表`},features:{requireConfig:!1,requirePuppeteer:!1,antiCrawler:!1,supportBT:!1,supportPodcast:!1,supportScihub:!1},radar:[{source:[`qianzhan.com/analyst`,`qianzhan.com/`],target:`/analyst/rank`}],name:`排行榜`,maintainers:[`moke8`],handler:o,url:`qianzhan.com/analyst`,description:`| 周排行 | 月排行 |
| ------ | ------ |
| week   | month  |`};async function o(a){let o=a.req.param(`type`)===`week`?1:2,s=`https://www.qianzhan.com/analyst/`,c=await n(s),l=i(c.data),u=l(`#div_hotlist ul[idx='${o}'] a`).map((e,t)=>l(t).attr(`href`)),d=await Promise.all(u.map((a,o)=>e.tryGet(o,async()=>{let e=await n(o),a=i(e.data),s=a(`#divArtBody`).html(),c=a(`#h_title`).text(),l=r(t(a(`#pubtime_baidu`).text().split(`• `)[1],`YYYY-MM-DD HH:mm:ss`),8),u=a(`.bljjxue`).text().match(/\S+/)[0];return{title:c,link:o,description:s,pubDate:l,author:u,category:a(`meta[name="Keywords"]`).attr(`content`).split(`,`)}})));return{title:`前瞻经济学人 - ${o===1?`周排行`:`月排行`}`,link:s,item:d}}export{a as route};
//# sourceMappingURL=rank-i6xT5EO8.js.map