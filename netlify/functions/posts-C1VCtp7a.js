import"./config-Dl8a1sIg.js";import{logger_default as e}from"./logger-CWOoofbD.js";import"./proxy-D7ccvALx.js";import{puppeteer_default as t}from"./puppeteer-f0D6AISB.js";import{BASE_URL as n,parseCompanyName as r,parseCompanyPosts as i}from"./utils-BMOUFTcB.js";import{load as a}from"cheerio";const o={path:`/company/:company_id/posts`,categories:[`social-media`],example:`/linkedin/company/google/posts`,parameters:{company_id:`Company's LinkedIn profile ID`},description:`Get company's LinkedIn posts by company ID`,features:{requireConfig:!1,requirePuppeteer:!1,antiCrawler:!1,supportRadar:!1,supportBT:!1,supportPodcast:!1,supportScihub:!1},name:`Company Posts`,maintainers:[`saifazmi`],handler:async o=>{let s=o.req.param(`company_id`),c=await t(),l=await c.newPage();await l.setRequestInterception(!0),l.on(`request`,e=>{e.resourceType()===`document`?e.continue():e.abort()});let u=new URL(`${n}/company/${s}`);e.http(`Requesting ${u.href}`),await l.goto(u.href,{waitUntil:`domcontentloaded`});let d=await l.content();await l.close();let f=a(d),p=r(f),m=i(f);return await c.close(),{title:`LinkedIn - ${p}'s Posts`,link:u.href,description:`This feed gets ${p}'s posts from LinkedIn`,item:m.map(e=>({title:e.text,description:e.text,link:e.link,pubDate:e.date,updated:e.date}))}}};export{o as route};
//# sourceMappingURL=posts-C1VCtp7a.js.map