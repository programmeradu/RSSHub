import"./esm-shims-Dqvxr0BZ.js";import"./config-Dl8a1sIg.js";import"./logger-CWOoofbD.js";import"./dist-IvUHtNe1.js";import"./helpers-DzX-lcQO.js";import{parseDate as e}from"./parse-date-Bgabdhlb.js";import"./ofetch-Bzt0BXUH.js";import{got_default as t}from"./got-CdvI2yKX.js";const n={path:`/community/:id?/:keyword?`,categories:[`other`],example:`/aqara/community`,parameters:{id:`分类 id，可在对应分类页 URL 中找到，默认为全部`,keyword:`关键字，默认为空`},features:{requireConfig:!1,requirePuppeteer:!1,antiCrawler:!1,supportBT:!1,supportPodcast:!1,supportScihub:!1},name:`社区`,maintainers:[`nczitzk`],handler:r};async function r(n){let r=n.req.param(`id`)??``,i=n.req.param(`keyword`)??``,a=n.req.query(`limit`)?Number.parseInt(n.req.query(`limit`)):100,o=`https://community.aqara.com`,s=`${o}/api/v2/feeds?limit=${a}&platedetail_id=${r}&keyword=${i}&all=1`,c=`${o}/pc/#/post${r?`?id=${r}`:``}`,l=await t({method:`get`,url:s}),u=l.data.map(t=>({title:t.feed_title,link:`${o}/pc/#/post/postDetail/${t.id}`,description:t.feed_content,pubDate:e(t.created_at),author:t.user.nickname}));return{title:`Aqara社区`,link:c,item:u,allowEmpty:!0}}export{n as route};
//# sourceMappingURL=community-CQa9xUKf.js.map