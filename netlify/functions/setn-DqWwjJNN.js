import"./esm-shims-Dqvxr0BZ.js";import"./config-Dl8a1sIg.js";import"./logger-CWOoofbD.js";import"./dist-IvUHtNe1.js";import"./helpers-DzX-lcQO.js";import{cache_default as e}from"./cache-kimkMTWJ.js";import{parseDate as t}from"./parse-date-Bgabdhlb.js";import"./ofetch-Bzt0BXUH.js";import{got_default as n}from"./got-CdvI2yKX.js";import{timezone as r}from"./timezone-BrNu6iXe.js";import{load as i}from"cheerio";const a=`https://www.setn.com`,o={娛樂:`https://star.setn.com`,健康:`https://health.setn.com`,旅遊:`https://travel.setn.com`,富房網:`https://fuhouse.setn.com`,女孩:`https://watch.setn.com`},s={即時:``,熱門:0,政治:6,社會:41,國際:5,兩岸:68,生活:4,運動:34,地方:97,財經:2,名家:9,新奇:42,科技:7,汽車:12,寵物:47,HOT焦點:31},c=e=>{let t=Object.hasOwn(o,e)?o[e]:a;return Object.hasOwn(s,e)?`${t}/ViewAll.aspx${s[e]===``?``:`?PageGroupID=${s[e]}`}`:`${t}/viewall`},l={path:`/:category?`,categories:[`traditional-media`],example:`/setn`,parameters:{category:`分类，见下表，默认为即時`},features:{requireConfig:!1,requirePuppeteer:!1,antiCrawler:!1,supportBT:!1,supportPodcast:!1,supportScihub:!1},radar:[{source:[`setn.com/ViewAll.aspx`,`setn.com/`],target:``}],name:`新聞`,maintainers:[`nczitzk`],handler:u,url:`setn.com/ViewAll.aspx`,description:`| 即時 | 熱門 | 娛樂 | 政治 | 社會 |
| ---- | ---- | ---- | ---- | ---- |

| 國際 | 兩岸 | 生活 | 健康 | 旅遊 |
| ---- | ---- | ---- | ---- | ---- |

| 運動 | 地方 | 財經 | 富房網 | 名家 |
| ---- | ---- | ---- | ------ | ---- |

| 新奇 | 科技 | 汽車 | 寵物 | 女孩 | HOT 焦點 |
| ---- | ---- | ---- | ---- | ---- | -------- |`};async function u(s){let l=s.req.param(`category`)??`即時`,u=s.req.query(`limit`)?Number.parseInt(s.req.query(`limit`)):42,d=c(l),f=await n({method:`get`,url:d}),p=i(f.data),m=p(`#NewsList, .newsList, .hotNewsList`).find(`.newsItems, .st-news, .all_three_list, div.title-word`).slice(0,u).toArray().map(e=>{e=p(e);let t=e.find(`a`).last(),n=t.attr(`href`).replaceAll(/(\?|&)utm_campaign=.*/g,``);return{title:t.text(),link:n.startsWith(`http`)?n:`${Object.hasOwn(o,l)?o[l]:a}${n}`}});return m=await Promise.all(m.map(a=>e.tryGet(a.link,async()=>{let e=await n({method:`get`,url:a.link}),o=i(e.data),s={};try{s=JSON.parse(o(`script[type="application/ld+json"]`).first().text())}catch{s={}}return o(`#gad_setn_innity_oop_1x1`).remove(),a.title=o(`h1`).text(),a.author=s?.author?.name||o(`meta[name="author"]`).attr(`content`),a.category=[o(`meta[property="article:section"]`).attr(`content`),...o(`meta[name="news_keywords"]`).attr(`content`).split(`,`)],a.pubDate=r(t(o(`meta[property="article:published_time"]`).attr(`content`)),8),a.description=o(`article, .content-p`).html(),a}))),{title:`三立新聞網 - ${l}`,link:d,item:m}}export{l as route};
//# sourceMappingURL=setn-DqWwjJNN.js.map