import"./esm-shims-Dqvxr0BZ.js";import"./config-Dl8a1sIg.js";import"./logger-CWOoofbD.js";import"./dist-IvUHtNe1.js";import"./helpers-DzX-lcQO.js";import{cache_default as e}from"./cache-kimkMTWJ.js";import{parseDate as t}from"./parse-date-Bgabdhlb.js";import"./ofetch-Bzt0BXUH.js";import{got_default as n}from"./got-CdvI2yKX.js";import{timezone as r}from"./timezone-BrNu6iXe.js";import{load as i}from"cheerio";const a=`https://today.hitwh.edu.cn`,o={path:`/today`,categories:[`university`],example:`/hitwh/today`,parameters:{},features:{requireConfig:!1,requirePuppeteer:!1,antiCrawler:!0,supportBT:!1,supportPodcast:!1,supportScihub:!1},radar:[{source:[`hitwh.edu.cn/1024/list.htm`,`hitwh.edu.cn/`]}],name:`今日工大 - 通知公告`,maintainers:[`raptazure`],handler:s,url:`hitwh.edu.cn/1024/list.htm`};async function s(){let o=await n(`${a}/1024/list.htm`,{https:{rejectUnauthorized:!1}}),s=i(o.data),c=e=>e.split(`.`).pop(),l=s(`.list_list_wrap #wp_news_w10002 ul > li`).toArray().map(e=>({pubDate:r(t(s(e).find(`.news-time2`).text()),8),link:new URL(s(e).find(`a`).attr(`href`),a).toString(),title:s(e).find(`a`).text()}));return{title:`哈尔滨工业大学（威海）通知公告`,link:`${a}/1024/list.htm`,item:await Promise.all(l.map(t=>e.tryGet(t.link,async()=>{if(c(t.link)===`htm`)try{let{data:e}=await n(t.link,{https:{rejectUnauthorized:!1}}),r=i(e);return t.description=r(`div.wp_articlecontent`).html()&&r(`div.wp_articlecontent`).html().replaceAll(`src="/`,`src="${a}/`).replaceAll(`href="/`,`href="${a}/`).trim(),t}catch{return t.description=`请进行统一身份认证之后再访问`,t}else return t.description=`此链接为文件，点击以下载`,t})))}}export{o as route};
//# sourceMappingURL=today-_71SQh1o.js.map