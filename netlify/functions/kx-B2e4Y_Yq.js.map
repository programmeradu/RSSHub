{"version":3,"file":"kx-B2e4Y_Yq.js","names":["route: Route","got"],"sources":["../../lib/routes/amz123/kx.ts"],"sourcesContent":["import { Route, ViewType } from '@/types';\r\nimport got from '@/utils/got';\r\nimport { parseDate } from '@/utils/parse-date';\r\n\r\nexport const route: Route = {\r\n    path: '/kx',\r\n    categories: ['new-media'],\r\n    example: '/amz123/kx',\r\n    parameters: {},\r\n    features: {\r\n        requireConfig: false,\r\n        requirePuppeteer: false,\r\n        antiCrawler: false,\r\n        supportBT: false,\r\n        supportPodcast: false,\r\n        supportScihub: false,\r\n    },\r\n    radar: [\r\n        {\r\n            source: ['amz123.com/kx'],\r\n            target: '/kx',\r\n        },\r\n    ],\r\n    name: 'AMZ123 快讯',\r\n    maintainers: ['defp'],\r\n    handler,\r\n    url: 'amz123.com/kx',\r\n    view: ViewType.Articles,\r\n};\r\n\r\nasync function handler() {\r\n    const limit = 12;\r\n    const apiRootUrl = 'https://api.amz123.com';\r\n    const rootUrl = 'https://www.amz123.com';\r\n\r\n    const { data: response } = await got.post(`${apiRootUrl}/ugc/v1/user_content/forum_list`, {\r\n        json: {\r\n            page: 1,\r\n            page_size: limit,\r\n            tag_id: 0,\r\n            fid: 4,\r\n            ban: 0,\r\n            is_new: 1,\r\n        },\r\n        headers: {\r\n            'content-type': 'application/json',\r\n        },\r\n    });\r\n\r\n    const items = response.data.rows.map((item) => ({\r\n        title: item.title,\r\n        description: item.description,\r\n        pubDate: parseDate(item.published_at * 1000),\r\n        link: `${rootUrl}/kx/${item.id}`,\r\n        author: item.author?.username,\r\n        category: item.tags.map((tag) => tag.name),\r\n        guid: item.resource_id,\r\n    }));\r\n\r\n    return {\r\n        title: 'AMZ123 快讯',\r\n        link: `${rootUrl}/kx`,\r\n        item: items,\r\n    };\r\n}\r\n"],"mappings":"oUAIA,MAAaA,EAAe,CACxB,KAAM,MACN,WAAY,CAAC,aACb,QAAS,aACT,WAAY,GACZ,SAAU,CACN,cAAe,GACf,iBAAkB,GAClB,YAAa,GACb,UAAW,GACX,eAAgB,GAChB,cAAe,IAEnB,MAAO,CACH,CACI,OAAQ,CAAC,iBACT,OAAQ,QAGhB,KAAM,YACN,YAAa,CAAC,QACd,UACA,IAAK,gBACL,KAAM,EAAS,UAGnB,eAAe,GAAU,CACrB,IAEM,EAAU,yBAEV,CAAE,KAAM,GAAa,MAAMC,EAAI,KAAK,wDAAgD,CACtF,KAAM,CACF,KAAM,EACN,UAAW,GACX,OAAQ,EACR,IAAK,EACL,IAAK,EACL,OAAQ,GAEZ,QAAS,CACL,eAAgB,sBAIlB,EAAQ,EAAS,KAAK,KAAK,IAAK,IAAU,CAC5C,MAAO,EAAK,MACZ,YAAa,EAAK,YAClB,QAAS,EAAU,EAAK,aAAe,KACvC,KAAM,GAAG,EAAQ,MAAM,EAAK,KAC5B,OAAQ,EAAK,QAAQ,SACrB,SAAU,EAAK,KAAK,IAAK,GAAQ,EAAI,MACrC,KAAM,EAAK,eAGf,MAAO,CACH,MAAO,YACP,KAAM,GAAG,EAAQ,KACjB,KAAM"}