import{__dirname as e,init_esm_shims as t}from"./esm-shims-Dqvxr0BZ.js";import"./config-Dl8a1sIg.js";import"./logger-CWOoofbD.js";import"./dist-IvUHtNe1.js";import"./helpers-DzX-lcQO.js";import{art as n}from"./render-CxhTJIsl.js";import{parseDate as r}from"./parse-date-Bgabdhlb.js";import"./ofetch-Bzt0BXUH.js";import{got_default as i}from"./got-CdvI2yKX.js";import{ViewType as a}from"./types-A5bA50Mg.js";import o from"node:path";import s from"dayjs";t();const c=[{keywords:`video-motiongraphic`,category:`portfolio.category.trevorbenitez`},{keywords:`graphic-design`,category:`portfolio.category.lynnrogers`},{keywords:`branding-editorial`,category:`portfolio.category.katiethompson`},{keywords:`UI-UX`,category:`portfolio.category.brittneyhall`},{keywords:`illustration`,category:`portfolio.category.margaretbullock`},{keywords:`digital-art`,category:`portfolio.category.amandahoward`},{keywords:`character-design`,category:`portfolio.category.rachelsharp`},{keywords:`product-package-design`,category:`portfolio.category.vanessacohen`},{keywords:`photography`,category:`portfolio.category.johnmurray`},{keywords:`typography`,category:`portfolio.category.timothysmith`},{keywords:`crafts`,category:`portfolio.category.jessicaking`},{keywords:`fine-art`,category:`portfolio.category.johnmedina`}],l={path:`/search/:category?/:order?/:time?/:query?`,categories:[`design`],view:a.Pictures,example:`/notefolio/search/1/pick/all/life`,parameters:{category:{description:`Category, see below`,options:[{value:`all`,label:`All (전체)`},{value:`1`,label:`Video / Motion Graphics (영상/모션그래픽)`},{value:`2`,label:`Graphic Design (그래픽 디자인)`},{value:`3`,label:`Branding / Editing (브랜딩/편집)`},{value:`4`,label:`UI/UX (UI/UX)`},{value:`5`,label:`Illustration (일러스트레이션)`},{value:`6`,label:`Digital Art (디지털 아트)`},{value:`7`,label:`Character Design (캐릭터 디자인)`},{value:`8`,label:`Product Package Design (제품/패키지 디자인)`},{value:`9`,label:`Photography (포토그래피)`},{value:`10`,label:`Typography (타이포그래피)`},{value:`11`,label:`Crafts (공예)`},{value:`12`,label:`Fine Art (파인아트)`}],default:`all`},order:{description:"Order, `pick` as Notefolio Pick, `published` as Newest, `like` as like, `pick` by default",options:[{value:`pick`,label:`Notefolio Pick`},{value:`published`,label:`Newest`},{value:`like`,label:`Like`}],default:`pick`},time:{description:`Time`,options:[{value:`all`,label:`All the time`},{value:`one-day`,label:`Latest 24 hours`},{value:`week`,label:`Latest week`},{value:`month`,label:`Latest month`},{value:`three-month`,label:`Latest 3 months`}],default:`all`},query:`Keyword, empty by default`},features:{requireConfig:!1,requirePuppeteer:!1,antiCrawler:!1,supportBT:!1,supportPodcast:!1,supportScihub:!1},radar:[{source:[`notefolio.net/search`]}],name:`Works`,maintainers:[`BianTan`],handler:u,url:`notefolio.net/search`,description:`| Category | Name in Korean     | Name in English         |
| -------- | ------------------ | ----------------------- |
| all      | 전체               | All                     |
| 1        | 영상/모션그래픽    | Video / Motion Graphics |
| 2        | 그래픽 디자인      | Graphic Design          |
| 3        | 브랜딩/편집        | Branding / Editing      |
| 4        | UI/UX              | UI/UX                   |
| 5        | 일러스트레이션     | Illustration            |
| 6        | 디지털 아트        | Digital Art             |
| 7        | 캐릭터 디자인      | Character Design        |
| 8        | 제품/패키지 디자인 | Product Package Design  |
| 9        | 포토그래피         | Photography             |
| 10       | 타이포그래피       | Typography              |
| 11       | 공예               | Crafts                  |
| 12       | 파인아트           | Fine Art                |`};async function u(t){let{category:a=`all`,order:l=`pick`,time:u=`all`,query:d=``}=t.req.param(),{limit:f}=t.req.query(),p=`https://api.stunning.kr/api/v1/dantats/portfolio?state=Public&limit=${f?Number.parseInt(f,10):20}&search=${d}&orderBy=${l}`,m=(Number(a)||0)-1;if(m>=0&&c[m]&&(p+=`&category=${c[m].category}`),u!==`all`&&[`one-day`,`week`,`month`,`three-month`].includes(u)){let e=``,t=s().endOf(`d`).format(`YYYY-MM-DDTHH:mm:ss.SSS`);switch(u){case`one-day`:e=s().subtract(1,`d`).format(`YYYY-MM-DDTHH:mm:ss.SSS`);break;case`week`:e=s().subtract(7,`d`).startOf(`d`).format(`YYYY-MM-DDTHH:mm:ss.SSS`);break;case`month`:e=s().subtract(30,`d`).startOf(`d`).format(`YYYY-MM-DDTHH:mm:ss.SSS`);break;case`three-month`:e=s().subtract(90,`d`).startOf(`d`).format(`YYYY-MM-DDTHH:mm:ss.SSS`);break}p+=`&publishedAt=${e}Z&publishedAt=${t}Z`}let{data:h}=await i(p,{headers:{Origin:`https://notefolio.net`}}),g=h?.resultData.map(t=>{let{id:i,title:a,user:s,createdAt:c,categories:l=[],contents:u=[]}=t,d=u.map(t=>n(o.join(e,`templates/search-369d6fc9.art`),{item:t})).join(` `);return{title:a,link:`https://notefolio.net/${s.url}/${i}`,description:d,pubDate:r(c),author:s.nick,category:l.map(e=>e.replace(`portfolio.category.`,``))}})||[];return{title:`${a}/${l}/${u}/${d} search`,item:g}}export{l as route};
//# sourceMappingURL=search-BUqDEnVu.js.map