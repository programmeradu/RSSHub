{"version":3,"file":"article-kwA2c1_W.js","names":["got"],"sources":["../../lib/routes/8kcos/const.ts","../../lib/routes/8kcos/article.ts"],"sourcesContent":["const SUB_NAME_PREFIX = '8KCosplay';\r\nconst SUB_URL = 'https://www.8kcosplay.com/';\r\n\r\nexport { SUB_NAME_PREFIX, SUB_URL };\r\n","import { load } from 'cheerio';\r\nimport got from '@/utils/got';\r\nimport { parseDate } from '@/utils/parse-date';\r\n\r\nasync function loadArticle(link) {\r\n    const resp = await got(link);\r\n    const article = load(resp.body);\r\n    const entryChildren = article('div.entry-content').children();\r\n    const imgs = entryChildren\r\n        .find('noscript')\r\n        .toArray()\r\n        .map((e) => e.children[0].data);\r\n    const txt = entryChildren\r\n        .slice(2)\r\n        .toArray()\r\n        .map((e) => load(e).html());\r\n    return {\r\n        title: article('.entry-title').text(),\r\n        description: [...imgs, ...txt].join(''),\r\n        pubDate: parseDate(article('time')[0].attribs.datetime),\r\n        link,\r\n    };\r\n}\r\nexport default loadArticle;\r\n"],"mappings":"oIAAA,MAAM,EAAkB,YAClB,EAAU,6BCGhB,eAAe,EAAY,EAAM,CAC7B,IAAM,EAAO,MAAMA,EAAI,GACjB,EAAU,EAAK,EAAK,MACpB,EAAgB,EAAQ,qBAAqB,WAC7C,EAAO,EACR,KAAK,YACL,UACA,IAAK,GAAM,EAAE,SAAS,GAAG,MACxB,EAAM,EACP,MAAM,GACN,UACA,IAAK,GAAM,EAAK,GAAG,QACxB,MAAO,CACH,MAAO,EAAQ,gBAAgB,OAC/B,YAAa,CAAC,GAAG,EAAM,GAAG,GAAK,KAAK,IACpC,QAAS,EAAU,EAAQ,QAAQ,GAAG,QAAQ,UAC9C,QAGR,IAAA,EAAe"}