import"./esm-shims-Dqvxr0BZ.js";import"./config-Dl8a1sIg.js";import"./logger-CWOoofbD.js";import"./dist-IvUHtNe1.js";import{parseDate as e}from"./parse-date-Bgabdhlb.js";import{ofetch_default as t}from"./ofetch-Bzt0BXUH.js";import{decode as n}from"entities";const r={path:`/news/:lang`,categories:[`university`],example:`/isct/news/ja`,parameters:{lang:`language, could be ja or en`},features:{requireConfig:!1,requirePuppeteer:!1,antiCrawler:!1,supportBT:!1,supportPodcast:!1,supportScihub:!1},radar:[{source:[`www.isct.ac.jp/:lang/news`],target:`/news/:lang`}],name:`News`,maintainers:[`catyyy`],handler:async r=>{let{lang:i=`ja`}=r.req.param(),a=await t(`https://www.isct.ac.jp/expansion/get_media_list_json.php?lang_cd=${i}`),o=await t(`https://www.isct.ac.jp/expansion/get_tag_list_json.php?lang_cd=${i}`),s=JSON.parse(n(a)),c=JSON.parse(n(o)),l=Object.values(s),u=Object.values(c),d={};for(let e of Object.values(u))d[e.TAG_ID]=e.TAG_NAME;let f=l.map(t=>({title:t.TITLE,link:`news/`+t.MEDIA_CD,description:t.META_DESCRIPTION,pubDate:e(t.PUBLISH_DATE),category:t.MEDIA_TYPES?[d[Number.parseInt(t.MEDIA_TYPES.replaceAll(`"`,``),10)]]:[]}));return{title:`ISCT News - ${i}`,link:`https://www.isct.ac.jp/${i}/news`,item:f}}};export{r as route};
//# sourceMappingURL=news-CRUbJWRb.js.map