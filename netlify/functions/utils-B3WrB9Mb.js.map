{"version":3,"file":"utils-B3WrB9Mb.js","names":[],"sources":["../../lib/routes/cnki/utils.ts"],"sourcesContent":["import got from '@/utils/got';\r\nimport { load } from 'cheerio';\r\nimport { art } from '@/utils/render';\r\nimport path from 'node:path';\r\n\r\nconst ProcessItem = async (item) => {\r\n    const detailResponse = await got(item.link);\r\n    const $ = load(detailResponse.data);\r\n    item.description = art(path.join(__dirname, 'templates/desc.art'), {\r\n        author: $('h3.author > span')\r\n            .toArray()\r\n            .map((item) => $(item).text())\r\n            .join(' '),\r\n        company: $('a.author')\r\n            .toArray()\r\n            .map((item) => $(item).text())\r\n            .join(' '),\r\n        content: $('div.row > span.abstract-text').parent().text(),\r\n    });\r\n\r\n    return item;\r\n};\r\n\r\nexport { ProcessItem };\r\n"],"mappings":"+NAKA,MAAM,EAAc,KAAO,IAAS,CAChC,IAAM,EAAiB,MAAM,EAAI,EAAK,MAChC,EAAI,EAAK,EAAe,MAa9B,MAZA,GAAK,YAAc,EAAI,EAAA,KAAA,EAAA,+BAA4C,CAC/D,OAAQ,EAAE,oBACL,UACA,IAAK,GAAS,EAAE,GAAM,QACtB,KAAK,KACV,QAAS,EAAE,YACN,UACA,IAAK,GAAS,EAAE,GAAM,QACtB,KAAK,KACV,QAAS,EAAE,gCAAgC,SAAS,SAGjD"}