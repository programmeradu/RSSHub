{"version":3,"file":"nictation-BNX2IrHI.js","names":["route: Route","got"],"sources":["../../lib/routes/tmtpost/nictation.ts"],"sourcesContent":["import { Route } from '@/types';\r\nimport got from '@/utils/got';\r\nimport { parseDate } from '@/utils/parse-date';\r\n\r\nexport const route: Route = {\r\n    path: '/nictation',\r\n    categories: ['new-media'],\r\n    example: '/tmtpost/word',\r\n    parameters: {},\r\n    features: {\r\n        requireConfig: false,\r\n        requirePuppeteer: false,\r\n        antiCrawler: false,\r\n        supportBT: false,\r\n        supportPodcast: false,\r\n        supportScihub: false,\r\n    },\r\n    radar: {\r\n        source: ['www.tmtpost.com'],\r\n    },\r\n    name: '快报',\r\n    maintainers: ['defp'],\r\n    handler,\r\n    url: 'www.tmtpost.com/nictation',\r\n};\r\n\r\nasync function handler() {\r\n    const currentTime = Math.floor(Date.now() / 1000);\r\n    const oneHourAgo = currentTime - 3600;\r\n    const url = 'https://api.tmtpost.com/v1/word/list';\r\n\r\n    const response = await got({\r\n        method: 'get',\r\n        url,\r\n        searchParams: {\r\n            time_start: oneHourAgo,\r\n            time_end: currentTime,\r\n            limit: 40,\r\n            fields: ['share_description', 'share_image', 'word_comments', 'stock_list', 'is_important', 'duration', 'word_classify', 'share_link'].join(';'),\r\n        },\r\n        headers: {\r\n            'app-version': 'web1.0',\r\n        },\r\n    });\r\n\r\n    const data = response.data.data;\r\n\r\n    return {\r\n        title: '钛媒体 - 快报',\r\n        link: 'https://www.tmtpost.com/nictation',\r\n        item: data.map((item) => ({\r\n            title: item.title,\r\n            description: item.detail,\r\n            pubDate: parseDate(item.time_published, 'X'),\r\n            link: item.share_link || `https://www.tmtpost.com/nictation/${item.guid}.html`,\r\n            author: item.author_name,\r\n        })),\r\n    };\r\n}\r\n"],"mappings":"qRAIA,MAAaA,EAAe,CACxB,KAAM,aACN,WAAY,CAAC,aACb,QAAS,gBACT,WAAY,GACZ,SAAU,CACN,cAAe,GACf,iBAAkB,GAClB,YAAa,GACb,UAAW,GACX,eAAgB,GAChB,cAAe,IAEnB,MAAO,CACH,OAAQ,CAAC,oBAEb,KAAM,KACN,YAAa,CAAC,QACd,UACA,IAAK,6BAGT,eAAe,GAAU,CACrB,IAAM,EAAc,KAAK,MAAM,KAAK,MAAQ,KACtC,EAAa,EAAc,KAG3B,EAAW,MAAMC,EAAI,CACvB,OAAQ,MACR,2CACA,aAAc,CACV,WAAY,EACZ,SAAU,EACV,MAAO,GACP,OAAQ,CAAC,oBAAqB,cAAe,gBAAiB,aAAc,eAAgB,WAAY,gBAAiB,cAAc,KAAK,MAEhJ,QAAS,CACL,cAAe,YAIjB,EAAO,EAAS,KAAK,KAE3B,MAAO,CACH,MAAO,WACP,KAAM,oCACN,KAAM,EAAK,IAAK,IAAU,CACtB,MAAO,EAAK,MACZ,YAAa,EAAK,OAClB,QAAS,EAAU,EAAK,eAAgB,KACxC,KAAM,EAAK,YAAc,qCAAqC,EAAK,KAAK,OACxE,OAAQ,EAAK"}