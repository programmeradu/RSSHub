import"./esm-shims-Dqvxr0BZ.js";import"./config-Dl8a1sIg.js";import"./logger-CWOoofbD.js";import"./dist-IvUHtNe1.js";import"./helpers-DzX-lcQO.js";import{cache_default as e}from"./cache-kimkMTWJ.js";import"./ofetch-Bzt0BXUH.js";import{got_default as t}from"./got-CdvI2yKX.js";import{load as n}from"cheerio";const r={path:`/gix/news/:category`,categories:[`university`],example:`/uw/gix/news/blog`,parameters:{category:`Blog Type`},features:{requireConfig:!1,requirePuppeteer:!1,antiCrawler:!1,supportBT:!1,supportPodcast:!1,supportScihub:!1},radar:[{source:[`gixnetwork.org/news/:category`]}],name:`Global Innovation Exchange News`,maintainers:[`dykderrick`],handler:i,description:`| Blog | In The News |
| ---- | ----------- |
| blog | inthenews   |`};async function i(r){let i=r.req.param(`category`),a=`https://gixnetwork.org/news`,o=`UW GIX News - `,s=`body > div.site > div.site-content > div.content-area > main.site-main > `;switch(i){case`blog`:a+=`/blog/`,o+=`Blogs`,s+=`div.blog-wrapper > section.blog-list > article`;break;case`inthenews`:a+=`/inthenews/`,o+=`In The News`,s+=`div.news-wrapper > section.news-list > article`;break}let c=await t(a),l=c.data,u=n(l),d=u(s).toArray().map(e=>{e=u(e);let t=e.find(`header`).find(`h2`).find(`a`),n=e.find(`header`).find(`span.h4`).text();return{time:n,link:t.attr(`href`)}}),f=await Promise.all(d.map(r=>e.tryGet(r.link,async()=>{let e=await t(r.link),i=n(e.data);return r.title=i(`header.entry-header`).find(`h1`).text(),r.description=i(`div.entry-content`).html(),r.pubDate=Date.parse(r.time),r})));return{title:o,link:a,item:f}}export{r as route};
//# sourceMappingURL=news-DksHg7eL.js.map