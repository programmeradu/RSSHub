import"./esm-shims-Dqvxr0BZ.js";import"./config-Dl8a1sIg.js";import"./logger-CWOoofbD.js";import"./dist-IvUHtNe1.js";import{ofetch_default as e}from"./ofetch-Bzt0BXUH.js";import{load as t}from"cheerio";const n={path:`/:type/followrank`,categories:[`anime`],example:`/bangumi.tv/anime/followrank`,parameters:{type:`类型：anime - 动画，book - 图书，music - 音乐，game - 游戏，real - 三次元`},features:{requireConfig:!1,requirePuppeteer:!1,antiCrawler:!1,supportBT:!1,supportPodcast:!1,supportScihub:!1},radar:[{source:[`bgm.tv/:type`],target:`/:type/followrank`}],name:`成员关注榜`,maintainers:[`honue`,`zhoukuncheng`,`NekoAria`],handler:r};async function r(n){let r=n.req.param(`type`),i=`https://bgm.tv/${r}`,a=await e(i),o=t(a),s=o(`.featuredItems .mainItem`).toArray().map(e=>{let t=o(e),n=`https://bgm.tv`+t.find(`a`).first().attr(`href`),r=t.find(`.image`).attr(`style`)?.match(/url\((.*?)\)/)?.[1],i=t.find(`small.grey`).text();return{title:t.find(`.title`).text().trim(),link:n,description:`<img src="${r}"><br>${i}`}}),c={tv:`动画`,anime:`动画`,book:`图书`,music:`音乐`,game:`游戏`,real:`三次元`};return{title:`BangumiTV 成员关注${c[r]}榜`,link:i,item:s,description:`BangumiTV 首页 - 成员关注${c[r]}榜`}}export{n as route};
//# sourceMappingURL=followrank-D3trCCZo.js.map