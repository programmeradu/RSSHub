import{__dirname as e,init_esm_shims as t}from"./esm-shims-Dqvxr0BZ.js";import"./config-Dl8a1sIg.js";import"./logger-CWOoofbD.js";import"./dist-IvUHtNe1.js";import"./helpers-DzX-lcQO.js";import{art as n}from"./render-CxhTJIsl.js";import{parseDate as r}from"./parse-date-Bgabdhlb.js";import"./ofetch-Bzt0BXUH.js";import{got_default as i}from"./got-CdvI2yKX.js";import a from"node:path";t();const o={path:`/:category?/:id?`,name:`Unknown`,maintainers:[],handler:s};async function s(t){let o=t.req.param(`category`)??`latest`,s=t.req.param(`id`)??14,c={14:`热点 - 最新`,5:`热点 - 科技`,9:`热点 - 消费`,7:`热点 - 出行`,13:`热点 - 文娱`,10:`热点 - 教育`,25:`热点 - 地产`,11:`热点 - 更多`,28:`深度 - 出行`,29:`深度 - 科技`,31:`深度 - 消费`,33:`深度 - 教育`,34:`深度 - 更多`,8:`深度 - 地产`,6:`深度 - 文娱`},l={latest:{url:``,title:`最新文章`},recommend:{url:`&isRecommend=true`,title:`推荐资讯`},cover:{url:`&position=1`,title:`封面文章`},information:{url:`&categoryId=${s}`,title:c[s]}},u=`https://www.aicaijing.com.cn`,d=`https://api.aicaijing.com.cn/article/detail/list?size=${t.req.query(`limit`)??50}&page=1${l[o].url}`,f=await i({method:`get`,url:d}),p=f.data.data.items.map(t=>({title:t.title,link:`${u}/article/${t.articleId}`,author:t.userInfo.nickname,pubDate:r(t.createTime),category:[t.category.name,...t.tags.map(e=>e.name)],description:n(a.join(e,`templates/description-cf32b33c.art`),{image:t.cover,description:t.content})}));return{title:`AI 财经社 - ${l[o].title}`,link:u,item:p}}export{o as route};
//# sourceMappingURL=aicaijing-BeI7dIkL.js.map