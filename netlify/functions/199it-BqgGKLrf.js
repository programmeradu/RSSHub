import{__dirname as e,init_esm_shims as t}from"./esm-shims-Dqvxr0BZ.js";import"./config-Dl8a1sIg.js";import"./logger-CWOoofbD.js";import"./dist-IvUHtNe1.js";import{cache_default as n}from"./cache-kimkMTWJ.js";import{art as r}from"./render-CxhTJIsl.js";import{parseDate as i}from"./parse-date-Bgabdhlb.js";import{ofetch_default as a}from"./ofetch-Bzt0BXUH.js";import{ViewType as o}from"./types-A5bA50Mg.js";import s from"node:path";import{load as c}from"cheerio";t();const l=async t=>{let{category:o=`newly`}=t.req.param(),l=Number.parseInt(t.req.query(`limit`)??`30`,10),u=`https://www.199it.com`,d=new URL(o,u).href,f=await a(d),p=c(f),m=p(`html`).attr(`lang`)??`zh-CN`,h=[];h=p(`article.newsplus`).slice(0,l).toArray().map(e=>{let t=p(e),n=t.find(`h2.entry-title`).text(),r=t.find(`time.entry-date`).attr(`datetime`),a=t.find(`h2.entry-title a`).attr(`href`),o=t.find(`ul.post-categories li:not(submenu-parent)`).toArray(),s=[...new Set(o.map(e=>p(e).text()).filter(Boolean))],c=t.find(`img.attachment-post-thumbnail`).attr(`src`),l=r,d={title:n,pubDate:r?i(r):void 0,link:a?new URL(a,u).href:void 0,category:s,image:c,banner:c,updated:l?i(l):void 0,language:m};return d}),h=(await Promise.all(h.map(t=>t.link?n.tryGet(t.link,async()=>{let n=await a(t.link),o=c(n);o(`div.entry-content img.alignnone`).each((t,n)=>{let i=o(n);i.replaceWith(r(s.join(e,`templates/description-8057643c.art`),{images:i.attr(`src`)?[{src:i.attr(`src`),width:i.attr(`width`),height:i.attr(`height`)}]:void 0}))});let l=o(`h1.entry-title`).text(),u=o(`time.entry-date`).attr(`datetime`),d=o(`ul.post-categories li`).toArray(),f=[...new Set(d.map(e=>o(e).text()).filter(Boolean))],p=u,h={title:l,pubDate:u?i(u):t.pubDate,category:f,updated:p?i(p):t.updated,language:m},g=o(`ul.related_post li a`).toArray(),_=g.map(e=>{let t=o(e);return{url:t.attr(`href`),type:`related`,content_html:t.text()}}).filter(e=>!0);_&&(h={...h,_extra:{links:_}}),o(`ul.related_post`).parent().remove();let v=o(`div.entry-content`).html();return h={...h,description:v,content:{html:v,text:v}},{...t,...h}}):t))).filter(e=>!0);let g=p(`title`).text();return{title:g,description:p(`meta[name="description"]`).attr(`content`),link:d,item:h,allowEmpty:!0,image:p(`h3.site-title img`).attr(`src`),author:g.split(/-/).pop()?.trim(),language:m,id:d}},u={path:`/:category{.+}?`,name:`资讯`,url:`199it.com`,maintainers:[`nczitzk`],handler:l,example:`/199it/newly`,parameters:{category:{description:"分类，默认为 `newly`，即最新，可在对应分类页 URL 中找到",options:[{label:`最新`,value:`newly`},{label:`报告`,value:`archives/category/report`},{label:`新兴产业`,value:`archives/category/emerging`},{label:`金融科技`,value:`archives/category/fintech`},{label:`共享经济`,value:`archives/category/sharingeconomy`},{label:`移动互联网`,value:`archives/category/mobile-internet`},{label:`电子商务`,value:`archives/category/electronic-commerce`},{label:`社交网络`,value:`archives/category/social-network`},{label:`网络广告`,value:`archives/category/advertising`},{label:`投资&amp;经济，互联网金融`,value:`archives/category/economic-data`},{label:`服务`,value:`archives/category/service`},{label:`网络服务行业`,value:`archives/category/dataindustry`},{label:`用户研究`,value:`archives/category/internet-users`}]}},description:`:::tip
若订阅 [研究报告](https://www.199it.com/archives/category/report)，网址为 \`https://www.199it.com/archives/category/report\`，请截取 \`https://www.199it.com/archives/category/report\` 到末尾的部分 \`archives/category/report\` 作为 \`category\` 参数填入，此时目标路由为 [\`/199it/archives/category/report\`](https://rsshub.app/199it/archives/category/report)。
:::

<details>
  <summary>更多分类</summary>

| 分类                                                                              | ID                                                                                                      |
| --------------------------------------------------------------------------------- | ------------------------------------------------------------------------------------------------------- |
| [报告](http://www.199it.com/archives/category/report)                             | [archives/category/report](https://rsshub.app/199it/archives/category/report)                           |
| [新兴产业](http://www.199it.com/archives/category/emerging)                       | [archives/category/emerging](https://rsshub.app/199it/archives/category/emerging)                       |
| [金融科技](http://www.199it.com/archives/category/fintech)                        | [archives/category/fintech](https://rsshub.app/199it/archives/category/fintech)                         |
| [共享经济](http://www.199it.com/archives/category/sharingeconomy)                 | [archives/category/sharingeconomy](https://rsshub.app/199it/archives/category/sharingeconomy)           |
| [移动互联网](http://www.199it.com/archives/category/mobile-internet)              | [archives/category/mobile-internet](https://rsshub.app/199it/archives/category/mobile-internet)         |
| [电子商务](http://www.199it.com/archives/category/electronic-commerce)            | [archives/category/electronic-commerce](https://rsshub.app/199it/archives/category/electronic-commerce) |
| [社交网络](http://www.199it.com/archives/category/social-network)                 | [archives/category/social-network](https://rsshub.app/199it/archives/category/social-network)           |
| [网络广告](http://www.199it.com/archives/category/advertising)                    | [archives/category/advertising](https://rsshub.app/199it/archives/category/advertising)                 |
| [投资&amp;经济，互联网金融](http://www.199it.com/archives/category/economic-data) | [archives/category/economic-data](https://rsshub.app/199it/archives/category/economic-data)             |
| [服务](http://www.199it.com/archives/category/service)                            | [archives/category/service](https://rsshub.app/199it/archives/category/service)                         |
| [网络服务行业](http://www.199it.com/archives/category/dataindustry)               | [archives/category/dataindustry](https://rsshub.app/199it/archives/category/dataindustry)               |
| [用户研究](http://www.199it.com/archives/category/internet-users)                 | [archives/category/internet-users](https://rsshub.app/199it/archives/category/internet-users)           |

</details>
`,categories:[`new-media`],features:{requireConfig:!1,requirePuppeteer:!1,antiCrawler:!1,supportRadar:!0,supportBT:!1,supportPodcast:!1,supportScihub:!1},radar:[{source:[`www.199it.com/:category`],target:e=>{let t=e.category;return`/199it${t?`/${t}`:``}`}},{title:`最新`,source:[`www.199it.com/newly`],target:`/newly`},{title:`报告`,source:[`www.199it.com/archives/category/report`],target:`/archives/category/report`},{title:`新兴产业`,source:[`www.199it.com/archives/category/emerging`],target:`/archives/category/emerging`},{title:`金融科技`,source:[`www.199it.com/archives/category/fintech`],target:`/archives/category/fintech`},{title:`共享经济`,source:[`www.199it.com/archives/category/sharingeconomy`],target:`/archives/category/sharingeconomy`},{title:`移动互联网`,source:[`www.199it.com/archives/category/mobile-internet`],target:`/archives/category/mobile-internet`},{title:`电子商务`,source:[`www.199it.com/archives/category/electronic-commerce`],target:`/archives/category/electronic-commerce`},{title:`社交网络`,source:[`www.199it.com/archives/category/social-network`],target:`/archives/category/social-network`},{title:`网络广告`,source:[`www.199it.com/archives/category/advertising`],target:`/archives/category/advertising`},{title:`投资&amp;经济，互联网金融`,source:[`www.199it.com/archives/category/economic-data`],target:`/archives/category/economic-data`},{title:`服务`,source:[`www.199it.com/archives/category/service`],target:`/archives/category/service`},{title:`网络服务行业`,source:[`www.199it.com/archives/category/dataindustry`],target:`/archives/category/dataindustry`},{title:`用户研究`,source:[`www.199it.com/archives/category/internet-users`],target:`/archives/category/internet-users`}],view:o.Articles};export{l as handler,u as route};
//# sourceMappingURL=199it-BqgGKLrf.js.map