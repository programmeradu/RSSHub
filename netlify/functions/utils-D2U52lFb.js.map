{"version":3,"file":"utils-D2U52lFb.js","names":["ofetch"],"sources":["../../lib/routes/grist/utils.ts"],"sourcesContent":["import ofetch from '@/utils/ofetch';\r\nimport { parseDate } from '@/utils/parse-date';\r\nimport timezone from '@/utils/timezone';\r\n\r\nconst getData = (url) => ofetch(url);\r\n\r\nconst getList = (data) =>\r\n    data.map((value) => {\r\n        const { id, title, content, date_gmt, modified_gmt, link, _embedded, featured_media } = value;\r\n        const { 'wp:featuredmedia': media, author } = _embedded;\r\n        const image = media?.find((v) => v.id === featured_media) || { source_url: '' };\r\n        return {\r\n            id,\r\n            title: title.rendered,\r\n            description: content.rendered,\r\n            link,\r\n            itunes_item_image: image.source_url,\r\n            category: _embedded['wp:term'][0].map((v) => v.name),\r\n            author: author?.map((v) => v.name).join(', '),\r\n            pubDate: timezone(parseDate(date_gmt), 0),\r\n            updated: timezone(parseDate(modified_gmt), 0),\r\n        };\r\n    });\r\n\r\nexport { getData, getList };\r\n"],"mappings":"6JAIA,MAAM,EAAW,GAAQA,EAAO,GAE1B,EAAW,GACb,EAAK,IAAK,GAAU,CAChB,GAAM,CAAE,KAAI,QAAO,UAAS,WAAU,eAAc,OAAM,YAAW,kBAAmB,EAClF,CAAE,mBAAoB,EAAO,UAAW,EACxC,EAAQ,GAAO,KAAM,GAAM,EAAE,KAAO,IAAmB,CAAE,WAAY,IAC3E,MAAO,CACH,KACA,MAAO,EAAM,SACb,YAAa,EAAQ,SACrB,OACA,kBAAmB,EAAM,WACzB,SAAU,EAAU,WAAW,GAAG,IAAK,GAAM,EAAE,MAC/C,OAAQ,GAAQ,IAAK,GAAM,EAAE,MAAM,KAAK,MACxC,QAAS,EAAS,EAAU,GAAW,GACvC,QAAS,EAAS,EAAU,GAAe"}