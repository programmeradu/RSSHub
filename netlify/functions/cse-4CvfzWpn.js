import"./esm-shims-Dqvxr0BZ.js";import"./config-Dl8a1sIg.js";import"./logger-CWOoofbD.js";import"./dist-IvUHtNe1.js";import"./helpers-DzX-lcQO.js";import{cache_default as e}from"./cache-kimkMTWJ.js";import{parseDate as t}from"./parse-date-Bgabdhlb.js";import"./ofetch-Bzt0BXUH.js";import{got_default as n}from"./got-CdvI2yKX.js";import{load as r}from"cheerio";const i={path:`/cse/:type?`,categories:[`university`],example:`/seu/cse/xyxw`,parameters:{type:"分类名，默认为 `xyxw`"},features:{requireConfig:!1,requirePuppeteer:!1,antiCrawler:!0,supportBT:!1,supportPodcast:!1,supportScihub:!1},radar:[{source:[`cse.seu.edu.cn/:type/list.htm`,`cse.seu.edu.cn/`]}],name:`计算机技术与工程学院`,maintainers:[`LogicJake`],handler:a,description:`| 学院新闻 | 通知公告 | 教务信息 | 就业信息 | 学工事务 |
| -------- | -------- | -------- | -------- | -------- |
| xyxw     | tzgg     | jwxx     | jyxx     | xgsw     |`};async function a(i){let a=`https://cse.seu.edu.cn`,o={22535:{initial:`xyxw`},22536:{initial:`tzgg`},22538:{initial:`jwxx`},22537:{initial:`jyxx`},22539:{initial:`xgsw`}},{type:s=22535}=i.req.param(),c=s.length===4?Object.keys(o).find(e=>o[e].initial===s):Number.parseInt(s),l=new URL(`${c}/list.htm`,a).href,{data:u}=await n(l),d=r(u),f=d(`.news_list .news`).toArray().map(e=>{e=d(e);let n=e.find(`.news_title a`);return{title:n.attr(`title`),link:new URL(n.attr(`href`),a).href,pubDate:t(e.find(`.news_meta`).text())}}),p=await Promise.all(f.map(t=>e.tryGet(t.link,async()=>{let e;try{e=await n(t.link)}catch(e){if(e.response.url.startsWith(`https://newids.seu.edu.cn/`))return t;throw e}let i=r(e.data);return t.description=i(`div.wp_articlecontent`).html(),t})));return{link:l,title:`${d(`meta[name=keywords]`).attr(`content`)}${d(`meta[name=description]`).attr(`content`)} -- ${d(`head title`).text()}`,description:`东南大学计算机技术与工程学院RSS`,item:p}}export{i as route};
//# sourceMappingURL=cse-4CvfzWpn.js.map