import"./esm-shims-Dqvxr0BZ.js";import{config as e}from"./config-Dl8a1sIg.js";import"./logger-CWOoofbD.js";import"./dist-IvUHtNe1.js";import"./helpers-DzX-lcQO.js";import{cache_default as t}from"./cache-kimkMTWJ.js";import{parseDate as n}from"./parse-date-Bgabdhlb.js";import"./ofetch-Bzt0BXUH.js";import{got_default as r}from"./got-CdvI2yKX.js";import{load as i}from"cheerio";async function a(t){let a=t;try{let t=await r.get(a,{headers:{"User-Agent":e.ua}}),o=t.body,s=i(o),c=s(`#page-wrap > div.maim_pages > div > div.leftmain_page > div > ul > li`);return c.toArray().map(e=>{let t=s(e).find(`a.bt`),r=s(e).find(`a.time`),i=t.attr(`title`),a=t.attr(`href`),o=r.text().trim();return{title:i,link:a,pubDate:n(o,`YYYY-MM-DD`)}})}catch{}return[]}async function o(t){let n=t.link;if(n.includes(`sem.tongji.edu.cn/semch`))try{let a=await r.get(n,{headers:{"User-Agent":e.ua}}),o=a.body,s=i(o),c=s(`#page-wrap > div.maim_pages > div > div.leftmain_page > div`);t.description=c?c.html():``}catch{}return t}const s={path:`/sem/:type?`,categories:[`university`],example:`/tongji/sem/notice`,parameters:{type:"通知类型，默认为 `notice`"},features:{requireConfig:!1,requirePuppeteer:!1,antiCrawler:!1,supportBT:!1,supportPodcast:!1,supportScihub:!1},name:`经济与管理学院通知`,maintainers:[`sitdownkevin`],url:`sem.tongji.edu.cn/semch`,handler:c,description:`| 学院通知 | 招生通知 | 学术观点 | 新闻 | 活动 | 视点 | 教师与行政人员招聘 |
| -------- | -------------- | ------------------ | ---- | ---------- | --------- | ------------------ |
| notice   | enrollment     | academic-paper     | news | events     | focus     | collegerecruitment |
`};async function c(e){let n=e.req.param(`type`)||`notice`,r=new Set([`enrollment`,`academic-paper`,`news`,`events`,`focus`,`collegerecruitment`]),i={notice:`学院通知`,enrollment:`招生通知`,"academic-paper":`学术观点`,news:`新闻`,events:`活动`,focus:`视点`,collegerecruitment:`教师与行政人员招聘`},s=`https://sem.tongji.edu.cn/semch/category/frontpage/${r.has(n)?n:`notice`}`,c=await a(s),l=await Promise.all(c.map(e=>t.tryGet(e.link,()=>o(e))));return{title:`同济大学经济与管理学院`,description:String(r.has(n)?i[n]:`学院通知`),image:`https://upload.wikimedia.org/wikipedia/zh/f/f8/Tongji_University_Emblem.svg`,icon:`https://upload.wikimedia.org/wikipedia/zh/f/f8/Tongji_University_Emblem.svg`,logo:`https://upload.wikimedia.org/wikipedia/zh/f/f8/Tongji_University_Emblem.svg`,link:`https://sem.tongji.edu.cn/semch`,item:l}}export{s as route};
//# sourceMappingURL=notice-Di2Y59LT.js.map