{"version":3,"file":"utils-BD-79tFz.js","names":["cache","ofetch"],"sources":["../../lib/routes/wellcee/utils.ts"],"sourcesContent":["import { City, District } from './types';\r\n\r\nimport ofetch from '@/utils/ofetch';\r\nimport cache from '@/utils/cache';\r\nimport { config } from '@/config';\r\n\r\nexport const baseUrl = 'https://www.wellcee.com';\r\nexport const getCitys = () =>\r\n    cache.tryGet(\r\n        'wellcee:citys',\r\n        async () => {\r\n            const response = await ofetch(`${baseUrl}/api/home/index`, {\r\n                method: 'POST',\r\n                headers: {\r\n                    'content-type': 'application/x-www-form-urlencoded',\r\n                },\r\n                body: new URLSearchParams({\r\n                    lang: '1',\r\n                    userId: '',\r\n                    type: '1',\r\n                }).toString(),\r\n            });\r\n\r\n            return response.data.citys;\r\n        },\r\n        config.cache.routeExpire,\r\n        false\r\n    ) as Promise<City[]>;\r\n\r\nexport const getDistricts = (cityId: string) =>\r\n    cache.tryGet(\r\n        `wellcee:city:${cityId}`,\r\n        async () => {\r\n            const response = await ofetch(`${baseUrl}/api/house/filterType`, {\r\n                query: {\r\n                    cityId,\r\n                    lang: '1',\r\n                },\r\n            });\r\n\r\n            return response.data.district;\r\n        },\r\n        config.cache.routeExpire,\r\n        false\r\n    ) as Promise<District[]>;\r\n"],"mappings":"wJAMA,MAAa,EAAU,0BACV,MACTA,EAAM,OACF,gBACA,SAAY,CACR,IAAM,EAAW,MAAMC,EAAO,GAAG,EAAQ,iBAAkB,CACvD,OAAQ,OACR,QAAS,CACL,eAAgB,qCAEpB,KAAM,IAAI,gBAAgB,CACtB,KAAM,IACN,OAAQ,GACR,KAAM,MACP,aAGP,OAAO,EAAS,KAAK,OAEzB,EAAO,MAAM,YACb,IAGK,EAAgB,GACzBD,EAAM,OACF,gBAAgB,IAChB,SAAY,CACR,IAAM,EAAW,MAAMC,EAAO,GAAG,EAAQ,uBAAwB,CAC7D,MAAO,CACH,SACA,KAAM,OAId,OAAO,EAAS,KAAK,UAEzB,EAAO,MAAM,YACb"}