import"./esm-shims-Dqvxr0BZ.js";import"./config-Dl8a1sIg.js";import"./logger-CWOoofbD.js";import"./dist-IvUHtNe1.js";import"./helpers-DzX-lcQO.js";import{cache_default as e}from"./cache-kimkMTWJ.js";import{parseDate as t}from"./parse-date-Bgabdhlb.js";import"./ofetch-Bzt0BXUH.js";import{got_default as n}from"./got-CdvI2yKX.js";import{load as r}from"cheerio";const i={path:`/news/:category`,categories:[`government`],example:`/scpta/news/33`,parameters:{category:{description:"分类ID，默认为`33`(工作动态)",default:`33`}},features:{requireConfig:!1,requirePuppeteer:!1,antiCrawler:!1,supportBT:!1,supportPodcast:!1,supportScihub:!1},radar:[{source:[`www.scpta.com.cn/front/News/List`],target:`/news`}],name:`通知公告`,maintainers:[`Yeye-0426`],handler:a,description:`| 分类                 | category_id |
|----------------------|-------------|
| 工作动态             | 33          |
| 公务员考试           | 56          |
| 专业技术人员资格考试 | 57          |
| 事业单位考试         | 67          |
| 其它                 | 72          |`};async function a(i){let a=i.req.param(`category`),o=`https://www.scpta.com.cn`,s=`${o}/front/News/List/${a}`,c=await n(s),l=r(c.data),u=l(`div.wrap-content li`).toArray().map(e=>(e=l(e),{title:e.find(`a`).attr(`title`),link:`${o}${e.find(`a`).attr(`href`)}`,pubDate:t(e.find(`span`).text().trim())})),d=await Promise.all(u.map(t=>e.tryGet(t.link,async()=>{let e=``;try{let i=await n(t.link),a=r(i.data);e=a(`div.wrap-content.news-content`).html()}catch{e=`公告内容获取失败`}return t.description=e,t}))),f={33:`工作动态`,56:`公务员考试`,57:`专业技术人员资格考试`,67:`事业单位考试`,72:`其它`};return{title:`通知公告 - ${f[a]||`未知分类`}`,link:s,item:d}}export{i as route};
//# sourceMappingURL=news-ErR2_--s.js.map