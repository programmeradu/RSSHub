import"./esm-shims-Dqvxr0BZ.js";import"./config-Dl8a1sIg.js";import"./logger-CWOoofbD.js";import"./dist-IvUHtNe1.js";import"./helpers-DzX-lcQO.js";import"./ofetch-Bzt0BXUH.js";import{got_default as e}from"./got-CdvI2yKX.js";import{load as t}from"cheerio";const n={want:`想买`,preorder:`预定`,buy:`已入`,care:`关注`,resell:`有过`},r={path:`/user/:user_id/:caty`,categories:[`anime`],example:`/hpoi/user/116297/buy`,parameters:{user_id:{description:`用户ID`},caty:{description:`类别`,options:[{value:`want`,label:`想买`},{value:`preorder`,label:`预定`},{value:`buy`,label:`已入`},{value:`care`,label:`关注`},{value:`resell`,label:`有过`}],default:`buy`}},features:{requireConfig:!1,requirePuppeteer:!1,antiCrawler:!1,supportBT:!1,supportPodcast:!1,supportScihub:!1},name:`用户动态`,maintainers:[`DIYgod`,`luyuhuang`],handler:i};async function i(r){let{user_id:i,caty:a}=r.req.param(),o=`https://www.hpoi.net/user/${i}/hobby?order=actionDate&view=2&favState=${a}`,s=await e({method:`get`,url:o}),c=t(s.data),l=c(`.collect-hobby-list-small`).toArray().map(e=>(e=c(e),{title:n[a]+`: `+e.find(`.name`).text(),link:`https://www.hpoi.net/`+e.find(`.name`).attr(`href`),description:`<img src="${e.find(`img`).attr(`src`).replace(`/s/`,`/n/`)}"><br>${e.find(`.pay`).text()}<br>${e.find(`.score`).text()}`})),u=c(`.hpoi-collect-head .info p`).eq(0).text()+`的手办 - `+n[a];return{title:u,link:o,item:l,allowEmpty:!0}}export{r as route};
//# sourceMappingURL=user-BmB9X7xf.js.map