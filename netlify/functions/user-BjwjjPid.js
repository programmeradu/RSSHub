import"./esm-shims-Dqvxr0BZ.js";import"./config-Dl8a1sIg.js";import"./logger-CWOoofbD.js";import"./dist-IvUHtNe1.js";import"./helpers-DzX-lcQO.js";import{cache_default as e}from"./cache-kimkMTWJ.js";import{parseDate as t,parseRelativeDate as n}from"./parse-date-Bgabdhlb.js";import"./ofetch-Bzt0BXUH.js";import{got_default as r}from"./got-CdvI2yKX.js";import{timezone as i}from"./timezone-BrNu6iXe.js";import{load as a}from"cheerio";const o={path:`/user/:category/:id`,categories:[`programming`],example:`/quicker/user/Actions/3-CL`,parameters:{category:`分类，见下表`,id:`用户 id，可在对应用户页 URL 中找到`},features:{requireConfig:!1,requirePuppeteer:!1,antiCrawler:!1,supportBT:!1,supportPodcast:!1,supportScihub:!1},name:`用户更新`,maintainers:[`Cesaryuan`,`nczitzk`],handler:s,description:`| 动作    | 子程序      | 动作单      |
| ------- | ----------- | ----------- |
| Actions | SubPrograms | ActionLists |`};async function s(o){let s=o.req.param(`category`),c=o.req.param(`id`),l=`https://getquicker.net`,u=`${l}/User/${s}/${c}`,d=await r({method:`get`,url:u}),f=a(d.data),p=f(`table tbody tr`).slice(1,o.req.query(`limit`)?Number.parseInt(o.req.query(`limit`)):25).toArray().map(e=>(e=f(e).find(`td a`).first(),{title:e.text(),link:`${l}${e.attr(`href`)}`}));return p=await Promise.all(p.map(o=>e.tryGet(o.link,async()=>{let e=await r({method:`get`,url:o.link}),s=a(e.data);s(`section`).last().remove(),s(`#app`).children().slice(0,2).remove();let c=s(`.text-secondary a`).not(`.text-secondary`).first().text()?.trim().replaceAll(/\s*/g,``)||s(`div.note-text`).find(`span`).eq(3).text();return o.author=s(`.user-link`).first().text(),o.description=s(`div[data-info="动作信息"]`).html()??s(`#app`).html()??s(`.row`).eq(1).html(),o.pubDate=i(/-/.test(c)?t(c):n(c),8),o}))),{title:f(`title`).text(),link:u,item:p,allowEmpty:!0}}export{o as route};
//# sourceMappingURL=user-BjwjjPid.js.map