import"./esm-shims-Dqvxr0BZ.js";import"./config-Dl8a1sIg.js";import"./logger-CWOoofbD.js";import"./dist-IvUHtNe1.js";import{parseDate as e}from"./parse-date-Bgabdhlb.js";import{ofetch_default as t}from"./ofetch-Bzt0BXUH.js";const n={path:`/dynamic/:id`,categories:[`programming`],example:`/juejin/dynamic/3051900006845944`,parameters:{id:`用户 id, 可在用户页 URL 中找到`},features:{requireConfig:!1,requirePuppeteer:!1,antiCrawler:!1,supportBT:!1,supportPodcast:!1,supportScihub:!1},radar:[{source:[`juejin.cn/user/:id`]}],name:`用户动态`,maintainers:[`CaoMeiYouRen`],handler:r};async function r(n){let r=n.req.param(`id`),i=await t(`https://api.juejin.cn/user_api/v1/user/dynamic`,{query:{user_id:r,cursor:0}}),a=i.data.list,o=a[0].user,s=o.user_name,c=a.map(t=>{let{target_type:n,target_data:r,action:i,time:a}=t,o,c,l,u,d,f;switch(n){case`short_msg`:{let{msg_Info:t,author_user_info:n,msg_id:a,topic:p}=r,{content:m,pic_list:h,ctime:g}=t;o=m;let _=h.map(e=>`<img src="${e}"><br>`).join(``);c=`${m.replaceAll(`
`,`<br>`)}<br>${_}`,l=e(Number(g)*1e3),u=n.user_name,d=`https://juejin.cn/pin/${a}`,f=p.title,i===3&&(o=`${s} 赞了这篇沸点//@${u}：${o}`,c=`${s} 赞了这篇沸点//@${u}：${c}`);break}case`article`:{let{article_id:t,article_info:n,author_user_info:a,tags:p}=r,{ctime:m,brief_content:h}=n;o=n.title,c=h,l=e(Number(m)*1e3),u=a.user_name,d=`https://juejin.cn/post/${t}`,f=[...new Set([r.category.category_name,...p.map(e=>e.tag_name)])],i===1&&(o=`${s} 赞了这篇文章//@${u}：${o}`);break}case`user`:{let{user_name:t,user_id:n}=r;o=`${s} 关注了 ${t}`,c=`${t}<br>简介：${r.description}`,u=t,d=`https://juejin.cn/user/${n}`,l=e(a*1e3);break}case`tag`:{let{tag_name:t}=r;o=`${s} 关注了标签 ${t}`,c=t,f=[t],d=`https://juejin.cn/tag/${encodeURIComponent(t)}`,l=e(a*1e3);break}default:break}return{title:o,description:c,pubDate:l,author:u,link:d,category:f,guid:d}});return{title:`掘金用户动态-${s}`,link:`https://juejin.cn/user/${r}/`,description:o.description||`掘金用户动态-${s}`,image:o.avatar_large,item:c,author:s}}export{n as route};
//# sourceMappingURL=dynamic-C9GNQsLP.js.map