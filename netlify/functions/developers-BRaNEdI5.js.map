{"version":3,"file":"developers-BRaNEdI5.js","names":["route: Route","ofetch"],"sources":["../../lib/routes/google/developers.ts"],"sourcesContent":["import { Route } from '@/types';\r\nimport ofetch from '@/utils/ofetch';\r\nimport { load } from 'cheerio';\r\nimport { parseDate } from '@/utils/parse-date';\r\nimport type { Context } from 'hono';\r\n\r\nconst baseUrl = 'https://developers.googleblog.com';\r\n\r\nexport const route: Route = {\r\n    path: '/developers/:locale?',\r\n    name: 'Developers Blog',\r\n    url: 'developers.googleblog.com',\r\n    maintainers: ['Loongphy'],\r\n    handler,\r\n    example: '/google/developers/en',\r\n    parameters: {\r\n        locale: {\r\n            description: 'language',\r\n            default: 'en',\r\n            options: [\r\n                { value: 'en', label: 'English' },\r\n                { value: 'es', label: 'Español (Latam)' },\r\n                { value: 'id', label: 'Bahasa Indonesia' },\r\n                { value: 'ja', label: '日本語' },\r\n                { value: 'ko', label: '한국어' },\r\n                { value: 'pt-br', label: 'Português (Brasil)' },\r\n                { value: 'zh-hans', label: '简体中文' },\r\n            ],\r\n        },\r\n    },\r\n    description: 'Google Developers Blog',\r\n    categories: ['blog'],\r\n    radar: [\r\n        {\r\n            source: ['developers.googleblog.com'],\r\n        },\r\n    ],\r\n};\r\n\r\nasync function handler(ctx: Context) {\r\n    const locale = ctx.req.param('locale') ?? 'en';\r\n\r\n    const response = await ofetch(`${baseUrl}/${locale}/search`);\r\n    const $ = load(response);\r\n\r\n    const items = $('.search-result')\r\n        .toArray()\r\n        .map((element) => {\r\n            const dateCategory = $(element).find('.search-result__eyebrow').text().trim();\r\n            const [date, category] = dateCategory.split(' / ');\r\n            const titleElement = $(element).find('.search-result__title a');\r\n            const title = titleElement.text().trim();\r\n            const link = titleElement.attr('href');\r\n            const summary = $(element).find('.search-result__summary').text().trim();\r\n\r\n            return {\r\n                title,\r\n                link: `${baseUrl}${link}`,\r\n                pubDate: parseDate(date),\r\n                description: summary,\r\n                author: 'Google',\r\n                category: [category],\r\n            };\r\n        });\r\n\r\n    return {\r\n        title: 'Google Developers Blog',\r\n        link: baseUrl,\r\n        item: items,\r\n    };\r\n}\r\n"],"mappings":"+PAMA,MAAM,EAAU,oCAEHA,EAAe,CACxB,KAAM,uBACN,KAAM,kBACN,IAAK,4BACL,YAAa,CAAC,YACd,UACA,QAAS,wBACT,WAAY,CACR,OAAQ,CACJ,YAAa,WACb,QAAS,KACT,QAAS,CACL,CAAE,MAAO,KAAM,MAAO,WACtB,CAAE,MAAO,KAAM,MAAO,mBACtB,CAAE,MAAO,KAAM,MAAO,oBACtB,CAAE,MAAO,KAAM,MAAO,OACtB,CAAE,MAAO,KAAM,MAAO,OACtB,CAAE,MAAO,QAAS,MAAO,sBACzB,CAAE,MAAO,UAAW,MAAO,WAIvC,YAAa,yBACb,WAAY,CAAC,QACb,MAAO,CACH,CACI,OAAQ,CAAC,gCAKrB,eAAe,EAAQ,EAAc,CACjC,IAAM,EAAS,EAAI,IAAI,MAAM,WAAa,KAEpC,EAAW,MAAMC,EAAO,GAAG,EAAQ,GAAG,EAAO,UAC7C,EAAI,EAAK,GAET,EAAQ,EAAE,kBACX,UACA,IAAK,GAAY,CACd,IAAM,EAAe,EAAE,GAAS,KAAK,2BAA2B,OAAO,OACjE,CAAC,EAAM,GAAY,EAAa,MAAM,OACtC,EAAe,EAAE,GAAS,KAAK,2BAC/B,EAAQ,EAAa,OAAO,OAC5B,EAAO,EAAa,KAAK,QACzB,EAAU,EAAE,GAAS,KAAK,2BAA2B,OAAO,OAElE,MAAO,CACH,QACA,KAAM,GAAG,IAAU,IACnB,QAAS,EAAU,GACnB,YAAa,EACb,OAAQ,SACR,SAAU,CAAC,MAIvB,MAAO,CACH,MAAO,yBACP,KAAM,EACN,KAAM"}