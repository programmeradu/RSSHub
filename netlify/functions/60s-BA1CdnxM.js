import"./esm-shims-Dqvxr0BZ.js";import"./config-Dl8a1sIg.js";import"./logger-CWOoofbD.js";import"./dist-IvUHtNe1.js";import{parseDate as e}from"./parse-date-Bgabdhlb.js";import{ofetch_default as t}from"./ofetch-Bzt0BXUH.js";import{ViewType as n}from"./types-A5bA50Mg.js";import{load as r}from"cheerio";const i=async n=>{let{category:i}=n.req.param(),a=Number.parseInt(n.req.query(`limit`)??`100`,10),o=`wp-json/wp/v2`,s=`https://60s.aa1.cn`,c=new URL(`${o}/posts`,s).href,l=new URL(`${o}/categories`,s).href,u=await t(l,{query:{search:i}}),d=u.find(e=>e.slug===i||e.name===i),f=d?.id??void 0,p=d?.slug??void 0,m=await t(c,{query:{_embed:`true`,per_page:a,categories:f}}),h=new URL(p?`category/${p}`:``,s).href,g=await t(h),_=r(g),v=_(`html`).attr(`lang`)??`zh`,y=[];y=m.slice(0,a).map(t=>{let n=t.title?.rendered??t.title,r=t.content.rendered,i=t.date_gmt,a=t.link,o=t._embedded?.[`wp:term`],s=o?.flat().map(e=>e.name)??[],c=t._embedded?.author.map(e=>({name:e.name,url:e.link,avatar:e.avatar_urls?.[`96`]??e.avatar_urls?.[`48`]??e.avatar_urls?.[`24`]??void 0}))??[],l=t.guid?.rendered??t.guid,u=t._embedded?.[`wp:featuredmedia`]?.[0].source_url??void 0,d=t.modified_gmt??i,f={title:n,description:r,pubDate:i?e(i):void 0,link:a??l,category:s,author:c,guid:l,id:l,content:{html:r,text:r},image:u,banner:u,updated:d?e(d):void 0,language:v};return f});let b=_(`title`).text();return{title:b,description:_(`meta[name="description"]`).attr(`content`),link:h,item:y,allowEmpty:!0,image:_(`header#header-div img`).attr(`src`),author:b.split(/-/).pop(),language:v,id:h}},a={path:`/60s/:category?`,name:`每日新闻`,url:`60s.aa1.cn`,maintainers:[`nczitzk`],handler:i,example:`/aa1/60s/news`,parameters:{category:{description:`分类，默认为全部，可在对应分类页 URL 中找到`,options:[{label:`全部`,value:``},{label:`新闻词文章数据`,value:`freenewsdata`},{label:`最新`,value:`new`},{label:`本平台同款自动发文章插件`,value:`1`},{label:`每天60秒读懂世界`,value:`news`}]}},description:`:::tip
订阅 [每天60秒读懂世界](https://60s.aa1.cn/category/news)，其源网址为 \`https://60s.aa1.cn/category/news\`，请参考该 URL 指定部分构成参数，此时路由为 [\`/aa1/60s/news\`](https://rsshub.app/aa1/60s/news) 或 [\`/aa1/60s/每天60秒读懂世界\`](https://rsshub.app/aa1/60s/每天60秒读懂世界)。
:::

| 分类                                                       | ID                                                      |
| ---------------------------------------------------------- | ------------------------------------------------------- |
| [全部](https://60s.aa1.cn)                                 | [<空>](https://rsshub.app/aa1/60s)                      |
| [新闻词文章数据](https://60s.aa1.cn/category/freenewsdata) | [freenewsdata](https://rsshub.app/aa1/60s/freenewsdata) |
| [最新](https://60s.aa1.cn/category/new)                    | [new](https://rsshub.app/aa1/60s/new)                   |
| [本平台同款自动发文章插件](https://60s.aa1.cn/category/1)  | [1](https://rsshub.app/aa1/60s/1)                       |
| [每天 60 秒读懂世界](https://60s.aa1.cn/category/news)     | [news](https://rsshub.app/aa1/60s/news)                 |
`,categories:[`new-media`],features:{requireConfig:!1,requirePuppeteer:!1,antiCrawler:!1,supportRadar:!0,supportBT:!1,supportPodcast:!1,supportScihub:!1},radar:[{source:[`60s.aa1.cn`,`60s.aa1.cn/category/:category`],target:`/60s/:category`},{title:`全部`,source:[`60s.aa1.cn`],target:`/60s`},{title:`新闻词文章数据`,source:[`60s.aa1.cn/category/freenewsdata`],target:`/60s/freenewsdata`},{title:`最新`,source:[`60s.aa1.cn/category/new`],target:`/60s/new`},{title:`本平台同款自动发文章插件`,source:[`60s.aa1.cn/category/1`],target:`/60s/1`},{title:`每天60秒读懂世界`,source:[`60s.aa1.cn/category/news`],target:`/60s/news`}],view:n.Articles};export{i as handler,a as route};
//# sourceMappingURL=60s-BA1CdnxM.js.map