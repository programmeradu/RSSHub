{"version":3,"file":"explorables-Dqex6KQq.js","names":["route: Route","ofetch","cache","response"],"sources":["../../lib/routes/withgoogle/explorables.ts"],"sourcesContent":["import type { Route, DataItem } from '@/types';\r\nimport cache from '@/utils/cache';\r\nimport ofetch from '@/utils/ofetch';\r\nimport { load } from 'cheerio';\r\n\r\nexport const route: Route = {\r\n    name: 'PAIR - AI Exploreables',\r\n    url: 'pair.withgoogle.com/explorables',\r\n    path: '/explorables',\r\n    maintainers: ['cesaryuan'],\r\n    example: '/withgoogle/explorables',\r\n    categories: ['blog'],\r\n    radar: [\r\n        {\r\n            source: ['pair.withgoogle.com/explorables'],\r\n            target: '',\r\n        },\r\n    ],\r\n    handler: async () => {\r\n        const baseUrl = 'https://pair.withgoogle.com';\r\n        const response = await ofetch(baseUrl + '/explorables', {\r\n            method: 'GET',\r\n        });\r\n        const $ = load(response);\r\n        const items = await Promise.all(\r\n            $('div.explorable-card')\r\n                .toArray()\r\n                .map(async (el) => {\r\n                    const title = $(el).find('h3').text();\r\n                    const image = $(el).find('img').attr('src');\r\n                    const link = baseUrl + $(el).find('a').attr('href');\r\n                    return (await cache.tryGet(link, async () => {\r\n                        const response = await ofetch(link);\r\n                        const $item = load(response);\r\n                        let description = $item('body').html();\r\n                        if (!description || description.trim() === '') {\r\n                            description = $('p').text();\r\n                        }\r\n                        return {\r\n                            title,\r\n                            link,\r\n                            description,\r\n                            image,\r\n                        };\r\n                    })) as DataItem;\r\n                })\r\n        );\r\n        return {\r\n            title: 'PAIR - AI Exploreables',\r\n            link: 'https://pair.withgoogle.com/explorables',\r\n            item: items,\r\n        };\r\n    },\r\n};\r\n"],"mappings":"8PAKA,MAAaA,EAAe,CACxB,KAAM,yBACN,IAAK,kCACL,KAAM,eACN,YAAa,CAAC,aACd,QAAS,0BACT,WAAY,CAAC,QACb,MAAO,CACH,CACI,OAAQ,CAAC,mCACT,OAAQ,KAGhB,QAAS,SAAY,CACjB,IAAM,EAAU,8BACV,EAAW,MAAMC,EAAO,EAAU,eAAgB,CACpD,OAAQ,QAEN,EAAI,EAAK,GACT,EAAQ,MAAM,QAAQ,IACxB,EAAE,uBACG,UACA,IAAI,KAAO,IAAO,CACf,IAAM,EAAQ,EAAE,GAAI,KAAK,MAAM,OACzB,EAAQ,EAAE,GAAI,KAAK,OAAO,KAAK,OAC/B,EAAO,EAAU,EAAE,GAAI,KAAK,KAAK,KAAK,QAC5C,OAAQ,MAAMC,EAAM,OAAO,EAAM,SAAY,CACzC,IAAMC,EAAW,MAAMF,EAAO,GACxB,EAAQ,EAAKE,GACf,EAAc,EAAM,QAAQ,OAIhC,OAHI,CAAC,GAAe,EAAY,SAAW,MACvC,EAAc,EAAE,KAAK,QAElB,CACH,QACA,OACA,cACA,cAKpB,MAAO,CACH,MAAO,yBACP,KAAM,0CACN,KAAM"}