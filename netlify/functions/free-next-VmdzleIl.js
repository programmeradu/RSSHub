import"./esm-shims-Dqvxr0BZ.js";import"./config-Dl8a1sIg.js";import"./logger-CWOoofbD.js";import"./dist-IvUHtNe1.js";import"./helpers-DzX-lcQO.js";import"./ofetch-Bzt0BXUH.js";import{got_default as e}from"./got-CdvI2yKX.js";import{load as t}from"cheerio";const n={path:`/free-next/:type?`,categories:[`reading`],example:`/qidian/free-next`,parameters:{type:`默认不填为起点中文网，填 mm 为起点女生网`},features:{requireConfig:!1,requirePuppeteer:!1,antiCrawler:!1,supportBT:!1,supportPodcast:!1,supportScihub:!1},radar:[{source:[`www.qidian.com/free`],target:`/free`}],name:`限时免费下期预告`,maintainers:[`LogicJake`],handler:r,url:`www.qidian.com/free`};async function r(n){let r=n.req.param(`type`),i,a;r===`mm`?(i=`https://www.qidian.com/mm/free`,a=`起点女生网`):(i=`https://www.qidian.com/free`,a=`起点中文网`);let o=await e(i),s=t(o.data),c=s(`div.other-rec-wrap li`),l=c.toArray().map(e=>{e=s(e);let t=`<img src="https:${e.find(`.img-box img`).attr(`src`)}">`,n=`<p>评分：${e.find(`.img-box span`).text()}</p>`;return{title:e.find(`.book-info h4 a`).text(),description:t+n+e.find(`p.intro`).html(),link:`https:`+e.find(`.book-info h4 a`).attr(`href`),author:e.find(`p.author a`).text()}});return{title:a,description:`限时免费下期预告-${a}`,link:i,item:l}}export{n as route};
//# sourceMappingURL=free-next-VmdzleIl.js.map