{"version":3,"file":"design-QXRc56ej.js","names":["route: Route","ofetch"],"sources":["../../lib/routes/apple/design.ts"],"sourcesContent":["import { Route } from '@/types';\r\nimport { parseDate } from '@/utils/parse-date';\r\nimport ofetch from '@/utils/ofetch';\r\nimport md5 from '@/utils/md5';\r\nimport { load } from 'cheerio';\r\n\r\nexport const route: Route = {\r\n    categories: ['design'],\r\n    example: '/apple/design',\r\n    handler,\r\n    maintainers: ['jean-jacket'],\r\n    name: 'Design updates',\r\n    path: '/design',\r\n    url: 'developer.apple.com/design/whats-new/',\r\n};\r\n\r\nasync function handler() {\r\n    const LINK = 'https://developer.apple.com/design/whats-new/';\r\n\r\n    const response = await ofetch(LINK);\r\n    const $ = load(response);\r\n\r\n    const items = $('table')\r\n        .toArray()\r\n        .flatMap((item) => {\r\n            const table = $(item);\r\n            const date = table.find('.date').first().text();\r\n\r\n            return table\r\n                .find('.topic-item')\r\n                .toArray()\r\n                .map((row) => {\r\n                    const update = $(row);\r\n                    const titleTag = update.find('span.topic-title a');\r\n                    const title = titleTag.text();\r\n                    const link = `https://developer.apple.com${titleTag.attr('href')}`;\r\n                    const description = update.find('span.description').text();\r\n\r\n                    return {\r\n                        description,\r\n                        guid: md5(`${title}${description}${date}`),\r\n                        link,\r\n                        pubDate: parseDate(date),\r\n                        title,\r\n                    };\r\n                });\r\n        });\r\n\r\n    return {\r\n        item: items,\r\n        link: LINK,\r\n        title: 'Apple design updates',\r\n    };\r\n}\r\n"],"mappings":"uSAMA,MAAaA,EAAe,CACxB,WAAY,CAAC,UACb,QAAS,gBACT,UACA,YAAa,CAAC,eACd,KAAM,iBACN,KAAM,UACN,IAAK,yCAGT,eAAe,GAAU,CACrB,IAAM,EAAO,gDAEP,EAAW,MAAMC,EAAO,GACxB,EAAI,EAAK,GAET,EAAQ,EAAE,SACX,UACA,QAAS,GAAS,CACf,IAAM,EAAQ,EAAE,GACV,EAAO,EAAM,KAAK,SAAS,QAAQ,OAEzC,OAAO,EACF,KAAK,eACL,UACA,IAAK,GAAQ,CACV,IAAM,EAAS,EAAE,GACX,EAAW,EAAO,KAAK,sBACvB,EAAQ,EAAS,OACjB,EAAO,8BAA8B,EAAS,KAAK,UACnD,EAAc,EAAO,KAAK,oBAAoB,OAEpD,MAAO,CACH,cACA,KAAM,EAAI,GAAG,IAAQ,IAAc,KACnC,OACA,QAAS,EAAU,GACnB,aAKpB,MAAO,CACH,KAAM,EACN,KAAM,EACN,MAAO"}