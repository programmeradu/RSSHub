import"./esm-shims-Dqvxr0BZ.js";import"./config-Dl8a1sIg.js";import"./logger-CWOoofbD.js";import"./dist-IvUHtNe1.js";import"./helpers-DzX-lcQO.js";import{parseDate as e}from"./parse-date-Bgabdhlb.js";import"./ofetch-Bzt0BXUH.js";import{got_default as t}from"./got-CdvI2yKX.js";import{invalid_parameter_default as n}from"./invalid-parameter-CUJdROXf.js";import{load as r}from"cheerio";const i=/(20\d{2}).(\d{2})-(\d{2})/,a=`https://news.uestc.edu.cn`,o={academy:`/?n=UestcNews.Front.CategoryV2.Page&CatId=66`,culture:`/?n=UestcNews.Front.CategoryV2.Page&CatId=67`,announcement:`/?n=UestcNews.Front.CategoryV2.Page&CatId=68`},s={path:`/news/:type?`,categories:[`university`],example:`/uestc/news/culture`,parameters:{type:"默认为 `announcement`"},features:{requireConfig:!1,requirePuppeteer:!1,antiCrawler:!0,supportBT:!1,supportPodcast:!1,supportScihub:!1},radar:[{source:[`news.uestc.edu.cn/`],target:`/news`}],name:`新闻中心`,maintainers:[`achjqz`,`mobyw`],handler:c,url:`news.uestc.edu.cn/`,description:`| 学术    | 文化    | 公告         | 校内通知     |
| ------- | ------- | ------------ | ------------ |
| academy | culture | announcement | notification |`};async function c(s){let c=s.req.param(`type`)||`announcement`,l=o[c];if(!l)throw new n(`type not supported`);let u=await t.get(a+l),d=r(u.data),f=d(`div.notice-item.clearfix`),p=d(f).toArray().map(t=>{t=d(t);let n=t.find(`a`).text().trim(),r=a+t.find(`a`).attr(`href`),o=e(t.find(`div.date-box-sm`).text().replace(i,`$1-$2-$3`)),s=t.find(`div.content`).text().trim().replace(`&nbsp;`,``);return{title:n,link:r,description:s,pubDate:o}});return{title:`新闻网通知`,link:a,description:`电子科技大学新闻网信息公告`,item:p}}export{s as route};
//# sourceMappingURL=news-BEPWQgo9.js.map