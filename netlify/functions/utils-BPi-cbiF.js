import{__dirname as e,init_esm_shims as t}from"./esm-shims-Dqvxr0BZ.js";import{art as n}from"./render-CxhTJIsl.js";import{got_default as r}from"./got-CdvI2yKX.js";import i from"node:path";t();const a=`https://meteor.today`,o=e=>e(`meteor:boards`,async()=>{let{data:e}=await r.post(`${a}/board/get_boards`,{json:{isCollege:`false`}});return JSON.parse(decodeURIComponent(e.result)).map(e=>({title:`${e.category?`${e.category} - `:``}${e.name}`,description:e.id,feedDescription:e.description,category:e.articleCategory,link:`${a}/board/${e.alias??e.name}`,alias:e.alias,imgUrl:e.imageUrl,id:e.id}))}),s=t=>{let r=/(?:https?:\/\/)?(?:www\.)?youtu\.?be(?:\.com)?\/?.*(?:watch|embed)?(?:.*v=|v\/|\/)([\w-]+)&?/g,a=t.match(r),o=t.match(/https:\/\/i.imgur.com\/\w*.(jpg|png|gif|jpeg)/g),s=t.match(/(https:\/\/storage\.meteor\.today\/video\/[\da-f]{24}\.)(mp4|mov|avi|flv|wmv|mpeg|mkv)/gi),c=t.match(/assets\/images\/stickers\/(duck|ep2|ep1)\/\w*.(jpg|png|gif|jpeg)/g),l=t.match(/assets\/images\/emoji\/\w*.(jpg|png|gif|jpeg)/g);if(a&&(t=t.replaceAll(r,n(i.join(e,`templates/desc-a38e5ea7.art`),{youTube:`$1`}))),o)for(let r of o)t=t.replace(r,n(i.join(e,`templates/desc-a38e5ea7.art`),{img:r}));if(s)for(let r of s)t=t.replace(r,n(i.join(e,`templates/desc-a38e5ea7.art`),{video:r}));if(c)for(let r of c)t=t.replace(r,n(i.join(e,`templates/desc-a38e5ea7.art`),{img:r}));if(l)for(let r of l)t=t.replace(r,n(i.join(e,`templates/desc-a38e5ea7.art`),{img:r}));return t.replaceAll(`
`,`<br>`)};export{a as baseUrl,o as getBoards,s as renderDesc};
//# sourceMappingURL=utils-BPi-cbiF.js.map