import{__dirname as e,init_esm_shims as t}from"./esm-shims-Dqvxr0BZ.js";import"./config-Dl8a1sIg.js";import"./logger-CWOoofbD.js";import"./dist-IvUHtNe1.js";import"./helpers-DzX-lcQO.js";import{art as n}from"./render-CxhTJIsl.js";import"./ofetch-Bzt0BXUH.js";import{got_default as r}from"./got-CdvI2yKX.js";import i from"node:path";import{load as a}from"cheerio";t();const o=async t=>{let{category:o=`latest/awarded`}=t.req.param(),s=t.req.query(`limit`)?Number.parseInt(t.req.query(`limit`),10):30,c=`https://1x.com`,l=new URL(`gallery/${o}`,c).href,{data:u}=await r(l),d=a(u),f=d(`html`).prop(`lang`),p=new URL(`backend/lm2.php?style=normal&mode=${d(`input#lm_mode`).prop(`value`)}`,c).href,{data:m}=await r(p),h=a(m),g=h(`div.photos-feed-item`).slice(0,s).toArray().map(t=>{t=d(t);let r=t.find(`span.photos-feed-data-title`).first().text()||`Untitled`,a=t.find(`img`).prop(`src`),o=t.find(`span.photos-feed-data-name`).first().text(),s=`${r} by ${o}`,l=n(i.join(e,`templates/description-6d4e805c.art`),{images:a?[{src:a,alt:r}]:void 0,description:s}),u=t.find(`img[id]`).prop(`id`).split(/-/).pop(),p=`1x-${u}`;return{title:r,description:l,link:new URL(`photo/${u}`,c).href,author:o,guid:p,id:p,content:{html:l,text:s},image:a,banner:a,language:f,enclosure_url:a,enclosure_type:a?`image/${a.split(/\./).pop()}`:void 0,enclosure_title:r}}),_=new URL(d(`img.themedlogo`).prop(`src`),c).href;return{title:d(`title`).text(),description:d(`meta[name="description"]`).prop(`content`),link:l,item:g,allowEmpty:!0,image:_,author:d(`meta[property="og:site_name"]`).prop(`content`),language:f}},s={path:`/:category{.+}?`,name:`Gallery`,url:`1x.com`,maintainers:[`nczitzk`],handler:o,example:`/1x/latest/awarded`,parameters:{category:`Category, Latest Awarded by default`},description:"::: tip\nFill in the field in the path with the part of the corresponding page URL after `https://1x.com/gallery/` or `https://1x.com/photo/`. Here are the examples:\n\nIf you subscribe to [Abstract Awarded](https://1x.com/gallery/abstract/awarded), you should fill in the path with the part `abstract/awarded` from the page URL `https://1x.com/gallery/abstract/awarded`. In this case, the route will be [`/1x/abstract/awarded`](https://rsshub.app/1x/abstract/awarded).\n\nIf you subscribe to [Wildlife Published](https://1x.com/gallery/wildlife/published), you should fill in the path with the part `wildlife/published` from the page URL `https://1x.com/gallery/wildlife/published`. In this case, the route will be [`/1x/wildlife/published`](https://rsshub.app/1x/wildlife/published).\n:::",categories:[`design`,`picture`],features:{requireConfig:!1,requirePuppeteer:!1,antiCrawler:!1,supportRadar:!0,supportBT:!1,supportPodcast:!1,supportScihub:!1},radar:[{source:[`/gallery/:category*`,`/photos/:category*`],target:`/1x/:category`}]};export{o as handler,s as route};
//# sourceMappingURL=1x-C2Fl33WB.js.map