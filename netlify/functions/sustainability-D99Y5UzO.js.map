{"version":3,"file":"sustainability-D99Y5UzO.js","names":["route: Route","ofetch"],"sources":["../../lib/routes/pwc/sustainability.ts"],"sourcesContent":["import { Route } from '@/types';\r\nimport { parseDate } from '@/utils/parse-date';\r\nimport ofetch from '@/utils/ofetch';\r\n\r\ninterface PlayerOptions {\r\n    link: string;\r\n    image: string;\r\n    flashplayer: string;\r\n    width: string;\r\n    height: string;\r\n    aspectratio: string;\r\n    title: string;\r\n    description: string;\r\n    autostart: boolean;\r\n}\r\n\r\ninterface Element {\r\n    index: number;\r\n    href: string;\r\n    relativeHref: string;\r\n    text: string;\r\n    thumbnailText: string;\r\n    title: string;\r\n    image: string;\r\n    tags: string[];\r\n    filterTags: string;\r\n    publishDate: string;\r\n    playerOptions: PlayerOptions;\r\n    damSize: string;\r\n    template: string;\r\n    itemUrl: string;\r\n    itemWidth: string;\r\n    itemHeight: string;\r\n    isPage: boolean;\r\n    isVideo: boolean;\r\n    itemVideoTranscriptLink: string;\r\n}\r\n\r\nexport const route: Route = {\r\n    path: '/strategyand/sustainability',\r\n    categories: ['other'],\r\n    example: '/pwc/strategyand/sustainability',\r\n    radar: [\r\n        {\r\n            source: ['strategyand.pwc.com/at/en/functions/sustainability-strategy/publications.html', 'strategyand.pwc.com/'],\r\n        },\r\n    ],\r\n    name: 'Sustainability',\r\n    maintainers: ['mintyfrankie'],\r\n    handler,\r\n    url: 'strategyand.pwc.com/at/en/functions/sustainability-strategy/publications.html',\r\n};\r\n\r\nasync function handler() {\r\n    const baseUrl = 'https://www.strategyand.pwc.com/at/en/functions/sustainability-strategy/publications.html';\r\n    const feedLang = 'en';\r\n    const feedDescription = 'Sustainability Publications from PwC Strategy&';\r\n\r\n    const response = await ofetch(\r\n        'https://www.strategyand.pwc.com/content/pwc/03/en/functions/sustainability-strategy/publications/jcr:content/root/container/content-free-container/section_545483788/collection_v2.filter-dynamic.html',\r\n        {\r\n            query: {\r\n                currentPagePath: '/content/pwc/03/en/functions/sustainability-strategy/publications',\r\n                list: { menu_0: [] },\r\n                defaultImagePath: '/content/dam/pwc/network/strategyand-collection-fallback-images',\r\n            },\r\n        }\r\n    );\r\n    const elements = JSON.parse(response.elements) as Element[];\r\n\r\n    const items = elements.map((item) => ({\r\n        title: item.title,\r\n        link: item.href,\r\n        pubDate: parseDate(item.publishDate, 'DD/MM/YY'),\r\n        description: item.text,\r\n        category: item.tags,\r\n    }));\r\n\r\n    // TODO: Add full text support\r\n\r\n    return {\r\n        title: 'PwC Strategy& - Sustainability Publications',\r\n        link: baseUrl,\r\n        language: feedLang,\r\n        description: feedDescription,\r\n        item: items,\r\n    };\r\n}\r\n"],"mappings":"gOAsCA,MAAaA,EAAe,CACxB,KAAM,8BACN,WAAY,CAAC,SACb,QAAS,kCACT,MAAO,CACH,CACI,OAAQ,CAAC,gFAAiF,0BAGlG,KAAM,iBACN,YAAa,CAAC,gBACd,UACA,IAAK,iFAGT,eAAe,GAAU,CACrB,IAIM,EAAW,MAAMC,EACnB,yMACA,CACI,MAAO,CACH,gBAAiB,oEACjB,KAAM,CAAE,OAAQ,IAChB,iBAAkB,qEAIxB,EAAW,KAAK,MAAM,EAAS,UAE/B,EAAQ,EAAS,IAAK,IAAU,CAClC,MAAO,EAAK,MACZ,KAAM,EAAK,KACX,QAAS,EAAU,EAAK,YAAa,YACrC,YAAa,EAAK,KAClB,SAAU,EAAK,QAKnB,MAAO,CACH,MAAO,8CACP,KAAM,4FACN,SAAU,KACV,YAAa,iDACb,KAAM"}