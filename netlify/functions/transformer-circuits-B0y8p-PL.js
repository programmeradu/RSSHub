import{__dirname as e,init_esm_shims as t}from"./esm-shims-Dqvxr0BZ.js";import"./config-Dl8a1sIg.js";import{logger_default as n}from"./logger-CWOoofbD.js";import"./dist-IvUHtNe1.js";import{cache_default as r}from"./cache-kimkMTWJ.js";import{art as i}from"./render-CxhTJIsl.js";import{parseDate as a}from"./parse-date-Bgabdhlb.js";import{ofetch_default as o}from"./ofetch-Bzt0BXUH.js";import s from"node:path";import{load as c}from"cheerio";t();const l={path:`/`,categories:[`programming`],example:`/transformer-circuits`,parameters:{},radar:[{source:[`transformer-circuits.pub/`],target:`/`}],name:`Articles`,maintainers:[`shinmohuang`],handler:u};async function u(){let e=`https://transformer-circuits.pub`,t=await o(e),n=c(t),i=n(`.toc a`).toArray().map(t=>{let i=n(t),o=i,s=i.prevAll(`.date`).first(),c=s.text().trim();if(o.hasClass(`paper`)||o.hasClass(`note`)){let t=o.hasClass(`paper`)?`Paper`:`Note`,n=o.find(`h3`).text().trim(),i=``,s=o.find(`.byline`);s.length&&(i=s.text().trim());let l=o.find(`.description`).text().trim(),u=o.attr(`href`),f=u?u.startsWith(`http`)?u:`${e}/${u}`:e;return r.tryGet(f,async()=>{let e=await d(f);return{title:n,link:f,pubDate:a(c,`MMMM YYYY`),author:i,description:e||`${t}: ${l}`,category:[`AI`,`Machine Learning`,`Anthropic`,`Transformer Circuits`]}})}return null}),s=(await Promise.all(i)).filter(Boolean);return{title:`Transformer Circuits Thread`,link:e,item:s,description:`Research on reverse engineering transformer language models into human-understandable programs`}}async function d(t){try{let r=await o(t),a=c(r);a(`.article-header, .tooltip, modal, script, style, d-front-matter, .visual-toc`).remove();let l=a(`d-article`).html();return l||(l=a(`main article, .article-content, .post-content, .content-area`).html()||a(`.content, .article, .post`).html()||a(`main`).html(),l||(n.warn(`No suitable content container found for ${t}`),l=`<p>Could not extract content. Please visit <a href="${t}">the original page</a>.</p>`)),i(s.join(e,`templates/article-ed6d2989.art`),{content:l,link:t})}catch(e){let r=e instanceof Error?e.message:String(e);return n.error(`Error fetching article content from ${t}: ${r}`),null}}export{l as route};
//# sourceMappingURL=transformer-circuits-B0y8p-PL.js.map