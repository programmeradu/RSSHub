{"version":3,"file":"utils-DSUBahOz.js","names":["got"],"sources":["../../lib/routes/3dmgame/utils.ts"],"sourcesContent":["import got from '@/utils/got';\r\nimport { load } from 'cheerio';\r\nimport { parseDate } from '@/utils/parse-date';\r\nimport timezone from '@/utils/timezone';\r\n\r\nconst parseArticle = (item, tryGet) =>\r\n    tryGet(item.link, async () => {\r\n        const { data: response } = await got(item.link);\r\n        const $ = load(response);\r\n\r\n        if (item.link.startsWith('https://dl.3dmgame.com/')) {\r\n            const lis = $('.patchtop .lis');\r\n            const [, category, pubDate, author] = lis.text().match(/补丁类型：(.*?)\\n.*整理时间：(.*?)\\n.*补丁制作：(.*?)\\n/s);\r\n\r\n            item.description = lis.html() + $('.L_title').html() + $('.GmL_1').html();\r\n            item.category = category;\r\n            item.pubDate = timezone(parseDate(pubDate), 8);\r\n            item.author = author;\r\n        } else {\r\n            item.description = $('.news_warp_center').html();\r\n            item.pubDate = timezone(parseDate($('.time span').text()), 8);\r\n            item.author = $('.intem li:nth-child(2) .name').text().trim();\r\n        }\r\n\r\n        return item;\r\n    });\r\n\r\nexport { parseArticle };\r\n"],"mappings":"sLAKA,MAAM,GAAgB,EAAM,IACxB,EAAO,EAAK,KAAM,SAAY,CAC1B,GAAM,CAAE,KAAM,GAAa,MAAMA,EAAI,EAAK,MACpC,EAAI,EAAK,GAEf,GAAI,EAAK,KAAK,WAAW,2BAA4B,CACjD,IAAM,EAAM,EAAE,kBACR,EAAG,EAAU,EAAS,GAAU,EAAI,OAAO,MAAM,6CAEvD,EAAK,YAAc,EAAI,OAAS,EAAE,YAAY,OAAS,EAAE,UAAU,OACnE,EAAK,SAAW,EAChB,EAAK,QAAU,EAAS,EAAU,GAAU,GAC5C,EAAK,OAAS,OAEd,EAAK,YAAc,EAAE,qBAAqB,OAC1C,EAAK,QAAU,EAAS,EAAU,EAAE,cAAc,QAAS,GAC3D,EAAK,OAAS,EAAE,gCAAgC,OAAO,OAG3D,OAAO"}