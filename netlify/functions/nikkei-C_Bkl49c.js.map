{"version":3,"file":"nikkei-C_Bkl49c.js","names":["route: Route","got"],"sources":["../../lib/routes/nikkei/index.ts"],"sourcesContent":["import { Route } from '@/types';\r\nimport got from '@/utils/got';\r\nimport { load } from 'cheerio';\r\n\r\nexport const route: Route = {\r\n    path: '/index',\r\n    name: 'Home',\r\n    example: '/nikkei/index',\r\n    maintainers: ['zjysdhr'],\r\n    handler,\r\n    url: 'www.nikkei.com',\r\n};\r\n\r\nasync function handler() {\r\n    const url = 'https://www.nikkei.com';\r\n    const response = await got(url);\r\n    const $ = load(response.data);\r\n\r\n    const list = $('a[data-rn-inview-track-value]')\r\n        .toArray()\r\n        .map((e) => {\r\n            e = $(e);\r\n            const data = e.data('rn-track-value');\r\n            const title = data.title;\r\n            const link = `${url}/article/${data.kiji_id_raw}/`;\r\n\r\n            const parent = e.parent();\r\n            const img = parent.find('img[class^=image_]');\r\n            const imgSrc = img.attr('src');\r\n            const imgAlt = img.attr('alt');\r\n\r\n            const desc = `<img src=\"${imgSrc}\" alt=\"${imgAlt}\">` + (parent.find('[class^=excerptContainer]').length ? parent.find('[class^=excerptContainer]').html() : '');\r\n\r\n            return {\r\n                title,\r\n                description: desc,\r\n                link,\r\n            };\r\n        });\r\n\r\n    return {\r\n        title: '日本経済新聞',\r\n        link: url,\r\n        item: list,\r\n    };\r\n}\r\n"],"mappings":"+PAIA,MAAaA,EAAe,CACxB,KAAM,SACN,KAAM,OACN,QAAS,gBACT,YAAa,CAAC,WACd,UACA,IAAK,kBAGT,eAAe,GAAU,CACrB,IAAM,EAAM,yBACN,EAAW,MAAMC,EAAI,GACrB,EAAI,EAAK,EAAS,MAElB,EAAO,EAAE,iCACV,UACA,IAAK,GAAM,CACR,EAAI,EAAE,GACN,IAAM,EAAO,EAAE,KAAK,kBACd,EAAQ,EAAK,MACb,EAAO,GAAG,EAAI,WAAW,EAAK,YAAY,GAE1C,EAAS,EAAE,SACX,EAAM,EAAO,KAAK,sBAClB,EAAS,EAAI,KAAK,OAClB,EAAS,EAAI,KAAK,OAElB,EAAO,aAAa,EAAO,SAAS,EAAO,KAAO,EAAO,KAAK,6BAA6B,OAAS,EAAO,KAAK,6BAA6B,OAAS,IAE5J,MAAO,CACH,QACA,YAAa,EACb,UAIZ,MAAO,CACH,MAAO,SACP,KAAM,EACN,KAAM"}