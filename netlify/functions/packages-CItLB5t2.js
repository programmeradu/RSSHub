import"./esm-shims-Dqvxr0BZ.js";import"./config-Dl8a1sIg.js";import"./logger-CWOoofbD.js";import"./dist-IvUHtNe1.js";import{ofetch_default as e}from"./ofetch-Bzt0BXUH.js";import{ViewType as t}from"./types-A5bA50Mg.js";import{load as n}from"cheerio";const r=async t=>{let r=Number.parseInt(t.req.query(`limit`)??`30`,10),i=new URL(`downloads`,`https://www.azul.com`).href,a=new URL(`metadata/v1/zulu/packages`,`https://api.azul.com`).href,o=await e(i),s=n(o),c=s(`html`).attr(`lang`)??`en`,l=await e(a,{query:{availability_types:`ca`,release_status:`both`,page_size:1e3,include_fields:`java_package_features, release_status, support_term, os, arch, hw_bitness, abi, java_package_type, javafx_bundled, sha256_hash, cpu_gen, size, archive_type, certifications, lib_c_type, crac_supported`,page:1,azul_com:!0}}),u=l.slice(0,r).map(e=>{let t=`${e.java_version.join(`.`)}+${e.openjdk_build_number}`,n=e.distro_version.join(`.`),r=`[${t}] (${n}) ${e.name}`,i=e.download_url,a=[e.os,e.arch,e.java_package_type,e.archive_type,e.abi,...e.javafx_bundled?[`javafx`]:[],...e.crac_supported?[`crac`]:[]],o=`azul-${e.name}`,s={title:r,link:i,category:a,guid:o,id:o,language:c},l=e.download_url;if(l){let t=e.name,n=e.size;s={...s,enclosure_url:l,enclosure_title:t||r,enclosure_length:n}}return s});return{title:s(`title`).text(),description:s(`meta[property="og:description"]`).attr(`content`),link:i,item:u,allowEmpty:!0,image:s(`meta[property="og:image"]`).attr(`content`),author:s(`meta[property="og:site_name"]`).attr(`content`),language:c,id:s(`meta[property="og:url"]`).attr(`content`)}},i={path:`/downloads`,name:`Downloads`,url:`www.azul.com`,maintainers:[`nczitzk`],handler:r,example:`/azul/downloads`,parameters:void 0,description:void 0,categories:[`program-update`],features:{requireConfig:!1,requirePuppeteer:!1,antiCrawler:!1,supportRadar:!0,supportBT:!1,supportPodcast:!1,supportScihub:!1},radar:[{source:[`www.azul.com/downloads`],target:`/downloads`}],view:t.Notifications};export{r as handler,i as route};
//# sourceMappingURL=packages-CItLB5t2.js.map