import"./esm-shims-Dqvxr0BZ.js";import{config as e}from"./config-Dl8a1sIg.js";import"./logger-CWOoofbD.js";import"./dist-IvUHtNe1.js";import"./helpers-DzX-lcQO.js";import{parseDate as t}from"./parse-date-Bgabdhlb.js";import"./ofetch-Bzt0BXUH.js";import{got_default as n}from"./got-CdvI2yKX.js";import{load as r}from"cheerio";const i={path:`/category/:category?`,categories:[`blog`],example:`/ddosi/category/黑客工具`,parameters:{category:`N`},features:{requireConfig:!1,requirePuppeteer:!1,antiCrawler:!1,supportBT:!1,supportPodcast:!1,supportScihub:!1},radar:[{source:[`ddosi.org/category/:category/`],target:`/category/:category`}],name:`分类`,maintainers:[],handler:a,url:`ddosi.org/`};async function a(i){let a=`https://www.ddosi.org/category`,o=e.ua||`Mozilla/5.0 (iPhone; CPU iPhone OS 11_0 like Mac OS X) AppleWebKit/604.1.38 (KHTML, like Gecko) Version/11.0 Mobile/15A372 Safari/604.1`,s=i.req.param(`category`),c=await n({method:`get`,url:`${a}/${s}/`,headers:{"User-Agent":o,Referer:a}}),l=r(c.data),u=l(`main>article`).toArray(),d=u.map(e=>{let n=l(e),r=n.find(`a:first-child`).attr(`href`),i=n.find(`.entry-title a`).text(),a=n.find(`.entry-content p`).text(),o=t(n.find(`.meta-date a time`).attr(`datetime`));return{title:String(i),description:String(a),pubDate:o,link:String(r)}});return{title:`雨苁-${s}`,link:`${a}/${s}/`,item:d}}export{i as route};
//# sourceMappingURL=category-KOibYnS9.js.map