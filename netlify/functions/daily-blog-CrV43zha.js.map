{"version":3,"file":"daily-blog-CrV43zha.js","names":["route: Route","ofetch"],"sources":["../../lib/routes/chlinlearn/daily-blog.ts"],"sourcesContent":["import { Route } from '@/types';\r\nimport ofetch from '@/utils/ofetch'; // 统一使用的请求库\r\nimport { parseDate } from '@/utils/parse-date'; // 解析日期的工具函数\r\nimport timezone from '@/utils/timezone';\r\nimport CryptoJS from 'crypto-js';\r\n\r\nexport const route: Route = {\r\n    path: '/daily-blog',\r\n    name: '值得一读技术博客',\r\n    maintainers: ['huyyi'],\r\n    categories: ['programming'],\r\n    example: '/chlinlearn/daily-blog',\r\n    features: {\r\n        requireConfig: false,\r\n        requirePuppeteer: false,\r\n        antiCrawler: false,\r\n        supportBT: false,\r\n        supportPodcast: false,\r\n        supportScihub: false,\r\n    },\r\n    radar: [\r\n        {\r\n            source: ['daily-blog.chlinlearn.top/blogs/*'],\r\n            target: '/chlinlearn/daily-blog',\r\n        },\r\n    ],\r\n    handler: async () => {\r\n        const r = CryptoJS.lib.WordArray.random(8).toString(CryptoJS.enc.Hex);\r\n        const n = Date.now();\r\n        const o = CryptoJS.SHA256('pHVp671B0tLkW40KCwyPrb6W1GEMEGyT' + r + n).toString(CryptoJS.enc.Hex);\r\n        const data = await ofetch('https://daily-blog.chlinlearn.top/api/daily-blog/getBlogs/new?type=new&pageNum=1&pageSize=20', {\r\n            headers: {\r\n                Referer: 'https://daily-blog.chlinlearn.top/blogs/1',\r\n                'x-req-nonce': r,\r\n                'x-req-timestamp': n,\r\n                'x-req-key': o,\r\n            },\r\n        });\r\n        const items = data.rows.map((item) => ({\r\n            title: item.title,\r\n            link: item.url,\r\n            author: item.author,\r\n            img: item.icon,\r\n            pubDate: timezone(parseDate(item.publishTime), +8),\r\n        }));\r\n        return {\r\n            // 源标题\r\n            title: '值得一读技术博客',\r\n            // 源链接\r\n            link: 'https://daily-blog.chlinlearn.top/blogs/1',\r\n            // 源文章\r\n            item: items,\r\n        };\r\n    },\r\n};\r\n"],"mappings":"2SAMA,MAAaA,EAAe,CACxB,KAAM,cACN,KAAM,WACN,YAAa,CAAC,SACd,WAAY,CAAC,eACb,QAAS,yBACT,SAAU,CACN,cAAe,GACf,iBAAkB,GAClB,YAAa,GACb,UAAW,GACX,eAAgB,GAChB,cAAe,IAEnB,MAAO,CACH,CACI,OAAQ,CAAC,qCACT,OAAQ,2BAGhB,QAAS,SAAY,CACjB,IAAM,EAAI,EAAS,IAAI,UAAU,OAAO,GAAG,SAAS,EAAS,IAAI,KAC3D,EAAI,KAAK,MACT,EAAI,EAAS,OAAO,mCAAqC,EAAI,GAAG,SAAS,EAAS,IAAI,KACtF,EAAO,MAAMC,EAAO,+FAAgG,CACtH,QAAS,CACL,QAAS,4CACT,cAAe,EACf,kBAAmB,EACnB,YAAa,KAGf,EAAQ,EAAK,KAAK,IAAK,IAAU,CACnC,MAAO,EAAK,MACZ,KAAM,EAAK,IACX,OAAQ,EAAK,OACb,IAAK,EAAK,KACV,QAAS,EAAS,EAAU,EAAK,aAAc,MAEnD,MAAO,CAEH,MAAO,WAEP,KAAM,4CAEN,KAAM"}