{"version":3,"file":"collections-DXC5H0Dr.js","names":["route: Route","ofetch","link"],"sources":["../../lib/routes/podwise/collections.ts"],"sourcesContent":["import { Route, ViewType } from '@/types';\r\nimport { load } from 'cheerio';\r\nimport ofetch from '@/utils/ofetch'; // 统一使用的请求库\r\n\r\nexport const route: Route = {\r\n    path: '/explore',\r\n    categories: ['multimedia'],\r\n    view: ViewType.Audios,\r\n    example: '/podwise/explore',\r\n    radar: [\r\n        {\r\n            source: ['podwise.ai', 'podwise.ai/explore'],\r\n        },\r\n    ],\r\n    name: 'Collections',\r\n    maintainers: ['lyling'],\r\n    handler: async () => {\r\n        const link = 'https://podwise.ai/explore';\r\n        const response = await ofetch(link);\r\n        const $ = load(response);\r\n        const content = $('#navigator').next();\r\n        // header/[div => content]/footer, content p(2)\r\n        const collectinDescription = content.find('p').eq(1).text();\r\n\r\n        const items = content\r\n            .find('.group')\r\n            .toArray()\r\n            .map((item) => {\r\n                item = $(item);\r\n                const title = item.find('a').first().text();\r\n                const link = item.find('a').first().attr('href');\r\n                const description = item.find('p').first().text();\r\n                return {\r\n                    title,\r\n                    link: `https://podwise.ai${link}`,\r\n                    description,\r\n                };\r\n            });\r\n\r\n        return {\r\n            title: $('title').text(),\r\n            description: collectinDescription,\r\n            item: items,\r\n            link,\r\n        };\r\n    },\r\n};\r\n"],"mappings":"yPAIA,MAAaA,EAAe,CACxB,KAAM,WACN,WAAY,CAAC,cACb,KAAM,EAAS,OACf,QAAS,mBACT,MAAO,CACH,CACI,OAAQ,CAAC,aAAc,wBAG/B,KAAM,cACN,YAAa,CAAC,UACd,QAAS,SAAY,CACjB,IAAM,EAAO,6BACP,EAAW,MAAMC,EAAO,GACxB,EAAI,EAAK,GACT,EAAU,EAAE,cAAc,OAE1B,EAAuB,EAAQ,KAAK,KAAK,GAAG,GAAG,OAE/C,EAAQ,EACT,KAAK,UACL,UACA,IAAK,GAAS,CACX,EAAO,EAAE,GACT,IAAM,EAAQ,EAAK,KAAK,KAAK,QAAQ,OAC/BC,EAAO,EAAK,KAAK,KAAK,QAAQ,KAAK,QACnC,EAAc,EAAK,KAAK,KAAK,QAAQ,OAC3C,MAAO,CACH,QACA,KAAM,qBAAqBA,IAC3B,iBAIZ,MAAO,CACH,MAAO,EAAE,SAAS,OAClB,YAAa,EACb,KAAM,EACN"}