import"./esm-shims-Dqvxr0BZ.js";import{config as e}from"./config-Dl8a1sIg.js";import"./logger-CWOoofbD.js";import"./dist-IvUHtNe1.js";import{cache_default as t}from"./cache-kimkMTWJ.js";import{parseDate as n}from"./parse-date-Bgabdhlb.js";import{ofetch_default as r}from"./ofetch-Bzt0BXUH.js";import{ViewType as i}from"./types-A5bA50Mg.js";import{load as a}from"cheerio";const o=`f05fca638390aed897fbe3c2fff03000`,s={name:`文章`,categories:[`blog`],path:`/`,example:`/sorrycc`,radar:[{source:[`sorrycc.com`]}],handler:c,maintainers:[`KarasuShin`],view:i.Articles,features:{supportRadar:!0,requireConfig:[{name:`SORRYCC_COOKIES`,description:`登录用户的Cookie,获取方式：\n1. 登录sorrycc.com\n2. 打开浏览器开发者工具，切换到 Application 面板\n3. 点击侧边栏中的Storage -> Cookies -> https://sorrycc.com\n4. 复制 Cookie 中的 wordpress_logged_in_${o} 值`,optional:!0}]},description:`云谦的博客，部分内容存在权限校验，访问完整内容请部署RSSHub私有实例并配置授权信息`};async function c(i){let s=`https://sorrycc.com`,c=i.req.query(`limit`)?Number.parseInt(i.req.query(`limit`),10):100,l=e.sorrycc.cookie,u=await r(`${s}/wp-json/wp/v2/posts?per_page=${c}`),d=await Promise.all(u.map(async e=>{let i=e.title.rendered,s=e.link,c=n(e.date_gmt),u=n(e.modified_gmt);return e.categories.includes(7)&&l?await t.tryGet(s,async()=>{let e=await r(s,{headers:{Cookie:`wordpress_logged_in_${o}=${l}`}}),t=a(e),n=t(`.content`).html();return{title:i,description:n,link:s,pubDate:c,updated:u}}):{title:i,description:e.content.rendered,link:s,pubDate:c,updated:u}}));return{title:`文章`,item:d,link:s,image:`${s}/wp-content/uploads/2024/01/cropped-CC-1-32x32.png`}}export{s as route};
//# sourceMappingURL=sorrycc-CDjRIFdi.js.map