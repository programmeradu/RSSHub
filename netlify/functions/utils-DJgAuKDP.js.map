{"version":3,"file":"utils-DJgAuKDP.js","names":[],"sources":["../../lib/routes/thewirehindi/utils.ts"],"sourcesContent":["import { DataItem } from '@/types';\r\nimport { parseDate } from '@/utils/parse-date';\r\nimport { art } from '@/utils/render';\r\nimport path from 'node:path';\r\n\r\nexport function mapPostToItem(post): DataItem {\r\n    const featuredMedia = post._embedded?.['wp:featuredmedia']?.find((v) => v.id === post.featured_media);\r\n    const image = featuredMedia?.source_url;\r\n    const altText = featuredMedia?.alt_text || featuredMedia?.title?.rendered || 'Featured Image';\r\n    return {\r\n        title: post.title.rendered,\r\n        description: art(path.join(__dirname, 'templates/description.art'), {\r\n            excerpt: post.excerpt.rendered,\r\n            content: post.content.rendered,\r\n            image,\r\n            altText,\r\n        }),\r\n        link: post.link,\r\n        pubDate: parseDate(post.date_gmt),\r\n        updated: parseDate(post.modified_gmt),\r\n        itunes_item_image: image,\r\n        image,\r\n        author:\r\n            post._embedded?.author\r\n                ?.map((v) => ({\r\n                    name: v.name,\r\n                    url: v.link,\r\n                    avatar: v.avatar_urls?.['96'] || v.avatar_urls?.['48'] || v.avatar_urls?.['24'],\r\n                }))\r\n                .join(', ') || 'The Wire Hindi',\r\n        category: post._embedded?.['wp:term']?.flat().map((v) => v.name),\r\n    } as DataItem;\r\n}\r\n"],"mappings":"qMAKA,SAAgB,EAAc,EAAgB,CAC1C,IAAM,EAAgB,EAAK,YAAY,qBAAqB,KAAM,GAAM,EAAE,KAAO,EAAK,gBAChF,EAAQ,GAAe,WACvB,EAAU,GAAe,UAAY,GAAe,OAAO,UAAY,iBAC7E,MAAO,CACH,MAAO,EAAK,MAAM,SAClB,YAAa,EAAI,EAAA,KAAA,EAAA,sCAAmD,CAChE,QAAS,EAAK,QAAQ,SACtB,QAAS,EAAK,QAAQ,SACtB,QACA,YAEJ,KAAM,EAAK,KACX,QAAS,EAAU,EAAK,UACxB,QAAS,EAAU,EAAK,cACxB,kBAAmB,EACnB,QACA,OACI,EAAK,WAAW,QACV,IAAK,IAAO,CACV,KAAM,EAAE,KACR,IAAK,EAAE,KACP,OAAQ,EAAE,cAAc,OAAS,EAAE,cAAc,OAAS,EAAE,cAAc,SAE7E,KAAK,OAAS,iBACvB,SAAU,EAAK,YAAY,YAAY,OAAO,IAAK,GAAM,EAAE"}