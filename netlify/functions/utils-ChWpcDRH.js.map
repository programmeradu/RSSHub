{"version":3,"file":"utils-ChWpcDRH.js","names":[],"sources":["../../lib/routes/pornhub/utils.ts"],"sourcesContent":["import { art } from '@/utils/render';\r\nimport path from 'node:path';\r\nimport { parseRelativeDate } from '@/utils/parse-date';\r\nimport dayjs from 'dayjs';\r\n\r\nconst defaultDomain = 'https://www.pornhub.com';\r\n\r\nconst headers = {\r\n    accessAgeDisclaimerPH: 1,\r\n    hasVisited: 1,\r\n};\r\n\r\nconst renderDescription = (data) => art(path.join(__dirname, 'templates/description.art'), data);\r\nconst extractDateFromImageUrl = (imageUrl) => {\r\n    const matchResult = imageUrl.match(/(\\d{6})\\/(\\d{2})/);\r\n    return matchResult ? matchResult.slice(1, 3).join('') : null;\r\n};\r\n\r\nconst parseItems = (e) => ({\r\n    title: e.find('span.title a').text().trim(),\r\n    link: defaultDomain + e.find('span.title a').attr('href'),\r\n    description: renderDescription({\r\n        poster: e.find('img').data('mediumthumb'),\r\n        previewVideo: e.find('img').data('mediabook'),\r\n    }),\r\n    author: e.find('.usernameWrap a').text(),\r\n    pubDate: dayjs(extractDateFromImageUrl(e.find('img').data('mediumthumb'))).toDate() || parseRelativeDate(e.find('.added').text()),\r\n});\r\n\r\nconst getRadarDomin = (path: string) => [\r\n    {\r\n        source: [`www.pornhub.com${path}`, `www.pornhub.com${path}/*`],\r\n        target: path,\r\n    },\r\n    ...['de', 'fr', 'es', 'it', 'pt', 'pl', 'rt', 'jp', 'nl', 'cz', 'cn'].map((language) => ({\r\n        source: [`${language}.pornhub.com${path}`, `${language}.pornhub.com${path}/*`],\r\n        target: `${path}/${language}`,\r\n    })),\r\n];\r\n\r\nexport { defaultDomain, headers, renderDescription, parseItems, getRadarDomin };\r\n"],"mappings":"kOAKA,MAAM,EAAgB,0BAEhB,EAAU,CACZ,sBAAuB,EACvB,WAAY,GAGV,EAAqB,GAAS,EAAI,EAAA,KAAA,EAAA,sCAAmD,GACrF,EAA2B,GAAa,CAC1C,IAAM,EAAc,EAAS,MAAM,oBACnC,OAAO,EAAc,EAAY,MAAM,EAAG,GAAG,KAAK,IAAM,MAGtD,EAAc,IAAO,CACvB,MAAO,EAAE,KAAK,gBAAgB,OAAO,OACrC,KAAM,EAAgB,EAAE,KAAK,gBAAgB,KAAK,QAClD,YAAa,EAAkB,CAC3B,OAAQ,EAAE,KAAK,OAAO,KAAK,eAC3B,aAAc,EAAE,KAAK,OAAO,KAAK,eAErC,OAAQ,EAAE,KAAK,mBAAmB,OAClC,QAAS,EAAM,EAAwB,EAAE,KAAK,OAAO,KAAK,iBAAiB,UAAY,EAAkB,EAAE,KAAK,UAAU,UAGxH,EAAiB,GAAiB,CACpC,CACI,OAAQ,CAAC,kBAAkB,IAAQ,kBAAkB,EAAK,KAC1D,OAAQ,GAEZ,GAAG,CAAC,KAAM,KAAM,KAAM,KAAM,KAAM,KAAM,KAAM,KAAM,KAAM,KAAM,MAAM,IAAK,IAAc,CACrF,OAAQ,CAAC,GAAG,EAAS,cAAc,IAAQ,GAAG,EAAS,cAAc,EAAK,KAC1E,OAAQ,GAAG,EAAK,GAAG"}