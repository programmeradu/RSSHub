{"version":3,"file":"wallpaperhub-BV1P8d5o.js","names":[],"sources":["../../lib/routes/wallpaperhub/index.ts"],"sourcesContent":["import { Route } from '@/types';\r\n\r\nimport got from '@/utils/got';\r\nimport { parseDate } from '@/utils/parse-date';\r\nimport { art } from '@/utils/render';\r\nimport path from 'node:path';\r\n\r\nexport const route: Route = {\r\n    path: '/',\r\n    radar: [\r\n        {\r\n            source: ['wallpaperhub.app/wallpaperhub', 'wallpaperhub.app/'],\r\n            target: '',\r\n        },\r\n    ],\r\n    name: 'Unknown',\r\n    maintainers: ['nczitzk'],\r\n    handler,\r\n    url: 'wallpaperhub.app/wallpaperhub',\r\n};\r\n\r\nasync function handler() {\r\n    const link = 'https://wallpaperhub.app/api/v1/wallpapers/?limit=20&page=&query=&width=&height=&tags=';\r\n    const response = await got({\r\n        method: 'get',\r\n        url: link,\r\n    });\r\n\r\n    const list = response.data.entities.map((item) => ({\r\n        title: item.entity.title,\r\n        description: art(path.join(__dirname, 'templates/description.art'), {\r\n            description: item.entity.description,\r\n            img: item.entity.variations[0].resolutions[0].url || item.entity.thumbnail,\r\n        }),\r\n        pubDate: parseDate(item.entity.created),\r\n        link: `https://wallpaperhub.app/wallpapers/${item.entity.id}`,\r\n    }));\r\n\r\n    return {\r\n        title: 'WallpaperHub',\r\n        link: 'https://wallpaperhub.app/wallpapers',\r\n        item: list,\r\n    };\r\n}\r\n"],"mappings":"qYAOA,MAAa,EAAe,CACxB,KAAM,IACN,MAAO,CACH,CACI,OAAQ,CAAC,gCAAiC,qBAC1C,OAAQ,KAGhB,KAAM,UACN,YAAa,CAAC,WACd,UACA,IAAK,iCAGT,eAAe,GAAU,CACrB,IACM,EAAW,MAAM,EAAI,CACvB,OAAQ,MACR,IAAK,2FAGH,EAAO,EAAS,KAAK,SAAS,IAAK,IAAU,CAC/C,MAAO,EAAK,OAAO,MACnB,YAAa,EAAI,EAAA,KAAA,EAAA,sCAAmD,CAChE,YAAa,EAAK,OAAO,YACzB,IAAK,EAAK,OAAO,WAAW,GAAG,YAAY,GAAG,KAAO,EAAK,OAAO,YAErE,QAAS,EAAU,EAAK,OAAO,SAC/B,KAAM,uCAAuC,EAAK,OAAO,QAG7D,MAAO,CACH,MAAO,eACP,KAAM,sCACN,KAAM"}