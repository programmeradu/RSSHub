import"./esm-shims-Dqvxr0BZ.js";import"./config-Dl8a1sIg.js";import"./logger-CWOoofbD.js";import"./dist-IvUHtNe1.js";import"./helpers-DzX-lcQO.js";import{cache_default as e}from"./cache-kimkMTWJ.js";import{parseDate as t}from"./parse-date-Bgabdhlb.js";import"./ofetch-Bzt0BXUH.js";import{got_default as n}from"./got-CdvI2yKX.js";import{load as r}from"cheerio";const i=[`https://lib.nwafu.edu.cn/gg/`,`.pageList ul li`,`li a`,`.pageArticle`,`西北农林科技大学图书馆通知公告`],a=[`https://54youth.nwsuaf.edu.cn/twsy/tzgg//`,`section ul li`,`li a`,`article`,`共青团西北农林科技大学委员会通知公告`],o=[`https://cie.nwsuaf.edu.cn/dtytz/tzgg/`,`ul.list  li`,`li a`,`.article`,`西北农林科技大学信息工程学院通知公告`],s=[`https://gs.nwsuaf.edu.cn/tzggB/`,`dl#sort ul.list  li`,`li a`,`.content`,`西北农林科技大学后勤管理处通知公告`],c=[`https://jcc.nwsuaf.edu.cn/tzgg/`,`dl#sort ul.list  li`,`li a`,`.content`,`西北农林科技大学计划财务处通知公告`],l=[`https://jiaowu.nwsuaf.edu.cn/tzggB/`,`.list-i ul li`,`li a`,`article`,`西北农林科技大学教务通知公告`],u=[`https://news.nwafu.edu.cn/yxxw/`,`ul.NWAFU-list01  li`,`li a`,`.pageArticle`,`西北农林科技大学新闻网聚焦院处`],d=[`https://nic.nwsuaf.edu.cn/tzgg1/`,`dl#sort ul.list  li`,`li a`,`.content`,`西北农林科技大学信息化管理处通知公告`],f=[`https://yjshy.nwafu.edu.cn/tzgg/`,`.sort_rightcont ul  li`,`li a`,`.cont`,`西北农林科技大学研究生院通知公告`],p=[`https://nxy.nwafu.edu.cn/xytz/tzgg_xwzx/`,`div.sort_rightcont ul li`,`li a`,`div.sort_rightcont2`,`西北农林科技大学农业科学院通知公告`],m=[`https://cmee.nwafu.edu.cn/xwzx/xytz/`,`div.sort_rightcont ul li`,`li a`,`div.sort_rightcont2`,`西北农林科技大学机械与电子工程学院通知公告`],h=[`https://www.nwafu.edu.cn/xshd/`,`ul.subArticleList li`,`li a`,`.article`,`西北农林科技大学学术活动`],g=[`https://sm.nwafu.edu.cn/tzgg/`,`ul.leading-12 li`,`li a`,`article`,`西北农林科技大学生命科学学院通知公告`],_=[`kjtg.nwafu.edu.cn`,`kjtg.nwsuaf.edu.cn`,`fwoa.nwafu.edu.cn`,`fwoa.nwsuaf.edu.cn`,`cg.nwafu.edu.cn`,`cg.nwsuaf.edu.cn`],v=new Map([[`lib`,i],[`youth`,a],[`cie`,o],[`gs`,s],[`jcc`,c],[`jiaowu`,l],[`news`,u],[`nic`,d],[`yjshy`,f],[`nxy`,p],[`cmee`,m],[`xshd`,h],[`sm`,g],[`forbiddenList`,_]]),y={path:`/:type?`,categories:[`university`],example:`/nwafu/lib`,parameters:{type:"默认为 `jiaowu`"},features:{requireConfig:!1,requirePuppeteer:!1,antiCrawler:!1,supportBT:!1,supportPodcast:!1,supportScihub:!1},name:`校园要闻`,maintainers:[`karinido`],handler:b,description:`通知类别

| 图书馆 | 共青团团委 | 信工学院 | 后勤管理处 | 计划财务处 | 教务处 | 新闻网 | 信息化管理处 | 研究生院 | 农业科学院 | 机械与电子工程学院 | 学术活动 | 生命科学学院 |
| ------ | ---------- | -------- | ---------- | ---------- | ------ | ------ | ------------ | -------- | ---------- | ------------------ | -------- | ------------ |
| lib    | youth      | cie      | gs         | jcc        | jiaowu | news   | nic          | yjshy    | nxy        | cmee               | xshd     | sm           |`};async function b(i){let{type:a=`jiaowu`}=i.req.param(),o=await n.get(v.get(a)[0]),s=r(o.data),c=s(v.get(a)[1]).toArray().map(e=>{let n=s(e).find(v.get(a)[2]).text(),r=t(s(e).find(`span`).text(),`YYYY/MM/DD`),i=new URL(s(e).find(v.get(a)[2]).attr(`href`),v.get(a)[0]).toString();return{title:n,pubDate:r,link:i}}),l=await Promise.all(c.map(t=>e.tryGet(t.link,async()=>{if(v.get(`forbiddenList`).includes(new URL(t.link).hostname))return t;let e=await n.get(t.link),i=r(e.data);return t.description=i(v.get(a)[3]).html(),t})));return{title:v.get(a)[4],link:v.get(a)[0],description:v.get(a)[4],item:l}}export{y as route};
//# sourceMappingURL=all-BvKvHjRg.js.map