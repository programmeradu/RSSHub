import{config as e}from"./config-Dl8a1sIg.js";import{logger_default as t}from"./logger-CWOoofbD.js";import{createFetch as n}from"ofetch";e.enableRemoteDebugging;const r=n().create({retryStatusCodes:[400,408,409,425,429,500,502,503,504],retry:e.requestRetry,retryDelay:1e3,onResponseError({request:e,response:n,options:r}){r.retry&&(t.warn(`Request ${e} with error ${n.status} remaining retry attempts: ${r.retry}`),r.headers||(r.headers={}),r.headers instanceof Headers?r.headers.set(`x-prefer-proxy`,`1`):r.headers[`x-prefer-proxy`]=`1`)},onRequestError({request:e,error:n}){t.error(`Request ${e} fail: ${n}`)},headers:{"user-agent":e.ua},onResponse({request:e,response:n}){n.redirected&&t.http(`Redirecting to ${n.url} for ${e}`)}});var i=r;export{i as ofetch_default};
//# sourceMappingURL=ofetch-Bzt0BXUH.js.map