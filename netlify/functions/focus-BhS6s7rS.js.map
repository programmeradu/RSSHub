{"version":3,"file":"focus-BhS6s7rS.js","names":["route: Route","cache"],"sources":["../../lib/routes/zaker/focus.ts"],"sourcesContent":["import { Route } from '@/types';\r\nimport cache from '@/utils/cache';\r\nimport * as cheerio from 'cheerio';\r\nimport pMap from 'p-map';\r\nimport { baseUrl, fetchItem, getSafeLineCookieWithData, parseList } from './utils';\r\n\r\nexport const route: Route = {\r\n    path: '/focusread',\r\n    radar: [\r\n        {\r\n            source: ['www.myzaker.com/'],\r\n            target: '/focusread',\r\n        },\r\n    ],\r\n    name: '精读',\r\n    example: '/zaker/focusread',\r\n    maintainers: ['AlexdanerZe', 'TonyRL'],\r\n    handler,\r\n};\r\n\r\nasync function handler() {\r\n    const link = `${baseUrl}/?pos=selected_article`;\r\n\r\n    const { cookie, data } = await getSafeLineCookieWithData(link);\r\n\r\n    const $ = cheerio.load(data);\r\n    const list = parseList($);\r\n\r\n    const items = await pMap(list, (item) => cache.tryGet(item.link!, () => fetchItem(item, cookie)), { concurrency: 2 });\r\n\r\n    return {\r\n        title: 'ZAKER 精读新闻',\r\n        link,\r\n        item: items,\r\n    };\r\n}\r\n"],"mappings":"gaAMA,MAAaA,EAAe,CACxB,KAAM,aACN,MAAO,CACH,CACI,OAAQ,CAAC,oBACT,OAAQ,eAGhB,KAAM,KACN,QAAS,mBACT,YAAa,CAAC,cAAe,UAC7B,WAGJ,eAAe,GAAU,CACrB,IAAM,EAAO,GAAG,EAAQ,wBAElB,CAAE,SAAQ,QAAS,MAAM,EAA0B,GAEnD,EAAI,EAAQ,KAAK,GACjB,EAAO,EAAU,GAEjB,EAAQ,MAAM,EAAK,EAAO,GAASC,EAAM,OAAO,EAAK,SAAa,EAAU,EAAM,IAAU,CAAE,YAAa,IAEjH,MAAO,CACH,MAAO,aACP,OACA,KAAM"}