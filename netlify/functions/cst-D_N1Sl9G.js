import"./esm-shims-Dqvxr0BZ.js";import"./config-Dl8a1sIg.js";import"./logger-CWOoofbD.js";import"./dist-IvUHtNe1.js";import"./helpers-DzX-lcQO.js";import{cache_default as e}from"./cache-kimkMTWJ.js";import{parseDate as t}from"./parse-date-Bgabdhlb.js";import"./ofetch-Bzt0BXUH.js";import{got_default as n}from"./got-CdvI2yKX.js";import{load as r}from"cheerio";const i=`http://www.cst.zju.edu.cn/`,a=new Map([[0,{id:``,title:`浙大软件学院-全部通知`}],[1,{id:`32178/list.htm`,title:`浙大软件学院-招生信息`}],[2,{id:`36216/list.htm`,title:`浙大软件学院-教务管理`}],[3,{id:`36217/list.htm`,title:`浙大软件学院-论文管理`}],[4,{id:`36224/list.htm`,title:`浙大软件学院-思政工作`}],[5,{id:`36228/list.htm`,title:`浙大软件学院-评奖评优`}],[6,{id:`36233/list.htm`,title:`浙大软件学院-实习就业`}],[7,{id:`36235/list.htm`,title:`浙大软件学院-国际实习`}],[8,{id:`36194/list.htm`,title:`浙大软件学院-国内合作科研`}],[9,{id:`36246/list.htm`,title:`浙大软件学院-国际合作科研`}],[10,{id:`36195/list.htm`,title:`浙大软件学院-校园服务`}]]);async function o(e){let a=await n({method:`get`,url:i+e}),o=r(a.data),s=o(`.lm_new`).find(`li`);return s.toArray().map(e=>(e=o(e),{title:e.find(`a`).text(),pubDate:t(e.find(`.fr`).text()),link:new URL(e.find(`a`).attr(`href`),i).href}))}const s={path:`/cst/:type`,categories:[`university`],example:`/zju/cst/0`,parameters:{type:`分类，见下表`},features:{requireConfig:!1,requirePuppeteer:!1,antiCrawler:!1,supportBT:!1,supportPodcast:!1,supportScihub:!1},name:`软件学院`,description:`| 全部通知 | 招生信息 | 教务管理 | 论文管理 | 思政工作 | 评奖评优 | 实习就业 | 国际实习 | 国内合作科研 | 国际合作科研 | 校园服务 |
| -------- | -------- | -------- | -------- | -------- | -------- | -------- | -------- | ------------ | ------------ | -------- |
| 0        | 1        | 2        | 3        | 4        | 5        | 6        | 7        | 8            | 9            | 10       |`,maintainers:[`yonvenne`,`zwithz`],handler:c};async function c(t){let s=Number.parseInt(t.req.param(`type`)),c=i+a.get(s).id,l=[];if(s===0){let e=[];for(let t of a.values())e.push(o(t.id));let t=await Promise.all(e);for(let e of t)l=[...l,...e]}else l=await o(a.get(s).id);let u=await Promise.all(l.map(t=>e.tryGet(t.link,async()=>{let e=await n({method:`get`,url:t.link,headers:{Referer:c}}),i=r(e.data);return t.description=i(`.vid_wz`).html(),t})));return{title:a.get(s).title,link:c,item:u}}export{s as route};
//# sourceMappingURL=cst-D_N1Sl9G.js.map