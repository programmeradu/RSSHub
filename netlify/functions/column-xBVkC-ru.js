import{__dirname as e,init_esm_shims as t}from"./esm-shims-Dqvxr0BZ.js";import"./config-Dl8a1sIg.js";import"./logger-CWOoofbD.js";import"./dist-IvUHtNe1.js";import"./helpers-DzX-lcQO.js";import{art as n}from"./render-CxhTJIsl.js";import{parseDate as r}from"./parse-date-Bgabdhlb.js";import"./ofetch-Bzt0BXUH.js";import{got_default as i}from"./got-CdvI2yKX.js";import{timezone as a}from"./timezone-BrNu6iXe.js";import o from"node:path";t();const s={path:`/column/:id?`,categories:[`traditional-media`],example:`/nmtv/column/877`,parameters:{id:`栏目 id，可在对应栏目 URL 中找到`},features:{requireConfig:!1,requirePuppeteer:!1,antiCrawler:!1,supportBT:!1,supportPodcast:!1,supportScihub:!1},name:`点播`,maintainers:[`nczitzk`],handler:c,description:"::: tip\n  如 [蒙古语卫视新闻联播](http://www.nmtv.cn/folder292/folder663/folder301/folder830/folder877) 的 URL 为 `http://www.nmtv.cn/folder292/folder663/folder301/folder830/folder877`，其栏目 id 为末尾数字编号，即 `877`。可以得到其对应路由为 [`/nmtv/column/877`](https://rsshub.app/nmtv/column/877)\n:::"};async function c(t){let s=t.req.param(`id`)??`877`,c=t.req.query(`limit`)?Number.parseInt(t.req.query(`limit`)):100,l=`https://mapi.m2oplus.nmtv.cn/api/v1/contents.php?offset=0&count=${c}&column_id=${s}`,u=await i({method:`get`,url:l}),d=u.data,f=d.map(t=>{let i=`https://vod.m2oplus.nmtv.cn/${t.target_path}${t.target_filename}`,s=`${t.type}/${i.match(/\.(\w+)$/)[1]}`;return{title:t.title,link:t.content_url,author:t.column_name,pubDate:a(r(t.publish_time),8),description:n(o.join(e,`templates/description-34f1fd3d.art`),{type:t.type,image:t.index_pic,file:i}),enclosure_url:i,enclosure_type:s,itunes_duration:t.video.duration,itunes_item_image:t.index_pic}}),p=d[0].column_name,m=d[0].column_info.indexpic;return{title:`内蒙古广播电视台 - ${p}`,link:f[0].link.split(/\/\d{4}-\d{2}-\d{2}\//)[0],item:f,image:`${m.host}${m.filepath}${m.filename}`,itunes_author:p}}export{s as route};
//# sourceMappingURL=column-xBVkC-ru.js.map