import{__dirname as e,init_esm_shims as t}from"./esm-shims-Dqvxr0BZ.js";import"./config-Dl8a1sIg.js";import"./logger-CWOoofbD.js";import"./dist-IvUHtNe1.js";import"./helpers-DzX-lcQO.js";import{cache_default as n}from"./cache-kimkMTWJ.js";import{art as r}from"./render-CxhTJIsl.js";import{parseDate as i}from"./parse-date-Bgabdhlb.js";import"./ofetch-Bzt0BXUH.js";import{got_default as a}from"./got-CdvI2yKX.js";import{timezone as o}from"./timezone-BrNu6iXe.js";import s from"node:path";t();const c={"01":`关于我们`,"02":`港澳新闻`,"03":`重要新闻`,"04":`顾问点评、会员观点`,"05":`专题汇总`,"06":`港澳时评`,"07":`图片新闻`,"08":`视频中心`,"09":`港澳研究`,10:`最新书讯`,11:`研究资讯`},l={path:`/:category?`,categories:[`new-media`],example:`/cahkms`,parameters:{category:`分类，见下表，默认为重要新闻`},features:{requireConfig:!1,requirePuppeteer:!1,antiCrawler:!1,supportBT:!1,supportPodcast:!1,supportScihub:!1},radar:[{source:[`cahkms.org/`]}],name:`分类`,maintainers:[`nczitzk`],handler:u,url:`cahkms.org/`,description:`| 关于我们 | 港澳新闻 | 重要新闻 | 顾问点评、会员观点 | 专题汇总 |
| -------- | -------- | -------- | ------------------ | -------- |
| 01       | 02       | 03       | 04                 | 05       |

| 港澳时评 | 图片新闻 | 视频中心 | 港澳研究 | 最新书讯 | 研究资讯 |
| -------- | -------- | -------- | -------- | -------- | -------- |
| 06       | 07       | 08       | 09       | 10       | 11       |`};async function u(t){let l=t.req.param(`category`)??`03`,u=`http://www.cahkms.org`,d=`${u}/HKMAC/indexMac/getRightList?dm=${l}&page=1&countPage=${t.req.query(`limit`)??10}`,f=await a({method:`get`,url:d}),p=f.data.filter(e=>e.ID).map(e=>({title:e.TITLE,description:`<p>${e.GJZ}</p>`,pubDate:o(i(e.JDRQ),8),link:`${u}/HKMAC/indexMac/getWzxx?id=${e.ID}`}));return p=await Promise.all(p.map(t=>n.tryGet(t.link,async()=>{let n=await a({method:`get`,url:t.link});return t.author=n.data.WZLY,t.description=r(s.join(e,`templates/description-43418c1a.art`),{rootUrl:u,content:n.data.CONTENT,image:n.data.URL,files:n.data.fjlist,video:n.data.VIDEO.indexOf(`.mp4`)>0?n.data.VIDEO:null}),t.link=`${u}/HKMAC/webView/mc/AboutUs_1.html?${l}&${c[l]}`,t}))),{title:`${c[l]} - 全国港澳研究会`,link:d,item:p}}export{l as route};
//# sourceMappingURL=cahkms-BWaYRK2C.js.map