import"./esm-shims-Dqvxr0BZ.js";import"./config-Dl8a1sIg.js";import"./logger-CWOoofbD.js";import"./dist-IvUHtNe1.js";import"./helpers-DzX-lcQO.js";import{cache_default as e}from"./cache-kimkMTWJ.js";import{parseDate as t}from"./parse-date-Bgabdhlb.js";import"./ofetch-Bzt0BXUH.js";import{got_default as n}from"./got-CdvI2yKX.js";const r={recommend:{name:`推荐`,id:1},history:{name:`党史`,id:37},stock:{name:`豫股`,id:2},business:{name:`财经`,id:4},education:{name:`投教`,id:36},finance:{name:`金融`,id:5},science:{name:`科创`,id:19},invest:{name:`投融`,id:29},column:{name:`专栏`,id:33}};function i(e){return e===`recommend`?`https://www.dahecube.com/index.html?recid=1`:`https://www.dahecube.com/channel.html?recid=${r[e].id}`}var a={TYPE:r,parseUrl:i};const{TYPE:o,parseUrl:s}=a,c={path:`/:type?`,categories:[`new-media`],example:`/dahecube`,parameters:{type:`板块，见下表，默认为推荐`},features:{requireConfig:!1,requirePuppeteer:!1,antiCrawler:!1,supportBT:!1,supportPodcast:!1,supportScihub:!1},name:`新闻`,maintainers:[`linbuxiao`],handler:l,description:`| 推荐      | 党史    | 豫股  | 财经     | 投教      | 金融    | 科创    | 投融   | 专栏   |
| --------- | ------- | ----- | -------- | --------- | ------- | ------- | ------ | ------ |
| recommend | history | stock | business | education | finance | science | invest | column |`};async function l(r){let i=r.req.param(`type`)??`recommend`,a=JSON.stringify({channelid:o[i].id,pno:1,psize:15}),c=await n({method:`post`,url:`https://app.dahecube.com/napi/news/pc/list`,headers:{"Content-Type":`application/x-www-form-urlencoded; charset=UTF-8`},body:a}),l=c.data.data.items.map(e=>({title:e.title,pubDate:t(e.pubtime,`YYYY-MM-DD HH:ss:mm`),author:e.source,id:e.recid})),u=await Promise.all(l.map(t=>e.tryGet(t.id,async()=>{let e=await n({method:`post`,url:`https://app.dahecube.com/napi/news/pc/artinfo`,headers:{"Content-Type":`application/x-www-form-urlencoded; charset=UTF-8`},body:JSON.stringify({artid:t.id})});return t.description=e.data.data.content,t.link=`https://www.dahecube.com/article.html?artid=${t.id}`,delete t.id,t}))),d={title:`大河财立方`,link:s(i),description:`大河财立方 ${o[i].name}`,language:`zh-cn`,item:u};return r.set(`json`,d),d}export{c as route};
//# sourceMappingURL=dahecube-DyotnHqJ.js.map