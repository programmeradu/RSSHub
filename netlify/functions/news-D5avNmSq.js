import"./esm-shims-Dqvxr0BZ.js";import"./config-Dl8a1sIg.js";import"./logger-CWOoofbD.js";import"./dist-IvUHtNe1.js";import"./helpers-DzX-lcQO.js";import{cache_default as e}from"./cache-kimkMTWJ.js";import{parseDate as t}from"./parse-date-Bgabdhlb.js";import"./ofetch-Bzt0BXUH.js";import{got_default as n}from"./got-CdvI2yKX.js";import{load as r}from"cheerio";const i={path:`/news`,categories:[`university`],example:`/gdufs/news`,parameters:{},features:{requireConfig:!1,requirePuppeteer:!1,antiCrawler:!1,supportBT:!1,supportPodcast:!1,supportScihub:!1},radar:[{source:[`www.gdufs.edu.cn/gwxw/gwxw1.htm`,`www.gdufs.edu.cn/`]}],name:`新闻`,maintainers:[`gz4zzxc`],handler:a,url:`www.gdufs.edu.cn/gwxw/gwxw1.htm`};async function a(){let i=`https://www.gdufs.edu.cn/gwxw/gwxw1.htm`,a=await n(i),o=r(a.body),s=o(`ul.list_luntan li`),c=await Promise.all(s.toArray().map(i=>{let a=o(i),s=a.find(`a`).attr(`href`)||``,c=a.find(`h5`).text().trim(),l=a.find(`h3`).text().trim(),u=a.find(`h6`).text().trim(),d=u+`/`+l,f=s.startsWith(`http`)?s:new URL(s,`https://www.gdufs.edu.cn`).href,p=t(d).toUTCString();return e.tryGet(f,async()=>{try{let e=await n(f),t=r(e.body),i=t(`.v_news_content`).html()?.trim()||``,a=``,o=t(`.nav01 h6 .ll span`);return o.each((e,n)=>{let r=t(n).text().trim();r.includes(`责任编辑：`)?a=r.replace(`责任编辑：`,``).trim():r.includes(`文字：`)&&(a=r.replace(`文字：`,``).trim())}),{title:c,link:f,description:i,pubDate:p,author:a}}catch{return{title:c,link:f,description:`内容获取失败。`,pubDate:p,author:``}}})}));return{title:`广外-大学要闻`,link:i,description:`广东外语外贸大学-大学要闻`,item:c}}export{i as route};
//# sourceMappingURL=news-D5avNmSq.js.map