{"version":3,"file":"jwc-aX-F-5O1.js","names":["route: Route","got"],"sources":["../../lib/routes/jlu/jwc.ts"],"sourcesContent":["import { Route } from '@/types';\r\nimport got from '@/utils/got'; // 自订的 got\r\nimport { load } from 'cheerio'; // 可以使用类似 jQuery 的 API HTML 解析器\r\n\r\nexport const route: Route = {\r\n    path: '/jwc',\r\n    categories: ['university'],\r\n    example: '/jlu/jwc',\r\n    radar: [\r\n        {\r\n            source: ['jwc.jlu.edu.cn', 'jwc.jlu.edu.cn/index.htm'],\r\n        },\r\n    ],\r\n    name: '教务通知',\r\n    maintainers: ['mayouxi'],\r\n    handler,\r\n    url: 'jwc.jlu.edu.cn',\r\n};\r\n\r\nasync function handler() {\r\n    const baseUrl = 'https://jwc.jlu.edu.cn';\r\n    const response = await got(baseUrl);\r\n    const $ = load(response.body);\r\n\r\n    const list = $('.section2 .s2-r .s3-list ul li');\r\n\r\n    return {\r\n        title: '吉林大学教务处',\r\n        link: baseUrl,\r\n        description: '吉林大学教务处通知公告',\r\n\r\n        item: list?.toArray().map((item) => {\r\n            const el = $(item);\r\n\r\n            const linkEl = el.find('a');\r\n            const YMDiv = el.find('.tm p');\r\n            const YMStr = YMDiv.text().trim();\r\n            const DDiv = el.find('.tm span');\r\n            const DStr = DDiv.text().trim();\r\n\r\n            const titleDiv = el.find('.s3-info p');\r\n            const title = titleDiv.text().trim();\r\n\r\n            const link = `${baseUrl}/${linkEl.attr('href')}`;\r\n\r\n            const newsDate = new Date(YMStr + '-' + DStr);\r\n\r\n            return {\r\n                title,\r\n                link,\r\n                pubDate: newsDate,\r\n            };\r\n        }),\r\n    };\r\n}\r\n"],"mappings":"+PAIA,MAAaA,EAAe,CACxB,KAAM,OACN,WAAY,CAAC,cACb,QAAS,WACT,MAAO,CACH,CACI,OAAQ,CAAC,iBAAkB,8BAGnC,KAAM,OACN,YAAa,CAAC,WACd,UACA,IAAK,kBAGT,eAAe,GAAU,CACrB,IAAM,EAAU,yBACV,EAAW,MAAMC,EAAI,GACrB,EAAI,EAAK,EAAS,MAElB,EAAO,EAAE,kCAEf,MAAO,CACH,MAAO,UACP,KAAM,EACN,YAAa,cAEb,KAAM,GAAM,UAAU,IAAK,GAAS,CAChC,IAAM,EAAK,EAAE,GAEP,EAAS,EAAG,KAAK,KACjB,EAAQ,EAAG,KAAK,SAChB,EAAQ,EAAM,OAAO,OACrB,EAAO,EAAG,KAAK,YACf,EAAO,EAAK,OAAO,OAEnB,EAAW,EAAG,KAAK,cACnB,EAAQ,EAAS,OAAO,OAExB,EAAO,GAAG,EAAQ,GAAG,EAAO,KAAK,UAEjC,EAAW,IAAI,KAAK,EAAQ,IAAM,GAExC,MAAO,CACH,QACA,OACA,QAAS"}