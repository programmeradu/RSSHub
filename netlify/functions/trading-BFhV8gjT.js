import"./esm-shims-Dqvxr0BZ.js";import"./config-Dl8a1sIg.js";import"./logger-CWOoofbD.js";import"./dist-IvUHtNe1.js";import"./cache-kimkMTWJ.js";import"./render-CxhTJIsl.js";import"./parse-date-Bgabdhlb.js";import{ofetch_default as e}from"./ofetch-Bzt0BXUH.js";import{baseUrl as t,parseTradeItem as n}from"./utils-Ci4w1lqo.js";import{load as r}from"cheerio";const i={path:`/trading/:id`,categories:[`new-media`],example:`/dcfever/trading/1`,parameters:{id:`分類 ID，見下表`},name:`二手市集`,maintainers:[`TonyRL`],handler:a,description:`[所有物品分類](https://www.dcfever.com/trading/index.php#all_cats)

| 攝影產品 | 電腦 | 手機通訊 | 影音產品 | 遊戲機、模型 | 電器傢俱 | 潮流服飾 | 手錶 | 單車及運動 | 其它 |
| -------- | ---- | -------- | -------- | ------------ | -------- | -------- | ---- | ---------- | ---- |
| 1        | 2    | 3        | 44       | 43           | 104      | 45       | 99   | 109        | 4    |`};async function a(i){let{id:a,order:o=`new`}=i.req.param(),s=new URL(`${t}/trading/listing.php`,t);s.searchParams.append(`id`,a),s.searchParams.append(`order`,o),s.searchParams.append(`type`,`all`);let c=await e(s.href),l=r(c),u=l(`.item_grid_wrap div a`).toArray().map(e=>(e=l(e),{title:e.find(`.lazyloadx`).attr(`alt`),link:new URL(e.attr(`href`),s.href).href,author:e.find(`.trade_info div span`).eq(1).text()})),d=await Promise.all(u.map(e=>n(e)));return{title:l(`head title`).text(),link:s.href,image:`https://cdn10.dcfever.com/images/android_192.png`,item:d}}export{i as route};
//# sourceMappingURL=trading-BFhV8gjT.js.map