import{__dirname as e,init_esm_shims as t}from"./esm-shims-Dqvxr0BZ.js";import{art as n}from"./render-CxhTJIsl.js";import{parseDate as r}from"./parse-date-Bgabdhlb.js";import{got_default as i}from"./got-CdvI2yKX.js";import a from"node:path";t();const o=`https://hk01.com`,s=`https://web-data.api.hk01.com`,c=(t,s,c)=>Promise.all(t.filter(e=>e.type!==2).slice(0,s?Number.parseInt(s):50).map(e=>({title:e.data.title,link:`${o}/sns/article/${e.data.articleId}`,pubDate:r(e.data.publishTime*1e3),category:e.data.tags.map(e=>e.tagName),author:e.data.authors.map(e=>e.publishName).join(`, `)})).map(t=>c(t.link,async()=>{let r=await i({method:`get`,url:t.link}),o=JSON.parse(r.data.match(/"__NEXT_DATA__" type="application\/json">({"props":.*})<\/script>/)[1]);return t.description=n(a.join(e,`templates/description-1b20b8cc.art`),{image:o.props.initialProps.pageProps.article.originalImage.cdnUrl,teasers:o.props.initialProps.pageProps.article.teaser,blocks:o.props.initialProps.pageProps.article.blocks}),t})));export{c as ProcessItems,s as apiRootUrl,o as rootUrl};
//# sourceMappingURL=utils-DsTiVWfI.js.map