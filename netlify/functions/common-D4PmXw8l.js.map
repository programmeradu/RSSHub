{"version":3,"file":"common-D4PmXw8l.js","names":["route: Route","got"],"sources":["../../lib/routes/onehu/common.ts"],"sourcesContent":["import { Route } from '@/types';\r\nimport got from '@/utils/got';\r\nimport { load } from 'cheerio';\r\nimport timezone from '@/utils/timezone';\r\nimport { parseDate } from '@/utils/parse-date';\r\n\r\nexport const route: Route = {\r\n    path: '/',\r\n    name: 'Unknown',\r\n    maintainers: ['ruoshui9527'],\r\n    handler,\r\n};\r\n\r\nasync function handler() {\r\n    const link = 'https://onehu.xyz';\r\n    const response = await got(link);\r\n    const data = response.data;\r\n    const $ = load(data);\r\n    const list = $('#board article')\r\n        .toArray()\r\n        .map((item) => {\r\n            item = $(item);\r\n            return {\r\n                title: item.find('.index-header').text(),\r\n                link: item.find('.index-header').children('a').attr('href'),\r\n                description: item.find('.index-excerpt.index-excerpt__noimg').children('div').text(),\r\n                pubDate: timezone(parseDate(item.find('.post-meta.mr-3').children('time').attr('datetime'), 'YYYY年MM月DD日 HH:mm'), +8),\r\n            };\r\n        });\r\n\r\n    return {\r\n        title: $('title').text(),\r\n        link,\r\n        item: list,\r\n    };\r\n}\r\n"],"mappings":"sWAMA,MAAaA,EAAe,CACxB,KAAM,IACN,KAAM,UACN,YAAa,CAAC,eACd,WAGJ,eAAe,GAAU,CACrB,IAAM,EAAO,oBACP,EAAW,MAAMC,EAAI,GACrB,EAAO,EAAS,KAChB,EAAI,EAAK,GACT,EAAO,EAAE,kBACV,UACA,IAAK,IACF,EAAO,EAAE,GACF,CACH,MAAO,EAAK,KAAK,iBAAiB,OAClC,KAAM,EAAK,KAAK,iBAAiB,SAAS,KAAK,KAAK,QACpD,YAAa,EAAK,KAAK,uCAAuC,SAAS,OAAO,OAC9E,QAAS,EAAS,EAAU,EAAK,KAAK,mBAAmB,SAAS,QAAQ,KAAK,YAAa,qBAAsB,MAI9H,MAAO,CACH,MAAO,EAAE,SAAS,OAClB,OACA,KAAM"}