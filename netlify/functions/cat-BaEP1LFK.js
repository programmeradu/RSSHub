import"./esm-shims-Dqvxr0BZ.js";import"./config-Dl8a1sIg.js";import"./logger-CWOoofbD.js";import"./dist-IvUHtNe1.js";import"./helpers-DzX-lcQO.js";import{cache_default as e}from"./cache-kimkMTWJ.js";import{parseDate as t}from"./parse-date-Bgabdhlb.js";import"./ofetch-Bzt0BXUH.js";import{got_default as n}from"./got-CdvI2yKX.js";import{timezone as r}from"./timezone-BrNu6iXe.js";import{load as i}from"cheerio";const a={path:`/cat/:cat`,categories:[`new-media`],example:`/niaogebiji/cat/103`,parameters:{cat:`如 https://www.niaogebiji.com/cat/103，最后的数字就是id`},features:{requireConfig:!1,requirePuppeteer:!1,antiCrawler:!1,supportBT:!1,supportPodcast:!1,supportScihub:!1},radar:[{source:[`niaogebiji.com/cat/:cat`]}],name:`分类目录`,maintainers:[`cKotoriKat`],handler:o,url:`niaogebiji.com/`};async function o(a){let o=a.req.param(`cat`),s=`https://www.niaogebiji.com/cat/${o}`,c=await n(s),l=i(c.data),u=l(`h1`).text(),d=l(`div.articleBox.clearfix`).toArray().map(e=>(e=l(e),{title:e.find(`.articleTitle`).text().trim(),description:e.find(`.articleContentInner`).text().trim(),author:e.find(`.author`).text().trim(),link:new URL(e.find(`a`).first().attr(`href`),s).href,category:[...e.find(`.art_tag`).toArray().map(e=>l(e).text().trim()),u]})),f=await Promise.all(d.map(a=>e.tryGet(a.link,async()=>{let e=await n(a.link),o=i(e.data);return a.pubDate=r(t(o(`.writeTime3`).text().trim()),8),a.description=o(`.pc_content`).html(),a})));return{title:l(`head title`).text(),description:l(`head meta[name="description"]`).attr(`content`),link:s,item:f}}export{a as route};
//# sourceMappingURL=cat-BaEP1LFK.js.map