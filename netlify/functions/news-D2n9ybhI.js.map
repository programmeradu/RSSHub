{"version":3,"file":"news-D2n9ybhI.js","names":["route: Route","got"],"sources":["../../lib/routes/chaincatcher/news.ts"],"sourcesContent":["import { Route } from '@/types';\r\nimport got from '@/utils/got';\r\nimport { load } from 'cheerio';\r\nimport { parseDate } from '@/utils/parse-date';\r\nimport timezone from '@/utils/timezone';\r\n\r\nconst rootUrl = 'https://www.chaincatcher.com';\r\n\r\nexport const route: Route = {\r\n    path: '/news',\r\n    categories: ['new-media'],\r\n    example: '/chaincatcher/news',\r\n    parameters: {},\r\n    features: {\r\n        requireConfig: false,\r\n        requirePuppeteer: false,\r\n        antiCrawler: false,\r\n        supportBT: false,\r\n        supportPodcast: false,\r\n        supportScihub: false,\r\n    },\r\n    radar: [\r\n        {\r\n            source: ['chaincatcher.com/news', 'chaincatcher.com/'],\r\n        },\r\n    ],\r\n    name: '快讯',\r\n    maintainers: ['TonyRL'],\r\n    handler,\r\n    url: 'chaincatcher.com/news',\r\n};\r\n\r\nasync function handler() {\r\n    const { data } = await got.post(`${rootUrl}/index/content/lists`, {\r\n        form: {\r\n            page: 1,\r\n            categoryid: 3,\r\n        },\r\n    });\r\n\r\n    const $ = load(data.data, null, false);\r\n\r\n    $('.share').remove();\r\n    const items = $('.block')\r\n        .toArray()\r\n        .map((item) => {\r\n            item = $(item);\r\n            item.find('.tips').remove();\r\n            const act = !!item.find('.act-title').text();\r\n            return {\r\n                title: `${act ? '[重] ' : ''}${item.find('.title').text()}`,\r\n                description: item.find('.summary').text(),\r\n                link: `${rootUrl}${item.find('a').first().attr('href')}`,\r\n                pubDate: timezone(parseDate(item.find('.time').text(), 'YYYY-MM-DD HH:mm:ss'), 8),\r\n            };\r\n        });\r\n\r\n    return {\r\n        title: '最新资讯-ChainCatcher',\r\n        description: '链捕手ChainCatcher为区块链技术爱好者与项目决策者提供NFT、Web3社交、DID、Layer2等专业的资讯与研究内容，Chain Catcher输出对Scroll、Sui、Aptos、ENS等项目的思考，拓宽读者对区块链与数字经济认知的边界。',\r\n        image: `${rootUrl}/logo.png`,\r\n        link: `${rootUrl}/news`,\r\n        item: items,\r\n    };\r\n}\r\n"],"mappings":"sWAMA,MAAM,EAAU,+BAEHA,EAAe,CACxB,KAAM,QACN,WAAY,CAAC,aACb,QAAS,qBACT,WAAY,GACZ,SAAU,CACN,cAAe,GACf,iBAAkB,GAClB,YAAa,GACb,UAAW,GACX,eAAgB,GAChB,cAAe,IAEnB,MAAO,CACH,CACI,OAAQ,CAAC,wBAAyB,uBAG1C,KAAM,KACN,YAAa,CAAC,UACd,UACA,IAAK,yBAGT,eAAe,GAAU,CACrB,GAAM,CAAE,QAAS,MAAMC,EAAI,KAAK,GAAG,EAAQ,sBAAuB,CAC9D,KAAM,CACF,KAAM,EACN,WAAY,KAId,EAAI,EAAK,EAAK,KAAM,KAAM,IAEhC,EAAE,UAAU,SACZ,IAAM,EAAQ,EAAE,UACX,UACA,IAAK,GAAS,CACX,EAAO,EAAE,GACT,EAAK,KAAK,SAAS,SACnB,IAAM,EAAM,CAAC,CAAC,EAAK,KAAK,cAAc,OACtC,MAAO,CACH,MAAO,GAAG,EAAM,OAAS,KAAK,EAAK,KAAK,UAAU,SAClD,YAAa,EAAK,KAAK,YAAY,OACnC,KAAM,GAAG,IAAU,EAAK,KAAK,KAAK,QAAQ,KAAK,UAC/C,QAAS,EAAS,EAAU,EAAK,KAAK,SAAS,OAAQ,uBAAwB,MAI3F,MAAO,CACH,MAAO,oBACP,YAAa,kIACb,MAAO,GAAG,EAAQ,WAClB,KAAM,GAAG,EAAQ,OACjB,KAAM"}