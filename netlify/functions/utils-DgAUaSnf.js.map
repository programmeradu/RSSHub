{"version":3,"file":"utils-DgAUaSnf.js","names":[],"sources":["../../lib/routes/ikea/cn/utils.ts"],"sourcesContent":["import { art } from '@/utils/render';\r\nimport md5 from '@/utils/md5';\r\nimport path from 'node:path';\r\n\r\nconst generateRequestHeaders = () => {\r\n    const now = Math.round(Date.now() / 1000);\r\n    return {\r\n        'X-Client-Platform': 'WechatMiniprogram',\r\n        'X-Client-DeviceId': md5(now.toString()),\r\n    };\r\n};\r\n\r\nconst generateProductItem = (product) => {\r\n    const {\r\n        productFullId,\r\n        name,\r\n        productType,\r\n        measureText,\r\n        priceDisplay: { currentPrice, originalPrice },\r\n        images,\r\n    } = product;\r\n    const isFamilyOffer = currentPrice && originalPrice;\r\n\r\n    return {\r\n        title: `${name} ${productType} - \\u{000A5}${currentPrice}`,\r\n        description: art(path.join(__dirname, '../templates/cn/product.art'), {\r\n            isFamilyOffer,\r\n            name,\r\n            productType,\r\n            measureText,\r\n            currentPrice,\r\n            originalPrice,\r\n            images: images.map((image) => image.url),\r\n        }),\r\n        link: `https://www.ikea.cn/cn/zh/p/${productFullId}`,\r\n    };\r\n};\r\n\r\nexport { generateRequestHeaders, generateProductItem };\r\n"],"mappings":"wLAIA,MAAM,MAA+B,CACjC,IAAM,EAAM,KAAK,MAAM,KAAK,MAAQ,KACpC,MAAO,CACH,oBAAqB,oBACrB,oBAAqB,EAAI,EAAI,cAI/B,EAAuB,GAAY,CACrC,GAAM,CACF,gBACA,OACA,cACA,cACA,aAAc,CAAE,eAAc,iBAC9B,UACA,EACE,EAAgB,GAAgB,EAEtC,MAAO,CACH,MAAO,GAAG,EAAK,GAAG,EAAY,cAAc,IAC5C,YAAa,EAAI,EAAA,KAAA,EAAA,kCAAqD,CAClE,gBACA,OACA,cACA,cACA,eACA,gBACA,OAAQ,EAAO,IAAK,GAAU,EAAM,OAExC,KAAM,+BAA+B"}