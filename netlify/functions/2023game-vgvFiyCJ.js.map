{"version":3,"file":"2023game-vgvFiyCJ.js","names":["route: Route","got","items: DataItem[]"],"sources":["../../lib/routes/2023game/index.ts"],"sourcesContent":["import { Data, DataItem, Route } from '@/types';\r\nimport got from '@/utils/got';\r\nimport { parseDate } from '@/utils/parse-date';\r\nimport { load } from 'cheerio';\r\nimport { Context } from 'hono';\r\n\r\nexport const route: Route = {\r\n    path: '/:category?/:tab?',\r\n    categories: ['game'],\r\n    example: '/2023game/sgame/topicList',\r\n    parameters: {\r\n        category: '分类，见下表',\r\n        tab: '标签, 所有:all;最新:topicList;热门:jhcpb',\r\n    },\r\n    features: {\r\n        requireConfig: false,\r\n        requirePuppeteer: false,\r\n        antiCrawler: false,\r\n        supportBT: false,\r\n        supportPodcast: false,\r\n        supportScihub: false,\r\n    },\r\n    name: '游戏星辰',\r\n    maintainers: ['xzzpig'],\r\n    handler,\r\n    url: 'www.2023game.com/',\r\n    description: `分类\r\n\r\n| PS4游戏 | switch游戏 | 3DS游戏 | PSV游戏 | Xbox360 | PS3游戏 | 世嘉MD/SS | PSP游戏 | PC周边 | 怀旧掌机 | 怀旧主机 | PS4教程 | PS4金手指 | switch金手指 | switch教程 | switch补丁 | switch主题 | switch存档 |\r\n| -------- | -------- | -------- | -------- | -------- | -------- | -------- | -------- | -------- | -------- | -------- | -------- | -------- | -------- | -------- | -------- | -------- | -------- |\r\n| ps4 | sgame | 3ds | psv | jiaocheng | ps3yx | zhuji.md | zhangji.psp | pcgame | zhangji | zhuji | ps4.psjc | ps41.ps4pkg | nsaita.cundang | nsaita.pojie | nsaita.buding | nsaita.zhutie | nsaita.zhuti |`,\r\n};\r\n\r\nasync function handler(ctx: Context): Promise<Data> {\r\n    const category = (ctx.req.param('category') ?? 'sgame').replaceAll('.', '/');\r\n    const tab = ctx.req.param('tab') ?? 'all';\r\n\r\n    const currentUrl = `https://www.2023game.com/${category}/`;\r\n\r\n    const response = await got(currentUrl);\r\n    const $ = load(response.data as any);\r\n\r\n    let selector = `.news`;\r\n    if (tab !== 'all') {\r\n        selector = `#${tab} > ${selector}`;\r\n    }\r\n\r\n    const items: DataItem[] = $(selector)\r\n        .toArray()\r\n        .map((item) => {\r\n            const $item = $(item);\r\n            const href = $item.find('a').attr('href');\r\n            return {\r\n                title: $item.text().trim(),\r\n                guid: `2023game:${href}`,\r\n                link: href!,\r\n                pubDate: parseDate($item.find('.time_box').text().trim()),\r\n                description: $item.html() ?? '',\r\n            };\r\n        });\r\n\r\n    return {\r\n        title: $('title').text(),\r\n        link: currentUrl,\r\n        allowEmpty: true,\r\n        image: 'https://www.2023game.com/resources/img/logo.png',\r\n        item: items,\r\n    };\r\n}\r\n"],"mappings":"oTAMA,MAAaA,EAAe,CACxB,KAAM,oBACN,WAAY,CAAC,QACb,QAAS,4BACT,WAAY,CACR,SAAU,SACV,IAAK,oCAET,SAAU,CACN,cAAe,GACf,iBAAkB,GAClB,YAAa,GACb,UAAW,GACX,eAAgB,GAChB,cAAe,IAEnB,KAAM,OACN,YAAa,CAAC,UACd,UACA,IAAK,oBACL,YAAa;;;;8MAOjB,eAAe,EAAQ,EAA6B,CAChD,IAAM,GAAY,EAAI,IAAI,MAAM,aAAe,SAAS,WAAW,IAAK,KAClE,EAAM,EAAI,IAAI,MAAM,QAAU,MAE9B,EAAa,4BAA4B,EAAS,GAElD,EAAW,MAAMC,EAAI,GACrB,EAAI,EAAK,EAAS,MAEpB,EAAW,QACX,IAAQ,QACR,EAAW,IAAI,EAAI,KAAK,KAG5B,IAAMC,EAAoB,EAAE,GACvB,UACA,IAAK,GAAS,CACX,IAAM,EAAQ,EAAE,GACV,EAAO,EAAM,KAAK,KAAK,KAAK,QAClC,MAAO,CACH,MAAO,EAAM,OAAO,OACpB,KAAM,YAAY,IAClB,KAAM,EACN,QAAS,EAAU,EAAM,KAAK,aAAa,OAAO,QAClD,YAAa,EAAM,QAAU,MAIzC,MAAO,CACH,MAAO,EAAE,SAAS,OAClB,KAAM,EACN,WAAY,GACZ,MAAO,kDACP,KAAM"}