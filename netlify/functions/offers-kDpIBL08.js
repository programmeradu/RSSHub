import{__dirname as e,init_esm_shims as t}from"./esm-shims-Dqvxr0BZ.js";import"./config-Dl8a1sIg.js";import"./logger-CWOoofbD.js";import"./dist-IvUHtNe1.js";import{art as n}from"./render-CxhTJIsl.js";import{ofetch_default as r}from"./ofetch-Bzt0BXUH.js";import i from"node:path";t();const a=`https://www.openrice.com`,o={path:`/:lang/hongkong/offers`,maintainers:[`after9`],handler:s,categories:[`shopping`],example:`/openrice/zh/hongkong/offers`,parameters:{lang:`语言，缺省为 zh`},name:`香港餐廳精選優惠券`,description:`
| 简体 | 繁體 | EN |
| ----- | ------ | ----- |
| zh-cn | zh | en |
  `};async function s(t){let o=t.req.param(`lang`)??`zh`,s;switch(o){case`zh-cn`:s=`/zh-cn/hongkong/offers`;break;case`en`:s=`/en/hongkong/offers`;break;case`zh`:default:s=`/zh/hongkong/offers`;break}let c=await r(a+`/api/offers`,{headers:{accept:`application/json`},query:{uiLang:o,uiCity:`hongkong`,page:1,sortBy:`PublishTime`,couponTypeId:1}}),l=c.pageInfo,u=c.highlightedOffers,d=c.searchResult.paginationResult.results,f=[...u,...d],p=f.map(t=>{let r=t.title??``,o=a+t.urlUI,s=t.doorPhotoUI.urls.full??``,c=t.couponType===0?t.poiNameUI:`${t.desc} (${t.startTimeUI} - ${t.expireTimeUI}) [${t.multiplePoiDistrictName}]`,l=n(i.join(e,`templates/description-98624103.art`),{description:c,image:s});return{title:r,description:l,link:o}});return{title:l.seoInfo.title??`OpenRice Hong Kong Offers`,link:a+s,description:l.seoInfo.metadataDictionary.name.find(e=>e.key===`description`)?.value??`OpenRice Hong Kong Offers`,item:p}}export{o as route};
//# sourceMappingURL=offers-kDpIBL08.js.map