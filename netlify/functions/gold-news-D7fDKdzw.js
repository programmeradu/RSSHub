import"./esm-shims-Dqvxr0BZ.js";import"./config-Dl8a1sIg.js";import"./logger-CWOoofbD.js";import"./dist-IvUHtNe1.js";import{cache_default as e}from"./cache-kimkMTWJ.js";import{parseDate as t}from"./parse-date-Bgabdhlb.js";import{ofetch_default as n}from"./ofetch-Bzt0BXUH.js";import{ViewType as r}from"./types-A5bA50Mg.js";import{load as i}from"cheerio";const a=async r=>{let{category:a}=r.req.param(),o=Number.parseInt(r.req.query(`limit`)??`30`,10),s=new URL(`gold-news${a?`/${a}`:``}`,`https://bullionvault.com`).href,c=await n(s),l=i(c),u=l(`html`).attr(`lang`)??`en`,d=[];return d=l(`section#block-views-latest-articles-block div.media, section#block-system-main table.views-table tr`).slice(0,o).toArray().map(e=>{let n=l(e),r=n.find(`td.views-field-title a, div.views-field-title a`).first(),i=r.text(),a=n.find(`td.views-field-created, div.views-field-created`).text().trim(),o=r.attr(`href`),s=n.find(`a.username`).toArray(),c=s.map(e=>{let t=l(e);return{name:t.text(),url:t.attr(`href`),avatar:void 0}}),d=a,f={title:i,pubDate:a?t(a):void 0,link:o,author:c,updated:d?t(d):void 0,language:u};return f}),d=(await Promise.all(d.map(r=>r.link?e.tryGet(r.link,async()=>{let e=await n(r.link),a=i(e),o=a(`header h1`).text(),s=a(`div[property="content:encoded"]`).html()??``,c=a(`div.submitted`).text().split(/,/).pop(),l=a(`meta[name="news_keywords"]`).attr(`content`)?.split(/,/)??[],d=a(`div.view-author-bio`).toArray(),f=d.map(e=>{let t=a(e);return{name:t.find(`h1`).text(),url:void 0,avatar:t.find(`img`).attr(`src`)}}),p=c,m={title:o,description:s,pubDate:c?t(c):r.pubDate,category:l,author:f,content:{html:s,text:s},updated:p?t(p):r.updated,language:u};return{...r,...m}}):r))).filter(e=>!0),{title:l(`title`).text(),description:l(`meta[property="og:description"]`).attr(`content`),link:s,item:d,allowEmpty:!0,image:l(`meta[property="og:image"]`).attr(`content`),author:l(`meta[property="og:title"]`).attr(`content`)?.split(/\|/).pop(),language:u,id:l(`meta[property="og:url"]`).attr(`content`)}},o={path:`/gold-news/:category?`,name:`Gold News`,url:`bullionvault.com`,maintainers:[`nczitzk`],handler:a,example:`/bullionvault/gold-news`,parameters:{category:{description:`Category`,options:[{label:`Gold market analysis & gold investment research`,value:``},{label:`Opinion & Analysis`,value:`opinion-analysis`},{label:`Gold Price News`,value:`gold-price-news`},{label:`Investment News`,value:`news`},{label:`Gold Investor Index`,value:`gold-investor-index`},{label:`Gold Infographics`,value:`infographics`},{label:`Market Fundamentals`,value:`market-fundamentals`}]}},description:`:::tip
If you subscribe to [Gold Price News](https://www.bullionvault.com/gold-news/gold-price-news)ï¼Œwhere the URL is \`https://www.bullionvault.com/gold-news/gold-price-news\`, extract the part \`https://www.bullionvault.com/gold-news/\` to the end, and use it as the parameter to fill in. Therefore, the route will be [\`/bullionvault/gold-news/gold-price-news\`](https://rsshub.app/bullionvault/gold-news/gold-price-news).
:::

| Category                                                                          | ID                                                                                   |
| --------------------------------------------------------------------------------- | ------------------------------------------------------------------------------------ |
| [Opinion & Analysis](https://www.bullionvault.com/gold-news/opinion-analysis)     | [opinion-analysis](https://rsshub.app/bullionvault/gold-news/opinion-analysis)       |
| [Gold Price News](https://www.bullionvault.com/gold-news/gold-price-news)         | [gold-price-news](https://rsshub.app/bullionvault/gold-news/gold-price-news)         |
| [Investment News](https://www.bullionvault.com/gold-news/news)                    | [news](https://rsshub.app/bullionvault/gold-news/news)                               |
| [Gold Investor Index](https://www.bullionvault.com/gold-news/gold-investor-index) | [gold-investor-index](https://rsshub.app/bullionvault/gold-news/gold-investor-index) |
| [Gold Infographics](https://www.bullionvault.com/gold-news/infographics)          | [infographics](https://rsshub.app/bullionvault/gold-news/infographics)               |
| [Market Fundamentals](https://www.bullionvault.com/gold-news/market-fundamentals) | [market-fundamentals](https://rsshub.app/bullionvault/gold-news/market-fundamentals) |
`,categories:[`finance`],features:{requireConfig:!1,requirePuppeteer:!1,antiCrawler:!1,supportRadar:!0,supportBT:!1,supportPodcast:!1,supportScihub:!1},radar:[{source:[`bullionvault.com/gold-news/:category`],target:e=>{let t=e.category;return`/bullionvault/gold-news${t?`/${t}`:``}`}},{title:`Gold market analysis & gold investment research`,source:[`bullionvault.com/gold-news`],target:`/gold-news`},{title:`Opinion & Analysis`,source:[`bullionvault.com/gold-news/opinion-analysis`],target:`/gold-news/opinion-analysis`},{title:`Gold Price News`,source:[`bullionvault.com/gold-news/gold-price-news`],target:`/gold-news/gold-price-news`},{title:`Investment News`,source:[`bullionvault.com/gold-news/news`],target:`/gold-news/news`},{title:`Gold Investor Index`,source:[`bullionvault.com/gold-news/gold-investor-index`],target:`/gold-news/gold-investor-index`},{title:`Gold Infographics`,source:[`bullionvault.com/gold-news/infographics`],target:`/gold-news/infographics`},{title:`Market Fundamentals`,source:[`bullionvault.com/gold-news/market-fundamentals`],target:`/gold-news/market-fundamentals`}],view:r.Articles};export{a as handler,o as route};
//# sourceMappingURL=gold-news-D7fDKdzw.js.map