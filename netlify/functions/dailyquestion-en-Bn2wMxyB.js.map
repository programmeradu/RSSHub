{"version":3,"file":"dailyquestion-en-Bn2wMxyB.js","names":[],"sources":["../../lib/routes/leetcode/dailyquestion-en.ts"],"sourcesContent":["import { Route } from '@/types';\r\n\r\nimport got from '@/utils/got';\r\nimport { art } from '@/utils/render';\r\nimport path from 'node:path';\r\n\r\nconst host = 'https://leetcode.com';\r\n\r\nexport const route: Route = {\r\n    path: '/dailyquestion/en',\r\n    radar: [\r\n        {\r\n            source: ['leetcode.com/'],\r\n        },\r\n    ],\r\n    name: 'Unknown',\r\n    maintainers: [],\r\n    handler,\r\n    url: 'leetcode.com/',\r\n};\r\n\r\nasync function handler() {\r\n    const question = {\r\n        date: '',\r\n        link: '',\r\n        titleSlug: '',\r\n        content: '',\r\n        frontedId: '',\r\n        difficulty: '',\r\n        tags: '',\r\n    };\r\n    const url = host + '/graphql';\r\n    const dailyQuestionPayload = {\r\n        query: `query questionOfToday {\r\n            activeDailyCodingChallengeQuestion {\r\n                date\r\n                link\r\n                question {\r\n                    frontendQuestionId: questionFrontendId\r\n                    titleSlug\r\n                }\r\n            }\r\n        } `,\r\n        variables: {},\r\n    };\r\n    const dailyQuestionResponse = await got({\r\n        method: 'post',\r\n        url,\r\n        headers: {\r\n            'content-type': 'application/json',\r\n        },\r\n        body: JSON.stringify(dailyQuestionPayload),\r\n    });\r\n    const data = dailyQuestionResponse.data.data.activeDailyCodingChallengeQuestion;\r\n    question.date = data.date;\r\n    question.link = host + data.link;\r\n    question.titleSlug = data.question.titleSlug;\r\n\r\n    const detailsPayload = {\r\n        operationName: 'questionData',\r\n        query: `query questionData($titleSlug: String!) {\r\n            question(titleSlug: $titleSlug) {\r\n                questionId\r\n                questionFrontendId\r\n                title\r\n                titleSlug\r\n                content\r\n                translatedTitle\r\n                translatedContent\r\n                difficulty\r\n                topicTags {\r\n                    name\r\n                    slug\r\n                    translatedName\r\n                    __typename\r\n                }\r\n                __typename\r\n            }\r\n        }`,\r\n        variables: {\r\n            titleSlug: question.titleSlug,\r\n        },\r\n    };\r\n    const detailsResponse = await got({\r\n        method: 'post',\r\n        url,\r\n        headers: {\r\n            'content-type': 'application/json',\r\n        },\r\n        body: JSON.stringify(detailsPayload),\r\n    });\r\n    const emoji = {\r\n        Medium: 'ðŸŸ¡',\r\n        Easy: 'ðŸŸ¢',\r\n        Hard: 'ðŸ”´',\r\n    };\r\n\r\n    const details = detailsResponse.data.data.question;\r\n    question.content = details.content;\r\n    question.frontedId = details.questionFrontendId;\r\n    question.difficulty = emoji[details.difficulty];\r\n\r\n    let topicTags = details.topicTags;\r\n    topicTags = topicTags.map((item) => {\r\n        let slug = '#' + item.slug;\r\n        slug = slug.replaceAll('-', '_');\r\n        return slug;\r\n    });\r\n    question.tags = topicTags.join(' ');\r\n\r\n    const rssData = {\r\n        title: question.frontedId + '.' + question.titleSlug,\r\n        description: art(path.join(__dirname, 'templates/question-description.art'), {\r\n            question,\r\n        }),\r\n        link: question.link,\r\n    };\r\n\r\n    return {\r\n        title: 'LeetCode Daily Question',\r\n        link: 'https://leetcode.com',\r\n        description: 'Leetcode Daily Question',\r\n        item: [\r\n            {\r\n                title: rssData.title,\r\n                description: rssData.description + question.content,\r\n                link: rssData.link,\r\n            },\r\n        ],\r\n    };\r\n}\r\n"],"mappings":"gVAMA,MAAM,EAAO,uBAEA,EAAe,CACxB,KAAM,oBACN,MAAO,CACH,CACI,OAAQ,CAAC,mBAGjB,KAAM,UACN,YAAa,GACb,UACA,IAAK,iBAGT,eAAe,GAAU,CACrB,IAAM,EAAW,CACb,KAAM,GACN,KAAM,GACN,UAAW,GACX,QAAS,GACT,UAAW,GACX,WAAY,GACZ,KAAM,IAEJ,EAAM,EAAO,WACb,EAAuB,CACzB,MAAO;;;;;;;;;YAUP,UAAW,IAET,EAAwB,MAAM,EAAI,CACpC,OAAQ,OACR,MACA,QAAS,CACL,eAAgB,oBAEpB,KAAM,KAAK,UAAU,KAEnB,EAAO,EAAsB,KAAK,KAAK,mCAC7C,EAAS,KAAO,EAAK,KACrB,EAAS,KAAO,EAAO,EAAK,KAC5B,EAAS,UAAY,EAAK,SAAS,UAEnC,IAAM,EAAiB,CACnB,cAAe,eACf,MAAO;;;;;;;;;;;;;;;;;;WAmBP,UAAW,CACP,UAAW,EAAS,YAGtB,EAAkB,MAAM,EAAI,CAC9B,OAAQ,OACR,MACA,QAAS,CACL,eAAgB,oBAEpB,KAAM,KAAK,UAAU,KAEnB,EAAQ,CACV,OAAQ,KACR,KAAM,KACN,KAAM,MAGJ,EAAU,EAAgB,KAAK,KAAK,SAC1C,EAAS,QAAU,EAAQ,QAC3B,EAAS,UAAY,EAAQ,mBAC7B,EAAS,WAAa,EAAM,EAAQ,YAEpC,IAAI,EAAY,EAAQ,UACxB,EAAY,EAAU,IAAK,GAAS,CAChC,IAAI,EAAO,IAAM,EAAK,KAEtB,MADA,GAAO,EAAK,WAAW,IAAK,KACrB,IAEX,EAAS,KAAO,EAAU,KAAK,KAE/B,IAAM,EAAU,CACZ,MAAO,EAAS,UAAY,IAAM,EAAS,UAC3C,YAAa,EAAI,EAAA,KAAA,EAAA,+CAA4D,CACzE,aAEJ,KAAM,EAAS,MAGnB,MAAO,CACH,MAAO,0BACP,KAAM,uBACN,YAAa,0BACb,KAAM,CACF,CACI,MAAO,EAAQ,MACf,YAAa,EAAQ,YAAc,EAAS,QAC5C,KAAM,EAAQ"}