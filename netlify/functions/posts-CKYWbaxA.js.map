{"version":3,"file":"posts-CKYWbaxA.js","names":["route: Route","got"],"sources":["../../lib/routes/weekendhk/posts.ts"],"sourcesContent":["import { Route } from '@/types';\r\nimport got from '@/utils/got';\r\nimport { parseDate } from '@/utils/parse-date';\r\n\r\nexport const route: Route = {\r\n    path: '/',\r\n    example: '/weekendhk',\r\n    radar: [\r\n        {\r\n            source: ['weekendhk.com/'],\r\n        },\r\n    ],\r\n    name: '最新文章',\r\n    maintainers: ['TonyRL'],\r\n    handler,\r\n    url: 'weekendhk.com/',\r\n};\r\n\r\nasync function handler(ctx) {\r\n    const baseUrl = 'https://www.weekendhk.com';\r\n    const response = await got(`${baseUrl}/wp-json/wp/v2/posts`, {\r\n        searchParams: {\r\n            per_page: ctx.req.query('limit') ?? 100,\r\n        },\r\n    });\r\n\r\n    const items = response.data.map((item) => ({\r\n        title: item.title.rendered,\r\n        link: item.link,\r\n        guid: item.guid.rendered,\r\n        description: item.content.rendered,\r\n        pubDate: parseDate(item.date_gmt),\r\n        author: item.creator_editor,\r\n    }));\r\n\r\n    return {\r\n        title: '新假期周刊',\r\n        description: '新假期周刊網站為全港最強吃喝玩樂搵節目平台。網羅世界各地最詳盡旅遊潮流資訊；最新鮮熱辣本地飲食情報；最好玩周末玩樂節目，即時瞓身報導，全天候為你update。',\r\n        link: baseUrl,\r\n        language: 'zh-HK',\r\n        image: `${baseUrl}/wp-content/themes/bucket/theme-content/images/196x196.png`,\r\n        item: items,\r\n    };\r\n}\r\n"],"mappings":"qRAIA,MAAaA,EAAe,CACxB,KAAM,IACN,QAAS,aACT,MAAO,CACH,CACI,OAAQ,CAAC,oBAGjB,KAAM,OACN,YAAa,CAAC,UACd,UACA,IAAK,kBAGT,eAAe,EAAQ,EAAK,CACxB,IAAM,EAAU,4BACV,EAAW,MAAMC,EAAI,GAAG,EAAQ,sBAAuB,CACzD,aAAc,CACV,SAAU,EAAI,IAAI,MAAM,UAAY,OAItC,EAAQ,EAAS,KAAK,IAAK,IAAU,CACvC,MAAO,EAAK,MAAM,SAClB,KAAM,EAAK,KACX,KAAM,EAAK,KAAK,SAChB,YAAa,EAAK,QAAQ,SAC1B,QAAS,EAAU,EAAK,UACxB,OAAQ,EAAK,kBAGjB,MAAO,CACH,MAAO,QACP,YAAa,kFACb,KAAM,EACN,SAAU,QACV,MAAO,GAAG,EAAQ,4DAClB,KAAM"}