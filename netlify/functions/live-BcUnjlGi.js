import{__dirname as e,init_esm_shims as t}from"./esm-shims-Dqvxr0BZ.js";import"./config-Dl8a1sIg.js";import"./logger-CWOoofbD.js";import"./dist-IvUHtNe1.js";import"./helpers-DzX-lcQO.js";import{art as n}from"./render-CxhTJIsl.js";import{parseDate as r}from"./parse-date-Bgabdhlb.js";import"./ofetch-Bzt0BXUH.js";import{got_default as i}from"./got-CdvI2yKX.js";import a from"node:path";t();const o={global:`要闻`,"a-stock":`A股`,"us-stock":`美股`,"hk-stock":`港股`,forex:`外汇`,commodity:`商品`,financing:`理财`},s={path:`/live/:category?/:score?`,categories:[`finance`],example:`/wallstreetcn/live`,parameters:{category:"快讯分类，默认`global`，见下表",score:"快讯重要度，默认`1`全部快讯，可设置为`2`只看重要的"},features:{requireConfig:!1,requirePuppeteer:!1,antiCrawler:!1,supportBT:!1,supportPodcast:!1,supportScihub:!1},radar:[{source:[`wallstreetcn.com/live/:category`,`wallstreetcn.com/`],target:`/live/:category?`}],name:`实时快讯`,maintainers:[`nczitzk`],handler:c,description:`| 要闻   | A 股    | 美股     | 港股     | 外汇  | 商品      | 理财      |
| ------ | ------- | -------- | -------- | ----- | --------- | --------- |
| global | a-stock | us-stock | hk-stock | forex | commodity | financing |`};async function c(t){let s=t.req.param(`category`)??`global`,c=t.req.param(`score`)??1,l=`https://wallstreetcn.com/live/${s}`,u=`https://api-one.wallstcn.com/apiv1/content/lives?channel=${s}-channel&limit=${t.req.query(`limit`)??100}`,d=await i({method:`get`,url:u}),f=d.data.data.items.filter(e=>e.score>=c).map(t=>({link:t.uri,title:t.title||t.content_text,pubDate:r(t.display_time*1e3),author:t.author?.display_name??``,description:n(a.join(e,`templates/description-4e71e629.art`),{description:t.content,more:t.content_more,images:t.images})}));return{title:`华尔街见闻 - 实时快讯 - ${o[s]}`,link:l,item:f}}export{s as route};
//# sourceMappingURL=live-BcUnjlGi.js.map