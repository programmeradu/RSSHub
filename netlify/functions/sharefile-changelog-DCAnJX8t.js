import"./esm-shims-Dqvxr0BZ.js";import"./config-Dl8a1sIg.js";import"./logger-CWOoofbD.js";import"./dist-IvUHtNe1.js";import{parseDate as e}from"./parse-date-Bgabdhlb.js";import{ofetch_default as t}from"./ofetch-Bzt0BXUH.js";import{load as n}from"cheerio";const r={path:`/sharefile-changelog/:sharefileID/:routeParams?`,categories:[`game`],example:`/steam/sharefile-changelog/2851063440/l=schinese`,parameters:{sharefileID:`Steam community sharefile id. Usually refers to a workshop item.`,routeParams:`Route parameters.`},radar:[{title:`Sharefile Changelog`,source:[`steamcommunity.com/sharedfiles/filedetails/changelog/:sharefileID`],target:`/sharefile-changelog/:sharefileID`}],description:`Steam Community Sharefile's Changelog. Primary used for a workshop item.
Helpful route parameters:
- \`l=\` language parameter, change the language of description.
- \`p=\` page parameter, change the results page. p=1 by default.
`,name:`Sharefile Changelog`,maintainers:[`NyaaaDoge`],handler:async r=>{let{sharefileID:i,routeParams:a}=r.req.param(),o=`https://steamcommunity.com/sharedfiles/filedetails/changelog/${i}${a?`?${a}`:``}`,s=await t(o),c=n(s),l=c(`div.apphub_AppName`).first().text(),u=c(`div.apphub_AppIcon`).children(`img`).attr(`src`),d=c(`div.workshopItemTitle`).first().text(),f=c(`div.clearfix .changeLogCtn`).toArray().map(t=>{t=c(t);let n=t.find(`.headline`).first().text(),r=t.find(`p`).first().attr(`id`),a=t.find(`p`).first().html();return{title:n,link:`https://steamcommunity.com/sharedfiles/filedetails/changelog/${i}`,description:a,pubDate:e(r,`X`)}});return{title:d,link:`https://steamcommunity.com/sharedfiles/filedetails/changelog/${i}`,description:`${l} steam community sharefile changelog`,item:f,icon:u}}};export{r as route};
//# sourceMappingURL=sharefile-changelog-DCAnJX8t.js.map