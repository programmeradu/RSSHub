import"./esm-shims-Dqvxr0BZ.js";import"./config-Dl8a1sIg.js";import"./logger-CWOoofbD.js";import"./dist-IvUHtNe1.js";import"./helpers-DzX-lcQO.js";import{cache_default as e}from"./cache-kimkMTWJ.js";import{parseDate as t}from"./parse-date-Bgabdhlb.js";import"./ofetch-Bzt0BXUH.js";import{got_default as n}from"./got-CdvI2yKX.js";import{load as r}from"cheerio";async function i(e){let t=await n({method:`get`,url:e.link}),i=t.data,a=r(i),o=a(`div.view-title`).text(),s=a(`#vsb_content`).html();return a(`[name="_newscontent_fromname"] ul a`).each((t,n)=>{let r=a(n).attr(`href`);r.startsWith(`/`)&&a(n).attr(`href`,new URL(r,e.link).href)}),e.title=o,e.description=s+(a(`ul[style]`).length?a(`ul[style]`).html():``),e}const a={path:`/sse/:type?`,categories:[`university`],example:`/tongji/sse/xytz`,parameters:{type:"通知类型，默认为 `xytz`"},features:{requireConfig:!1,requirePuppeteer:!1,antiCrawler:!1,supportBT:!1,supportPodcast:!1,supportScihub:!1},name:`软件学院通知`,maintainers:[`sgqy`],handler:o,description:`| 本科生通知 | 研究生通知 | 教工通知 | 全体通知 | 学院通知 | 学院新闻 | 学院活动 |
| ---------- | ---------- | -------- | -------- | -------- | -------- | -------- |
| bkstz      | yjstz      | jgtz     | qttz     | xytz     | xyxw     | xyhd     |

  注意: \`qttz\` 与 \`xytz\` 在原网站等价.`};async function o(a){let o=`https://sse.tongji.edu.cn`,s=a.req.param(`type`)||`xytz`,c=[`bkstz`,`yjstz`,`jgtz`,`qttz`],l=`${o}/xxzx/${c.includes(s)?`xytz/${s}`:s}.htm`,u=await n({method:`get`,url:l}),d=u.data,f=r(d),p=f(`.data-list li`).toArray().map(e=>{e=f(e);let n=e.find(`a`);return{title:n.text(),link:new URL(n.attr(`href`),o).href,pubDate:t(e.find(`.data-list-time`).text(),`YYYY-MM-DD`)}}),m=await Promise.all(p.map(t=>e.tryGet(t.link,()=>i(t))));return{title:`同济大学软件学院`,link:l,item:m}}export{a as route};
//# sourceMappingURL=notice-B52KwT_Z.js.map