import"./esm-shims-Dqvxr0BZ.js";import"./config-Dl8a1sIg.js";import"./logger-CWOoofbD.js";import"./dist-IvUHtNe1.js";import{parseDate as e}from"./parse-date-Bgabdhlb.js";import{ofetch_default as t}from"./ofetch-Bzt0BXUH.js";import{ViewType as n}from"./types-A5bA50Mg.js";import{load as r}from"cheerio";const i=async n=>{let i=Number.parseInt(n.req.query(`limit`)??`100`,10),a=new URL(`changelog`,`https://windsurf.com`).href,o=await t(a),s=r(o),c=s(`html`).attr(`lang`)??`en`,l=s(`title`).first().text(),u=l.split(/\|/).pop()?.trim(),d=s(`div[aria-label="changelog-layout"]`).slice(0,i).toArray().map(t=>{let n=s(t).parent(),r=n.find(`header div`).first().text()?.trim(),i=n.find(`article h1`).text()?.trim(),o=[r,i].filter(Boolean).join(` `),l=n.find(`article div`).first()?.html()??void 0,d=n.find(`header div`).last().text()?.trim(),f=r?`windsurf-${r}`:``,p=n.find(`article img`).attr(`src`),m=d,h={title:o,description:l,pubDate:d?e(d):void 0,link:a,author:u,doi:n.find(`meta[name="citation_doi"]`).attr(`content`),guid:f,id:f,content:{html:l,text:l},image:p,banner:p,updated:m?e(m):void 0,language:c};return h});return{title:l,description:s(`meta[property="og:description"]`).attr(`content`),link:a,item:d,allowEmpty:!0,image:s(`meta[property="og:image"]`).attr(`content`),author:u,language:c,id:s(`meta[property="og:url"]`).attr(`content`)}},a={path:`/changelog`,name:`Changelog`,url:`windsurf.com`,maintainers:[`nczitzk`],handler:i,example:`/windsurf/changelog`,parameters:void 0,description:void 0,categories:[`programming`],features:{requireConfig:!1,requirePuppeteer:!1,antiCrawler:!1,supportRadar:!0,supportBT:!1,supportPodcast:!1,supportScihub:!1},radar:[{source:[`windsurf.com/changelog`],target:`/changelog`}],view:n.Articles};export{i as handler,a as route};
//# sourceMappingURL=changelog-BvwE3VZk.js.map