import"./esm-shims-Dqvxr0BZ.js";import"./config-Dl8a1sIg.js";import"./logger-CWOoofbD.js";import"./dist-IvUHtNe1.js";import{cache_default as e}from"./cache-kimkMTWJ.js";import"./parse-date-Bgabdhlb.js";import"./ofetch-Bzt0BXUH.js";import{API_HOST as t,CDN_HOST as n,HOST as r,customFetch as i,fetchPortfolioItem as a,parseUserData as o}from"./utils-B7dT-_AV.js";const s={path:[`/portfolio/:user`],categories:[`social-media`],example:`/cara/portfolio/fengz`,parameters:{user:`username`},name:`Portfolio`,maintainers:[`KarasuShin`],handler:c,radar:[{source:[`cara.app/:user`,`cara.app/:user/*`],target:`/portfolio/:user`}]};async function c(s){let c=s.req.param(`user`),l=s.req.query(`limit`)?Number.parseInt(s.req.query(`limit`),10):15,u=await o(c),d=`${t}/profiles/portfolio?id=${u.id}&take=${l}`,f=await i(d),p=await Promise.all(f.data.map(t=>e.tryGet(`${r}/post/${t.postId}`,async()=>await a(t))));return{title:`Portfolio - ${u.name}`,link:`${r}/${c}/portfolio`,image:`${n}/${u.photo}`,item:p}}export{s as route};
//# sourceMappingURL=portfolio-CC3kHvyl.js.map