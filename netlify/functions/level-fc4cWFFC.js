import"./esm-shims-Dqvxr0BZ.js";import"./config-Dl8a1sIg.js";import"./logger-CWOoofbD.js";import"./dist-IvUHtNe1.js";import"./helpers-DzX-lcQO.js";import{parseDate as e}from"./parse-date-Bgabdhlb.js";import{md5 as t}from"./md5-4BNsOP-F.js";import"./ofetch-Bzt0BXUH.js";import{got_default as n}from"./got-CdvI2yKX.js";import{load as r}from"cheerio";const i={path:`/:level?`,categories:[`reading`],example:`/yomujp/n1`,parameters:{level:`等级，n1~n6，为空默认全部`},features:{requireConfig:!1,requirePuppeteer:!1,antiCrawler:!1,supportBT:!1,supportPodcast:!1,supportScihub:!1},radar:[{source:[`yomujp.com/`,`yomujp.com/:level`],target:`/:level`}],name:`等级`,maintainers:[`eternasuno`],handler:a,url:`yomujp.com/`};async function a(n){let i=o(n.req.param(`level`)),a=new URL(`https://yomujp.com/wp-json/wp/v2/posts`);a.searchParams.append(`categories`,s(i)),a.searchParams.append(`per_page`,Number.parseInt(n.req.query(`limit`))||10);let l=await c(a),u=l.map(n=>{let i=r(n.content.rendered.replaceAll(/[\t\n\r]/g,``)),a=i(`audio.vapfem_audio>source`),o=i(`section`).slice(2,-2).find(`.elementor-widget-text-editor>div,.elementor-widget-image>div>img`).toArray().map(e=>e.tagName===`img`?`<img src=${e.attribs.src} />`:e.firstChild.tagName===`p`?`<p>${i(e.firstChild).html()}</p>`:`<p>${i(e).html()}</p>`).join(``);return{title:n.title.rendered,author:i(`section:last-of-type p:first-of-type`).text().replace(/^.+：/,``),description:o,pubDate:e(n.date_gmt),updated:e(n.modified_gmt),guid:t(n.guid.rendered),link:n.link,itunes_item_image:i(`section:nth-of-type(2) img`).attr(`src`),enclosure_url:a.attr(`src`),enclosure_type:a.attr(`type`)}});return{title:i?`${i.toUpperCase()} | 日本語多読道場`:`日本語多読道場`,link:`https://yomujp.com/${i}`,description:`みなさん、こんにちは。 「 日本語多読道場(にほんごたどくどうじょう) Yomujp」は日本語を勉強する人のための読みものサイト（website）です。 日本の地理、食べもの、動物、植物、文化や歴史などを紹介します。`,language:`ja-jp`,itunes_author:`Yomujp`,image:`https://yomujp.com/wp-content/uploads/2023/08/top1-2-300x99-1.png`,item:u}}const o=e=>{let t=e?.toLowerCase();switch(t){case`n6`:return`n5l`;case`n5l`:case`n5`:case`n4`:case`n3`:case`n2`:case`n1`:return t;default:return``}},s=e=>{switch(e){case`n6`:case`n5l`:return`27`;case`n5`:return`26`;case`n4`:return`21`;case`n3`:return`20`;case`n2`:return`19`;case`n1`:return`17`;default:return`17,19,20,21,26,27`}},c=async e=>{let t=await n({method:`get`,url:e});return t.data};export{i as route};
//# sourceMappingURL=level-fc4cWFFC.js.map