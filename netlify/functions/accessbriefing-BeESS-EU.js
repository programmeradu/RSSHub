import{__dirname as e,init_esm_shims as t}from"./esm-shims-Dqvxr0BZ.js";import"./config-Dl8a1sIg.js";import"./logger-CWOoofbD.js";import"./dist-IvUHtNe1.js";import"./helpers-DzX-lcQO.js";import{cache_default as n}from"./cache-kimkMTWJ.js";import{art as r}from"./render-CxhTJIsl.js";import{parseDate as i}from"./parse-date-Bgabdhlb.js";import"./ofetch-Bzt0BXUH.js";import{got_default as a}from"./got-CdvI2yKX.js";import o from"node:path";import{load as s}from"cheerio";t();const c=async t=>{let{category:c=`latest/news`}=t.req.param(),l=t.req.query(`limit`)?Number.parseInt(t.req.query(`limit`),10):30,u=`https://www.accessbriefing.com`,d=new URL(c,u).href,f=new URL(`Ajax/GetPagedArticles`,u).href,{data:p}=await a(d),m=p.match(/'BrandID':\s(\d+)/)?.[1]??`32`,h=p.match(/'MoreID':\s(\d+)/)?.[1]??`9282`,{data:g}=await a(f,{searchParams:{navcontentid:h,brandid:m,page:0,lastpage:0,pagesize:l}}),_=s(p),v=_(`html`).prop(`lang`),y=g.slice(0,l).map(t=>{let n=t.Article_Headline,a=new URL(t.Image,u).href,s=r(o.join(e,`templates/description-d8d1b2f6.art`),{images:a?[{src:a,alt:n}]:void 0,intro:t.Article_Intro_Plaintext}),c=`accessbriefing-${t.Article_ID}`;return{title:n,description:s,pubDate:i(t.Article_PublishedDate),link:new URL(t.URL,u).href,author:t.Authors.join(`/`),guid:c,id:c,content:{html:s,text:t.Article_Intro_Plaintext},image:a,banner:a,language:v}});y=await Promise.all(y.map(t=>n.tryGet(t.link,async()=>{let{data:n}=await a(t.link),i=s(n),c=i(`h1.khl-article-page-title`).text(),l=t.description+r(o.join(e,`templates/description-d8d1b2f6.art`),{description:i(`div.khl-article-page-storybody`).html()});return t.title=c,t.description=l,t.category=i(`a.badge[data-id]`).toArray().map(e=>i(e).text()),t.author=i(`div.authorDetails a span b`).text(),t.content={html:l,text:i(`div.khl-article-page-storybody`).text()},t.language=v,t})));let b=new URL(_(`a.navbar-brand img`).prop(`src`),u).href;return{title:_(`title`).text(),description:_(`meta[property="og:description"]`).prop(`content`),link:d,item:y,allowEmpty:!0,image:b,author:_(`meta[property="og:site_name"]`).prop(`content`),language:v}},l={path:`/:category{.+}?`,name:`Articles`,url:`accessbriefing.com`,maintainers:[`nczitzk`],handler:c,example:`/accessbriefing/latest/news`,parameters:{category:`Category, Latest News by default`},description:`::: tip
  If you subscribe to [Latest News](https://www.accessbriefing.com/latest/news)ï¼Œwhere the URL is \`https://www.accessbriefing.com/latest/news\`, extract the part \`https://www.accessbriefing.com/\` to the end, and use it as the parameter to fill in. Therefore, the route will be [\`/accessbriefing/latest/news\`](https://rsshub.app/accessbriefing/latest/news).
:::

#### Latest

| Category                                                                               | ID                                                                                              |
| -------------------------------------------------------------------------------------- | ----------------------------------------------------------------------------------------------- |
| [News](https://www.accessbriefing.com/latest/news)                                     | [latest/news](https://rsshub.app/target/site/latest/news)                                       |
| [Products & Technology](https://www.accessbriefing.com/latest/products-and-technology) | [latest/products-and-technology](https://rsshub.app/target/site/latest/products-and-technology) |
| [Rental News](https://www.accessbriefing.com/latest/rental-news)                       | [latest/rental-news](https://rsshub.app/target/site/latest/rental-news)                         |
| [People](https://www.accessbriefing.com/latest/people)                                 | [latest/people](https://rsshub.app/target/site/latest/people)                                   |
| [Regualtions & Safety](https://www.accessbriefing.com/latest/regualtions-safety)       | [latest/regualtions-safety](https://rsshub.app/target/site/latest/regualtions-safety)           |
| [Finance](https://www.accessbriefing.com/latest/finance)                               | [latest/finance](https://rsshub.app/target/site/latest/finance)                                 |
| [Sustainability](https://www.accessbriefing.com/latest/sustainability)                 | [latest/sustainability](https://rsshub.app/target/site/latest/sustainability)                   |

#### Insight

| Category                                                                          | ID                                                                                        |
| --------------------------------------------------------------------------------- | ----------------------------------------------------------------------------------------- |
| [Interviews](https://www.accessbriefing.com/insight/interviews)                   | [insight/interviews](https://rsshub.app/target/site/insight/interviews)                   |
| [Longer reads](https://www.accessbriefing.com/insight/longer-reads)               | [insight/longer-reads](https://rsshub.app/target/site/insight/longer-reads)               |
| [Videos and podcasts](https://www.accessbriefing.com/insight/videos-and-podcasts) | [insight/videos-and-podcasts](https://rsshub.app/target/site/insight/videos-and-podcasts) |
  `,categories:[`new-media`],features:{requireConfig:!1,requirePuppeteer:!1,antiCrawler:!1,supportRadar:!0,supportBT:!1,supportPodcast:!1,supportScihub:!1},radar:[{source:[`accessbriefing.com/:category*`],target:`/:category`},{title:`Latest - News`,source:[`accessbriefing.com/latest/news`],target:`/latest/news`},{title:`Latest - Products & Technology`,source:[`accessbriefing.com/latest/products-and-technology`],target:`/latest/products-and-technology`},{title:`Latest - Rental News`,source:[`accessbriefing.com/latest/rental-news`],target:`/latest/rental-news`},{title:`Latest - People`,source:[`accessbriefing.com/latest/people`],target:`/latest/people`},{title:`Latest - Regualtions & Safety`,source:[`accessbriefing.com/latest/regualtions-safety`],target:`/latest/regualtions-safety`},{title:`Latest - Finance`,source:[`accessbriefing.com/latest/finance`],target:`/latest/finance`},{title:`Latest - Sustainability`,source:[`accessbriefing.com/latest/sustainability`],target:`/latest/sustainability`},{title:`Insight - Interviews`,source:[`accessbriefing.com/insight/interviews`],target:`/insight/interviews`},{title:`Insight - Longer reads`,source:[`accessbriefing.com/insight/longer-reads`],target:`/insight/longer-reads`},{title:`Insight - Videos and podcasts`,source:[`accessbriefing.com/insight/videos-and-podcasts`],target:`/insight/videos-and-podcasts`}]};export{c as handler,l as route};
//# sourceMappingURL=accessbriefing-BeESS-EU.js.map