import{__dirname as e,init_esm_shims as t}from"./esm-shims-Dqvxr0BZ.js";import{art as n}from"./render-CxhTJIsl.js";import{parseDate as r}from"./parse-date-Bgabdhlb.js";import i from"node:path";t();const a=t=>t.map(t=>{let a=t.product_type,o=t.caption?.text??``,s=``;switch(a){case`carousel_container`:{let r=t.carousel_media.map(e=>({...e.image_versions2.candidates.sort((e,t)=>t.width-e.width)[0],alt:t.accessibility_caption}));s=n(i.join(e,`templates/images-4bd74d43.art`),{summary:o,images:r});break}case`clips`:case`igtv`:s=n(i.join(e,`templates/video-2b01879c.art`),{summary:o,image:t.image_versions2.candidates.sort((e,t)=>t.width-e.width)[0],video:t.video_versions[0]});break;case`feed`:{let r=[{...t.image_versions2.candidates.sort((e,t)=>t.width-e.width)[0],alt:t.accessibility_caption}];s=n(i.join(e,`templates/images-4bd74d43.art`),{summary:o,images:r});break}default:throw Error(`Instagram: Unhandled feed type: ${a}`)}let c=`https://www.instagram.com/p/${t.code}/`,l=r(t.caption?.created_at_utc||t.taken_at,`X`),u=o.split(`
`)[0];return{title:u,id:t.pk,pubDate:l,author:t.user.username,link:c,summary:o,description:s}});export{a as renderItems};
//# sourceMappingURL=common-utils-lQ4FwDQy.js.map