import"./esm-shims-Dqvxr0BZ.js";import"./config-Dl8a1sIg.js";import"./logger-CWOoofbD.js";import"./dist-IvUHtNe1.js";import"./helpers-DzX-lcQO.js";import{parseDate as e}from"./parse-date-Bgabdhlb.js";import"./ofetch-Bzt0BXUH.js";import{got_default as t}from"./got-CdvI2yKX.js";import{timezone as n}from"./timezone-BrNu6iXe.js";import{load as r}from"cheerio";const i={path:`/shenzhen/zzb/:caty/:page?`,categories:[`government`],example:`/gov/shenzhen/zzb/tzgg`,parameters:{caty:`信息类别`,page:`页码`},features:{requireConfig:!1,requirePuppeteer:!1,antiCrawler:!1,supportBT:!1,supportPodcast:!1,supportScihub:!1},radar:[{source:[`zzb.sz.gov.cn/*`]}],name:`深圳市委组织部`,maintainers:[`zlasd`],handler:a,url:`zzb.sz.gov.cn/*`,description:`| 通知公告 | 任前公示 | 政策法规 | 工作动态 | 部门预算决算公开 | 业务表格下载 |
| :------: | :------: | :------: | :------: | :--------------: | :----------: |
|   tzgg   |   rqgs   |   zcfg   |   gzdt   |       xcbd       |     bgxz     |`};async function a(i){let a=i.req.param(`caty`),o=i.req.param(`page`)??`1`,s=Number.parseInt(o)>1?`_${o}`:``,c=`/${a}/index${s}.html`,l=new URL(c,`http://www.zzb.sz.gov.cn/`),u=await t({method:`get`,url:l});if(u.statusCode!==200)throw Error(u.statusMessage);let d=r(u.data),f=d(`#Title`).text().trim(),p=d(`#List tbody tr td table tbody tr td[width="96%"]`).toArray().map(t=>{let r=d(t).find(`font a`),i=d(t).find(`font[size="2px"]`);return{title:r.text(),link:r.attr(`href`),pubDate:n(e(i.text().trim(),`YYYY/MM/DD`),0)}});return{title:`深圳组工在线 - `+f,link:l.href,item:p}}export{i as route};
//# sourceMappingURL=zzb-CPkjuiIv.js.map