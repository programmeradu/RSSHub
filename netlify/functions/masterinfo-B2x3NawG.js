import"./esm-shims-Dqvxr0BZ.js";import"./config-Dl8a1sIg.js";import"./logger-CWOoofbD.js";import"./dist-IvUHtNe1.js";import"./helpers-DzX-lcQO.js";import{cache_default as e}from"./cache-kimkMTWJ.js";import{parseDate as t}from"./parse-date-Bgabdhlb.js";import"./ofetch-Bzt0BXUH.js";import{got_default as n}from"./got-CdvI2yKX.js";import{timezone as r}from"./timezone-BrNu6iXe.js";import{load as i}from"cheerio";const a={tzgg:`通知公告`,zsxx:`硕士招生信息`,pyxx:`研究生培养信息`},o={tzgg:`通知公告`,zsxx:`硕士招生信息`,pyxx:`研究生培养信息`},s={tzgg:`tzgg`,zsxx:`zsxx/sszsxx`,pyxx:`pyxx/pyxx`},c={path:`/master/:type`,categories:[`university`],example:`/ncepu/master/tzgg`,parameters:{type:`类型参数`},features:{requireConfig:!1,requirePuppeteer:!1,antiCrawler:!1,supportBT:!1,supportPodcast:!1,supportScihub:!1},name:`北京校区研究生院`,maintainers:[`nilleo`],handler:l,description:`| 类型 | 硕士招生信息 | 通知公告 | 研究生培养信息 |
| ---- | ------------ | -------- | -------------- |
| 参数 | zsxx         | tzgg     | pyxx           |`};async function l(c){let l=c.req.param(`type`),u=await n(`https://yjsy.ncepu.edu.cn/${s[l]}/index.htm`),d=u.data,f=i(d),p=f(`.articleList ul li`).toArray().map(e=>{e=f(e);let n=e.find(`a`),i=r(t(e.find(`span`).text().replace(`[`,``).replace(`]`,``)),8),a=`https://yjsy.ncepu.edu.cn/${s[l]}/`,o=n.attr(`href`),c=a+o;return{title:n.attr(`title`),link:c,pubDate:i}}),m=await Promise.all(p.map(async t=>{let r=await e.tryGet(t.link,async()=>(await n(t.link)).data),a=i(r),o=a(`.articleAuthor`).html().replace(`作者：&nbsp;&nbsp;`,``).replace(`来源：&nbsp;&nbsp;`,``),s=a(`.article`).html(),c=a(`.Annex`).html()||``,l={title:t.title,link:t.link,description:o+s+c,pubDate:t.pubDate};return l}));return{title:`${a[l]}-华北电力大学研究生院`,link:`http://yjsy.ncepu.edu.cn/${s[l]}`,description:`华北电力大学研究生院${o[l]}`,item:m}}export{c as route};
//# sourceMappingURL=masterinfo-B2x3NawG.js.map