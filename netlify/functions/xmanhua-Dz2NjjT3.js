import"./esm-shims-Dqvxr0BZ.js";import"./config-Dl8a1sIg.js";import"./logger-CWOoofbD.js";import"./dist-IvUHtNe1.js";import"./helpers-DzX-lcQO.js";import{parseDate as e}from"./parse-date-Bgabdhlb.js";import"./ofetch-Bzt0BXUH.js";import{got_default as t}from"./got-CdvI2yKX.js";import{load as n}from"cheerio";const r={path:`/:uid`,categories:[`anime`],example:`/xmanhua/73xm`,parameters:{uid:"漫画 id,在浏览器中可见，例如鬼灭之刃对应的 id 为 `73xm`"},features:{requireConfig:!1,requirePuppeteer:!1,antiCrawler:!1,supportBT:!1,supportPodcast:!1,supportScihub:!1,nsfw:!0},radar:[{source:[`xmanhua.com/:uid`]}],name:`最新动态`,maintainers:[`Ye11`],handler:i};async function i(r){let i=r.req.param(`uid`),a=`https://xmanhua.com`,o=`https://xmanhua.com/${i}/`,s=await t({method:`get`,url:o,headers:{Referer:a}}),c=s.data,l=n(c),u=l(`div #chapterlistload`).find(`.detail-list-form-item`),d=l(`body > div.detail-info-1 > div > div > p.detail-info-tip > span:nth-child(1)`).text().split(`：`)[1],f=l(`div.detail-list-form-title`).clone().children().remove().end().text(),p=!1,m=f.split(`,`)[1];if(m.includes(`月`)&&m.includes(`號`)){let e=Number.parseInt(m.split(`月`)[0]),t=Number.parseInt(m.split(`月`)[1].split(`號`)[0]),n=new Date().getFullYear();m=new Date(n,e-1,t+1)}else m=new Date(m),m.setDate(m.getDate()+1);(f.includes(`已完結`)||f.includes(`已完结`))&&(p=!0);let h=l(`div.detail-list-form-title span.s a`).attr(`href`),g=u.toArray().map(t=>{t=l(t);let n=t.text(),r=t.attr(`href`),i=r===h?e(m):``;return{title:n,link:a+r,auther:d,pubDate:i,guid:a+r}}),_=l(`body > div.detail-info-1 > div > div > p.detail-info-title`).text(),v=p?`已完结`:`连载中`;return{title:`x漫画  ${_}`,link:`https://xmanhua.com/${i}`,description:v,allowEmpty:!0,item:g}}export{r as route};
//# sourceMappingURL=xmanhua-Dz2NjjT3.js.map