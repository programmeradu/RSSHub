{"version":3,"file":"tfc-taiwan-T3GDio5K.js","names":["ofetch","route: Route"],"sources":["../../lib/routes/tfc-taiwan/index.ts"],"sourcesContent":["import { Route } from '@/types';\r\nimport ofetch from '@/utils/ofetch';\r\nimport { baseUrl, parsePost, parseItem } from './utils';\r\n\r\nconst handler = async (ctx) => {\r\n    const limit = ctx.req.query('limit') ? Number.parseInt(ctx.req.query('limit'), 10) : undefined;\r\n\r\n    const pageResponse = await ofetch(`${baseUrl}/wp-json/wp/v2/pages/89173`);\r\n    const postsResponse = await parsePost(limit, undefined);\r\n\r\n    const pageInfo = pageResponse.yoast_head_json;\r\n    const items = parseItem(postsResponse);\r\n\r\n    return {\r\n        title: pageInfo.title,\r\n        description: pageInfo.og_site_name,\r\n        image: pageInfo.og_image[0].url,\r\n        logo: pageInfo.og_image[0].url,\r\n        icon: pageInfo.og_image[0].url,\r\n        link: pageInfo.canonical,\r\n        lang: 'zh-TW',\r\n        item: items,\r\n    };\r\n};\r\n\r\nexport const route: Route = {\r\n    name: '最新查核報告',\r\n    maintainers: ['TonyRL'],\r\n    example: '/tfc-taiwan',\r\n    path: '/',\r\n    handler,\r\n    url: 'tfc-taiwan.org.tw/latest-news/',\r\n};\r\n"],"mappings":"oTAIA,MAAM,EAAU,KAAO,IAAQ,CAC3B,IAAM,EAAQ,EAAI,IAAI,MAAM,SAAW,OAAO,SAAS,EAAI,IAAI,MAAM,SAAU,IAAM,IAAA,GAE/E,EAAe,MAAMA,EAAO,GAAG,EAAQ,6BACvC,EAAgB,MAAM,EAAU,EAAO,IAAA,IAEvC,EAAW,EAAa,gBACxB,EAAQ,EAAU,GAExB,MAAO,CACH,MAAO,EAAS,MAChB,YAAa,EAAS,aACtB,MAAO,EAAS,SAAS,GAAG,IAC5B,KAAM,EAAS,SAAS,GAAG,IAC3B,KAAM,EAAS,SAAS,GAAG,IAC3B,KAAM,EAAS,UACf,KAAM,QACN,KAAM,IAIDC,EAAe,CACxB,KAAM,SACN,YAAa,CAAC,UACd,QAAS,cACT,KAAM,IACN,UACA,IAAK"}