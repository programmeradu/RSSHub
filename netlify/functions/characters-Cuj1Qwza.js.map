{"version":3,"file":"characters-Cuj1Qwza.js","names":["route: Route","ofetch"],"sources":["../../lib/routes/chub/characters.ts"],"sourcesContent":["import { Route } from '@/types';\r\nimport ofetch from '@/utils/ofetch';\r\nimport { parseDate } from '@/utils/parse-date';\r\n\r\nexport const route: Route = {\r\n    path: '/characters',\r\n    categories: ['new-media'],\r\n    example: '/chub/characters',\r\n    name: 'Characters',\r\n    maintainers: ['flameleaf'],\r\n    handler,\r\n};\r\n\r\nasync function handler() {\r\n    const hostURL = 'https://www.chub.ai/characters';\r\n    const apiURL = 'https://api.chub.ai/search';\r\n    const { data } = await ofetch(apiURL, {\r\n        headers: { Accept: 'application/json' },\r\n        query: {\r\n            search: '',\r\n            first: 200,\r\n            page: 1,\r\n            sort: 'last_activity_at',\r\n            asc: 'false',\r\n            include_forks: 'false',\r\n            nsfw: 'true',\r\n            nsfl: 'true',\r\n            nsfw_only: 'false',\r\n            require_images: 'false',\r\n            require_example_dialogues: 'false',\r\n            require_alternate_greetings: 'false',\r\n            require_custom_prompt: 'false',\r\n            exclude_mine: 'false',\r\n            min_tokens: 50,\r\n            require_expressions: 'false',\r\n            require_lore: 'false',\r\n            mine_first: 'false',\r\n            require_lore_embedded: 'false',\r\n            require_lore_linked: 'false',\r\n            inclusive_or: 'false',\r\n            recommended_verified: 'false',\r\n        },\r\n    });\r\n    const nodes = data.nodes;\r\n\r\n    return {\r\n        allowEmpty: true,\r\n        title: 'Chub',\r\n        link: hostURL,\r\n        item: nodes.map((item) => ({\r\n            title: item.name,\r\n            description: `${item.tagline}<br><br>${item.description}`,\r\n            pubDate: parseDate(item.createdAt),\r\n            updated: parseDate(item.lastActivityAt),\r\n            link: `${hostURL}/${item.fullPath}`,\r\n            author: String(item.fullPath.split('/', 1)),\r\n            enclosure_url: item.avatar_url,\r\n            enclosure_type: `image/webp`,\r\n            category: item.topics,\r\n        })),\r\n    };\r\n}\r\n"],"mappings":"gOAIA,MAAaA,EAAe,CACxB,KAAM,cACN,WAAY,CAAC,aACb,QAAS,mBACT,KAAM,aACN,YAAa,CAAC,aACd,WAGJ,eAAe,GAAU,CACrB,IAAM,EAAU,iCAEV,CAAE,QAAS,MAAMC,EAAO,6BAAQ,CAClC,QAAS,CAAE,OAAQ,oBACnB,MAAO,CACH,OAAQ,GACR,MAAO,IACP,KAAM,EACN,KAAM,mBACN,IAAK,QACL,cAAe,QACf,KAAM,OACN,KAAM,OACN,UAAW,QACX,eAAgB,QAChB,0BAA2B,QAC3B,4BAA6B,QAC7B,sBAAuB,QACvB,aAAc,QACd,WAAY,GACZ,oBAAqB,QACrB,aAAc,QACd,WAAY,QACZ,sBAAuB,QACvB,oBAAqB,QACrB,aAAc,QACd,qBAAsB,WAGxB,EAAQ,EAAK,MAEnB,MAAO,CACH,WAAY,GACZ,MAAO,OACP,KAAM,EACN,KAAM,EAAM,IAAK,IAAU,CACvB,MAAO,EAAK,KACZ,YAAa,GAAG,EAAK,QAAQ,UAAU,EAAK,cAC5C,QAAS,EAAU,EAAK,WACxB,QAAS,EAAU,EAAK,gBACxB,KAAM,GAAG,EAAQ,GAAG,EAAK,WACzB,OAAQ,OAAO,EAAK,SAAS,MAAM,IAAK,IACxC,cAAe,EAAK,WACpB,eAAgB,aAChB,SAAU,EAAK"}