{"version":3,"file":"article-BJtJSzkh.js","names":[],"sources":["../../lib/routes/4kup/const.ts","../../lib/routes/4kup/article.ts"],"sourcesContent":["const SUB_NAME_PREFIX = '4KUP';\r\nconst SUB_URL = 'https://4kup.net/';\r\n\r\nexport { SUB_NAME_PREFIX, SUB_URL };\r\n","import { load } from 'cheerio';\r\nimport { parseDate } from '@/utils/parse-date';\r\nimport { WPPost } from './types';\r\n\r\nconst processLazyImages = ($) => {\r\n    $('a.thumb-photo').each((_, elem) => {\r\n        const $elem = $(elem);\r\n        const largePhotoUrl = $elem.attr('href');\r\n        if (largePhotoUrl) {\r\n            $elem.find('img').attr('src', largePhotoUrl);\r\n        }\r\n    });\r\n\r\n    $('.caption').remove();\r\n};\r\n\r\nfunction loadArticle(item: WPPost) {\r\n    const article = load(item.content.rendered);\r\n    processLazyImages(article);\r\n\r\n    return {\r\n        title: item.title.rendered,\r\n        description: article.html() ?? '',\r\n        pubDate: parseDate(item.date_gmt),\r\n        link: item.link,\r\n    };\r\n}\r\n\r\nexport default loadArticle;\r\n"],"mappings":"oFAAA,MAAM,EAAkB,OAClB,EAAU,oBCGV,EAAqB,GAAM,CAC7B,EAAE,iBAAiB,MAAM,EAAG,IAAS,CACjC,IAAM,EAAQ,EAAE,GACV,EAAgB,EAAM,KAAK,QAC7B,GACA,EAAM,KAAK,OAAO,KAAK,MAAO,KAItC,EAAE,YAAY,UAGlB,SAAS,EAAY,EAAc,CAC/B,IAAM,EAAU,EAAK,EAAK,QAAQ,UAGlC,OAFA,EAAkB,GAEX,CACH,MAAO,EAAK,MAAM,SAClB,YAAa,EAAQ,QAAU,GAC/B,QAAS,EAAU,EAAK,UACxB,KAAM,EAAK,MAInB,IAAA,EAAe"}