{"version":3,"file":"tjftz-Dsk-1brd.js","names":["route: Route","got"],"sources":["../../lib/routes/gov/tianjin/tjftz.ts"],"sourcesContent":["import { Route } from '@/types';\r\nimport got from '@/utils/got';\r\nimport { load } from 'cheerio';\r\nimport { parseDate } from '@/utils/parse-date';\r\n\r\nexport const route: Route = {\r\n    path: '/tianjin/tjftz-notice/:channelId',\r\n    categories: ['government'],\r\n    example: '/gov/tianjin/tjftz-notice/6302',\r\n    parameters: {\r\n        channelId: '公告分类id、详细信息点击源网站https://www.tjftz.gov.cn/请求中寻找',\r\n    },\r\n    radar: [\r\n        {\r\n            source: ['tjftz.gov.cn/channels/:channelId.html'],\r\n            target: '/tianjin/tjftz-notice/:channelId',\r\n        },\r\n    ],\r\n    name: '天津港保税区-公告',\r\n    url: 'tjftz.gov.cn',\r\n    maintainers: ['HaoyuLee'],\r\n    description: `\r\n| 公告类别         | channelId |\r\n| ------------ | -- |\r\n| 首页>新闻>保税区要闻>区域聚焦     | 6302  |\r\n    `,\r\n    async handler(ctx) {\r\n        const { channelId = '6302' } = ctx.req.param();\r\n        const url = `https://www.tjftz.gov.cn/channels/${channelId}.html`;\r\n        const { data: response } = await got(url);\r\n        const noticeCate = load(response)('.location').text().trim();\r\n        const item = load(response)('#sec_right>ul li>.layui-row')\r\n            .toArray()\r\n            .map((el) => {\r\n                const $ = load(el);\r\n                return {\r\n                    title: `天津保税区:${$('a').attr('title')}`,\r\n                    link: `https://www.tjftz.gov.cn${$('a').attr('href')}`,\r\n                    pubDate: parseDate($('span').text().trim()),\r\n                    author: '天津保税区',\r\n                    description: `\r\n                        <h4>${noticeCate}</h4>\r\n                        <a href=\"https://www.tjftz.gov.cn${$('a').attr('href')}\">${$('a').attr('title')}</a>\r\n                    `,\r\n                };\r\n            });\r\n        return {\r\n            title: '天津港保税区-公告',\r\n            link: url,\r\n            item,\r\n        };\r\n    },\r\n};\r\n"],"mappings":"oTAKA,MAAaA,EAAe,CACxB,KAAM,mCACN,WAAY,CAAC,cACb,QAAS,iCACT,WAAY,CACR,UAAW,kDAEf,MAAO,CACH,CACI,OAAQ,CAAC,yCACT,OAAQ,qCAGhB,KAAM,YACN,IAAK,eACL,YAAa,CAAC,YACd,YAAa;;;;MAKb,MAAM,QAAQ,EAAK,CACf,GAAM,CAAE,YAAY,QAAW,EAAI,IAAI,QACjC,EAAM,qCAAqC,EAAU,OACrD,CAAE,KAAM,GAAa,MAAMC,EAAI,GAC/B,EAAa,EAAK,GAAU,aAAa,OAAO,OAChD,EAAO,EAAK,GAAU,+BACvB,UACA,IAAK,GAAO,CACT,IAAM,EAAI,EAAK,GACf,MAAO,CACH,MAAO,SAAS,EAAE,KAAK,KAAK,WAC5B,KAAM,2BAA2B,EAAE,KAAK,KAAK,UAC7C,QAAS,EAAU,EAAE,QAAQ,OAAO,QACpC,OAAQ,QACR,YAAa;8BACH,EAAW;2DACkB,EAAE,KAAK,KAAK,QAAQ,IAAI,EAAE,KAAK,KAAK,SAAS;yBAIhG,MAAO,CACH,MAAO,YACP,KAAM,EACN"}