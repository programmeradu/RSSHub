{"version":3,"file":"tjrcgzw-B5nYMRPD.js","names":["route: Route","got"],"sources":["../../lib/routes/gov/tianjin/tjrcgzw.ts"],"sourcesContent":["import { Route } from '@/types';\r\nimport got from '@/utils/got';\r\nimport { load } from 'cheerio';\r\nimport { parseDate } from '@/utils/parse-date';\r\nexport const route: Route = {\r\n    path: '/tianjin/tjrcgzw-notice/:cate/:subCate',\r\n    categories: ['government'],\r\n    example: '/gov/tianjin/tjrcgzw-notice/rczc/sjrczc/',\r\n    parameters: {\r\n        channelId: '公告分类id、详细信息点击源网站https://hrss.tj.gov.cn/ztzl/ztzl1/tjrcgzw/请求中寻找',\r\n    },\r\n    radar: [\r\n        {\r\n            source: ['hrss.tj.gov.cn/ztzl/ztzl1/tjrcgzw/'],\r\n            target: '/tianjin/tjrcgzw-notice/:cate/:subCate',\r\n        },\r\n    ],\r\n    name: '天津人才工作网-公告',\r\n    url: 'hrss.tj.gov.cn/ztzl/ztzl1/tjrcgzw/',\r\n    maintainers: ['HaoyuLee'],\r\n    async handler(ctx) {\r\n        const { cate, subCate } = ctx.req.param();\r\n        const url = `https://hrss.tj.gov.cn/ztzl/ztzl1/tjrcgzw/${cate}/${subCate}/`;\r\n        const { data: response } = await got(url);\r\n        const noticeCate = load(response)('.routeBlockAuto').text().trim();\r\n        const item = load(response)('ul.listUlBox01>li')\r\n            .toArray()\r\n            .map((el) => {\r\n                const $ = load(el);\r\n                const title = $('a').text().trim();\r\n                const href = $('a').attr('href') || '';\r\n                const date = $('span').text().trim();\r\n                const link = href!.includes('http') ? href : new URL(href, url).href;\r\n                return {\r\n                    title: `天津人才工作网:${title}`,\r\n                    link,\r\n                    pubDate: parseDate(date),\r\n                    author: '天津人才工作网',\r\n                    description: `\r\n                        <h4>${noticeCate}</h4>\r\n                        <a href=\"${link}\">${title}</a>\r\n                    `,\r\n                };\r\n            });\r\n        return {\r\n            title: '天津人才工作网-公告',\r\n            link: url,\r\n            item,\r\n        };\r\n    },\r\n};\r\n"],"mappings":"oTAIA,MAAaA,EAAe,CACxB,KAAM,yCACN,WAAY,CAAC,cACb,QAAS,2CACT,WAAY,CACR,UAAW,mEAEf,MAAO,CACH,CACI,OAAQ,CAAC,sCACT,OAAQ,2CAGhB,KAAM,aACN,IAAK,qCACL,YAAa,CAAC,YACd,MAAM,QAAQ,EAAK,CACf,GAAM,CAAE,OAAM,WAAY,EAAI,IAAI,QAC5B,EAAM,6CAA6C,EAAK,GAAG,EAAQ,GACnE,CAAE,KAAM,GAAa,MAAMC,EAAI,GAC/B,EAAa,EAAK,GAAU,mBAAmB,OAAO,OACtD,EAAO,EAAK,GAAU,qBACvB,UACA,IAAK,GAAO,CACT,IAAM,EAAI,EAAK,GACT,EAAQ,EAAE,KAAK,OAAO,OACtB,EAAO,EAAE,KAAK,KAAK,SAAW,GAC9B,EAAO,EAAE,QAAQ,OAAO,OACxB,EAAO,EAAM,SAAS,QAAU,EAAO,IAAI,IAAI,EAAM,GAAK,KAChE,MAAO,CACH,MAAO,WAAW,IAClB,OACA,QAAS,EAAU,GACnB,OAAQ,UACR,YAAa;8BACH,EAAW;mCACN,EAAK,IAAI,EAAM;yBAI1C,MAAO,CACH,MAAO,aACP,KAAM,EACN"}