import e from"dayjs";import{Fragment as t,jsx as n,jsxs as r}from"hono/jsx/jsx-runtime";import i from"art-template";const a=`feed`,o=t=>{let n=e().unix(),r={data:t.item.map(t=>{let r=s(t);return{owner:r,id:t.link,network:`rsshub`,from:r,to:r,tag:`RSS`,type:a,direction:`out`,feeValue:`0`,actions:[{tag:`RSS`,type:a,platform:`RSSHub`,from:r,to:r,metadata:{authors:typeof t.author==`string`?[{name:t.author}]:t.author,description:t.description,pub_date:t.pubDate,tags:typeof t.category==`string`?[t.category]:t.category,title:t.title},related_urls:[t.link]}],timestamp:e(t.updated).unix()||n}})};return r};function s(e){try{let t=new URL(e.link);return t.hostname}catch{return e.link}}var c=o;const l=e=>{let t={version:`https://jsonfeed.org/version/1.1`,title:e.title||`RSSHub`,home_page_url:e.link||`https://docs.rsshub.app`,feed_url:e.feedLink,description:`${e.description||e.title} - Powered by RSSHub`,icon:e.image,authors:typeof e.author==`string`?[{name:e.author}]:e.author,language:e.language||`zh-cn`,items:e.item?.map(e=>({id:e.guid||e.id||e.link,url:e.link,title:e.title,content_html:e.content&&e.content.html||e.description||e.title,content_text:e.content&&e.content.text,image:e.image||e.itunes_item_image,banner_image:e.banner,date_published:e.pubDate,date_modified:e.updated,authors:typeof e.author==`string`?[{name:e.author}]:e.author,tags:typeof e.category==`string`?[e.category]:e.category,language:e.language,attachments:e.attachments||(e.enclosure_url?[{url:e.enclosure_url,mime_type:e.enclosure_type,title:e.enclosure_title,size_in_bytes:e.enclosure_length,duration_in_seconds:e.itunes_duration}]:void 0),_extra:e._extra||void 0}))};return JSON.stringify(t)};var u=l;const d=({data:e})=>{let i=e.itunes_author||e.itunes_category||e.item&&e.item.some(e=>e.itunes_item_image||e.itunes_duration),a=e.item?.some(e=>e.media),o=e.link?.startsWith(`https://t.me/s/`);return n(`rss`,{"xmlns:atom":`http://www.w3.org/2005/Atom`,"xmlns:itunes":i?`http://www.itunes.com/dtds/podcast-1.0.dtd`:void 0,"xmlns:media":a?`http://search.yahoo.com/mrss/`:void 0,version:`2.0`,children:r(`channel`,{children:[n(`title`,{children:e.title||`RSSHub`}),n(`link`,{children:e.link||`https://docs.rsshub.app`}),n(`atom:link`,{href:e.atomlink,rel:`self`,type:`application/rss+xml`}),r(`description`,{children:[e.description||e.title,` - Powered by RSSHub`]}),n(`generator`,{children:`RSSHub`}),n(`webMaster`,{children:`contact@rsshub.app (RSSHub)`}),e.itunes_author&&n(`itunes:author`,{children:e.itunes_author}),e.itunes_category&&n(`itunes:category`,{text:e.itunes_category}),e.itunes_author&&n(`itunes:explicit`,{children:e.itunes_explicit||`false`}),n(`language`,{children:e.language||`en`}),e.image&&r(`image`,{children:[n(`url`,{children:e.image}),n(`title`,{children:e.title||`RSSHub`}),n(`link`,{children:e.link}),o&&r(t,{children:[n(`height`,{children:`31`}),n(`width`,{children:`88`})]})]}),n(`lastBuildDate`,{children:e.lastBuildDate}),n(`ttl`,{children:e.ttl}),e.item?.map(e=>r(`item`,{children:[n(`title`,{children:e.title}),n(`description`,{children:e.description}),n(`link`,{children:e.link}),n(`guid`,{isPermaLink:`false`,children:e.guid||e.link||e.title}),e.pubDate&&n(`pubDate`,{children:e.pubDate}),e.author&&n(`author`,{children:e.author}),e.image&&n(`enclosure`,{url:e.image,type:`image/jpeg`}),e.itunes_item_image&&n(`itunes:image`,{href:e.itunes_item_image}),e.enclosure_url&&n(`enclosure`,{url:e.enclosure_url,length:e.enclosure_length,type:e.enclosure_type}),e.itunes_duration&&n(`itunes:duration`,{children:e.itunes_duration}),typeof e.category==`string`?n(`category`,{children:e.category}):e.category?.map(e=>n(`category`,{children:e})),e.media&&Object.entries(e.media).map(([e,t])=>{let r=`media:${e}`;return n(r,{...t})})]}))]})})};var f=d;const p=({data:e})=>r(`feed`,{xmlns:`http://www.w3.org/2005/Atom`,"xmlns:rsshub":`http://rsshub.app/xml/schemas`,children:[n(`title`,{children:e.title||`RSSHub`}),n(`link`,{href:e.link||`https://docs.rsshub.app`}),n(`id`,{children:e.id||e.link}),r(`subtitle`,{children:[e.description||e.title,` - Powered by RSSHub`]}),n(`generator`,{children:`RSSHub`}),n(`webMaster`,{children:`contact@rsshub.app (RSSHub)`}),n(`language`,{children:e.language||`en`}),n(`updated`,{children:e.lastBuildDate}),n(`author`,{children:n(`name`,{children:e.author||`RSSHub`})}),e.icon&&n(`icon`,{children:e.icon}),e.logo&&n(`logo`,{children:e.logo}),e.item?.map(e=>r(`entry`,{children:[n(`title`,{children:e.title}),n(`content`,{type:`html`,src:e.link,children:e.description}),n(`link`,{href:e.link}),n(`id`,{children:e.guid||e.link||e.title}),e.pubDate&&n(`published`,{children:e.pubDate}),e.updated&&n(`updated`,{children:e.updated||e.pubDate}),e.author&&n(`author`,{children:n(`name`,{children:e.author})}),typeof e.category==`string`?n(`category`,{term:e.category}):e.category?.map(e=>n(`category`,{term:e})),e.media&&Object.entries(e.media).map(([e,t])=>{let r=`media:${e}`;return n(r,{...t})}),e.upvotes?n(`rsshub:upvotes`,{children:e.upvotes}):``,e.downvotes?n(`rsshub:downvotes`,{children:e.downvotes}):``,e.comments?n(`rsshub:comments`,{children:e.comments}):``]}))]});var m=p;export{i as art,m as atom_default,u as json_default,c as rss3_default,f as rss_default};
//# sourceMappingURL=render-CxhTJIsl.js.map