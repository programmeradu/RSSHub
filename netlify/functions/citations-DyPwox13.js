import"./esm-shims-Dqvxr0BZ.js";import"./config-Dl8a1sIg.js";import"./logger-CWOoofbD.js";import"./dist-IvUHtNe1.js";import"./helpers-DzX-lcQO.js";import"./ofetch-Bzt0BXUH.js";import{got_default as e}from"./got-CdvI2yKX.js";import{load as t}from"cheerio";const n={path:`/citations/:id`,categories:[`journal`],example:`/google/citations/mlmE4JMAAAAJ`,parameters:{id:`N`},features:{requireConfig:!1,requirePuppeteer:!1,antiCrawler:!0,supportBT:!1,supportPodcast:!1,supportScihub:!1},name:`Scholar Author Citations`,maintainers:[`KellyHwong`,`const7`],handler:r,description:"The parameter id in the route is the id in the URL of the user's Google Scholar reference page, for example `https://scholar.google.com/citations?user=mlmE4JMAAAAJ` to `mlmE4JMAAAAJ`.\n\n  Query parameters are also supported here, for example `https://scholar.google.com/citations?user=mlmE4JMAAAAJ&sortby=pubdate` to `mlmE4JMAAAAJ&sortby=pubdate`. Please make sure that the user id (`mlmE4JMAAAAJ` in this case) should be the first parameter in the query string."};async function r(n){let r=n.req.param(`id`),i=`https://scholar.google.com/citations?user=${r}`,a=await e({method:`get`,url:i}),o=t(a.data),s=o(`#gsc_prf .gsc_prf_il`).eq(0).text(),c=o(`#gsc_prf_ivh a`).attr(`href`),l=o(`#gsc_prf_in`).text(),u=`Google Scholar Citation Monitor: ${l}; Profile: ${s}; HomePage: ${c}`,d=o(`#gsc_a_b .gsc_a_tr`).toArray(),f=d.map(e=>{let n=t(e),r=`https://scholar.google.com`+n(`.gsc_a_t a`).attr(`href`),i=n(`.gsc_a_t div`).eq(0).text(),a=n(`.gsc_a_t div`).eq(1).text();return{title:n(`.gsc_a_t a`).text(),author:i,description:`Author: ${i}; Publication: ${a}`,link:r,guid:r}});return{title:`Google Scholar: ${l}`,link:i,description:u,item:f}}export{n as route};
//# sourceMappingURL=citations-DyPwox13.js.map