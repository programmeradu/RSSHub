{"version":3,"file":"utils-DwUiNVlo.js","names":["got"],"sources":["../../lib/routes/cna/utils.ts"],"sourcesContent":["import got from '@/utils/got';\r\nimport { load } from 'cheerio';\r\n\r\nexport async function getFullText(item) {\r\n    const detailResponse = await got({\r\n        method: 'get',\r\n        url: item.link,\r\n    });\r\n    const content = load(detailResponse.data);\r\n    content('div.SubscriptionInner').remove();\r\n    content('.gmailNews').remove();\r\n    const topImage = content('.fullPic').html();\r\n\r\n    item.description = (topImage === null ? '' : topImage) + content('.paragraph').eq(0).html();\r\n    item.category = [\r\n        ...content(\"meta[property='article:tag']\")\r\n            .toArray()\r\n            .map((e) => e.attribs.content),\r\n        content('.active > a').text(),\r\n    ];\r\n\r\n    return item;\r\n}\r\n"],"mappings":"+EAGA,eAAsB,EAAY,EAAM,CACpC,IAAM,EAAiB,MAAMA,EAAI,CAC7B,OAAQ,MACR,IAAK,EAAK,OAER,EAAU,EAAK,EAAe,MACpC,EAAQ,yBAAyB,SACjC,EAAQ,cAAc,SACtB,IAAM,EAAW,EAAQ,YAAY,OAUrC,MARA,GAAK,aAAe,IAAa,KAAO,GAAK,GAAY,EAAQ,cAAc,GAAG,GAAG,OACrF,EAAK,SAAW,CACZ,GAAG,EAAQ,gCACN,UACA,IAAK,GAAM,EAAE,QAAQ,SAC1B,EAAQ,eAAe,QAGpB"}