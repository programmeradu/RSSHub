{"version":3,"file":"embed-resource-BeMmfaQS.js","names":[],"sources":["../../lib/routes/nwnu/routes/lib/embed-resource.ts"],"sourcesContent":["import { load } from 'cheerio';\r\n\r\nexport function processEmbedPDF(baseurl: string, html: string) {\r\n    const $ = load(html);\r\n\r\n    $('div.wp_pdf_player').each(function () {\r\n        const $div = $(this);\r\n        const pdfsrc = $div.attr('pdfsrc') || '';\r\n        const downloadUrl = new URL(pdfsrc, baseurl).href;\r\n        const newDiv = `<p><a href=${downloadUrl} target=\"_blank\">点击下载 PDF 文件资源</a></p>`;\r\n        $div.replaceWith(newDiv);\r\n    });\r\n    return $.html();\r\n}\r\n"],"mappings":"+BAEA,SAAgB,EAAgB,EAAiB,EAAc,CAC3D,IAAM,EAAI,EAAK,GASf,OAPA,EAAE,qBAAqB,KAAK,UAAY,CACpC,IAAM,EAAO,EAAE,MACT,EAAS,EAAK,KAAK,WAAa,GAChC,EAAc,IAAI,IAAI,EAAQ,GAAS,KACvC,EAAS,cAAc,EAAY,wCACzC,EAAK,YAAY,KAEd,EAAE"}