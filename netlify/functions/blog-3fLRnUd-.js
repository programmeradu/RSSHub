import{__dirname as e,init_esm_shims as t}from"./esm-shims-Dqvxr0BZ.js";import"./config-Dl8a1sIg.js";import"./logger-CWOoofbD.js";import"./dist-IvUHtNe1.js";import{art as n}from"./render-CxhTJIsl.js";import{parseDate as r}from"./parse-date-Bgabdhlb.js";import{ofetch_default as i}from"./ofetch-Bzt0BXUH.js";import{ViewType as a}from"./types-A5bA50Mg.js";import o from"node:path";import{load as s}from"cheerio";t();const c=async t=>{let a=Number.parseInt(t.req.query(`limit`)??`10`,10),c=`https://windsurf.com`,l=new URL(`blog`,c).href,u=new URL(`api/blog`,c).href,d=await i(u,{query:{paginate:a,cursor:0}}),f=await i(l),p=s(f),m=p(`html`).attr(`lang`)??`en`,h=p(`title`).first().text(),g=h.split(/\|/).pop()?.trim(),_=d.posts.slice(0,a).map(t=>{let i=t.title,a=t.images?.[0],s=n(o.join(e,`templates/description-b958bde9.art`),{images:a?[{src:a,alt:i}]:void 0,intro:t.summary}),l=t.date,u=t.slug,d=t.tags,f=t.authors.map(e=>({name:e,url:void 0,avatar:void 0})),p=t.slug?`windsurf-blog-${t.slug}`:void 0,h=l,g={title:i,description:s,pubDate:l?r(l):void 0,link:u?new URL(`blog/${u}`,c).href:void 0,category:d,author:f,guid:p,id:p,content:{html:s,text:s},image:a,banner:a,updated:h?r(h):void 0,language:m};return g});return{title:h,description:p(`meta[property="og:description"]`).attr(`content`),link:l,item:_,allowEmpty:!0,image:p(`meta[property="og:image"]`).attr(`content`),author:g,language:m,id:p(`meta[property="og:url"]`).attr(`content`)}},l={path:`/blog`,name:`Blog`,url:`windsurf.com`,maintainers:[`nczitzk`],handler:c,example:`/windsurf/blog`,parameters:void 0,description:void 0,categories:[`programming`],features:{requireConfig:!1,requirePuppeteer:!1,antiCrawler:!1,supportRadar:!0,supportBT:!1,supportPodcast:!1,supportScihub:!1},radar:[{source:[`windsurf.com/blog`],target:`/blog`}],view:a.Articles};export{c as handler,l as route};
//# sourceMappingURL=blog-3fLRnUd-.js.map