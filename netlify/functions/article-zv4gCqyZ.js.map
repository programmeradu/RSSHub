{"version":3,"file":"article-zv4gCqyZ.js","names":[],"sources":["../../lib/routes/4khd/const.ts","../../lib/routes/4khd/article.ts"],"sourcesContent":["const SUB_NAME_PREFIX = '4KHD';\r\nconst SUB_URL = 'https://www.4khd.com/';\r\n\r\nexport { SUB_NAME_PREFIX, SUB_URL };\r\n","import { load } from 'cheerio';\r\nimport { parseDate } from '@/utils/parse-date';\r\nimport { WPPost } from './types';\r\n\r\nconst processImages = ($) => {\r\n    $('a').each((_, elem) => {\r\n        const $elem = $(elem);\r\n        const largePhotoUrl = $elem.attr('href')?.replace('i0.wp.com', '').replace('pic.4khd.com', 'yt4.googleusercontent.com').replace('AsHYQ', 'AsYHQ').replace('l/AAA', 'I/AAA');\r\n        if (largePhotoUrl) {\r\n            $elem.attr('href', largePhotoUrl);\r\n            $elem.find('img').attr('src', largePhotoUrl);\r\n        }\r\n    });\r\n};\r\n\r\nfunction loadArticle(item: WPPost) {\r\n    const article = load(item.content.rendered);\r\n    processImages(article);\r\n\r\n    return {\r\n        title: item.title.rendered,\r\n        description: article.html() ?? '',\r\n        pubDate: parseDate(item.date_gmt),\r\n        link: item.link,\r\n    };\r\n}\r\n\r\nexport default loadArticle;\r\n"],"mappings":"oFAAA,MAAM,EAAkB,OAClB,EAAU,wBCGV,EAAiB,GAAM,CACzB,EAAE,KAAK,MAAM,EAAG,IAAS,CACrB,IAAM,EAAQ,EAAE,GACV,EAAgB,EAAM,KAAK,SAAS,QAAQ,YAAa,IAAI,QAAQ,eAAgB,6BAA6B,QAAQ,QAAS,SAAS,QAAQ,QAAS,SAC/J,IACA,EAAM,KAAK,OAAQ,GACnB,EAAM,KAAK,OAAO,KAAK,MAAO,OAK1C,SAAS,EAAY,EAAc,CAC/B,IAAM,EAAU,EAAK,EAAK,QAAQ,UAGlC,OAFA,EAAc,GAEP,CACH,MAAO,EAAK,MAAM,SAClB,YAAa,EAAQ,QAAU,GAC/B,QAAS,EAAU,EAAK,UACxB,KAAM,EAAK,MAInB,IAAA,EAAe"}