{"version":3,"file":"utils-CmqAAkfW.js","names":["cache","ofetch"],"sources":["../../lib/routes/tfc-taiwan/utils.ts"],"sourcesContent":["import ofetch from '@/utils/ofetch';\r\nimport { parseDate } from '@/utils/parse-date';\r\nimport cache from '@/utils/cache';\r\n\r\nexport const baseUrl = 'https://tfc-taiwan.org.tw';\r\n\r\nexport const parseItem = (postsResponse) =>\r\n    postsResponse.map((item) => ({\r\n        title: item.title.rendered,\r\n        pubDate: parseDate(item.date_gmt),\r\n        updated: parseDate(item.modified_gmt),\r\n        link: item.link,\r\n        description: item.content.rendered,\r\n        image: item.yoast_head_json.og_image[0].url,\r\n        author: item.author_info.display_name,\r\n        category: item.category_info.map((cat) => cat.name),\r\n    }));\r\n\r\nexport const parsePost = (limit, categoryId) =>\r\n    cache.tryGet(`tfc-taiwan:posts:${categoryId ?? 'latest'}:${limit ?? 10}`, () =>\r\n        ofetch(`${baseUrl}/wp-json/wp/v2/posts`, {\r\n            query: {\r\n                categories: categoryId,\r\n                per_page: limit,\r\n            },\r\n        })\r\n    );\r\n"],"mappings":"+JAIA,MAAa,EAAU,4BAEV,EAAa,GACtB,EAAc,IAAK,IAAU,CACzB,MAAO,EAAK,MAAM,SAClB,QAAS,EAAU,EAAK,UACxB,QAAS,EAAU,EAAK,cACxB,KAAM,EAAK,KACX,YAAa,EAAK,QAAQ,SAC1B,MAAO,EAAK,gBAAgB,SAAS,GAAG,IACxC,OAAQ,EAAK,YAAY,aACzB,SAAU,EAAK,cAAc,IAAK,GAAQ,EAAI,SAGzC,GAAa,EAAO,IAC7BA,EAAM,OAAO,oBAAoB,GAAc,SAAS,GAAG,GAAS,SAChEC,EAAO,GAAG,EAAQ,sBAAuB,CACrC,MAAO,CACH,WAAY,EACZ,SAAU"}