{"version":3,"file":"iheima-0n_3MPCr.js","names":["route: Route","got"],"sources":["../../lib/routes/iheima/index.ts"],"sourcesContent":["import { Route } from '@/types';\r\nimport got from '@/utils/got';\r\nimport { parseDate } from '@/utils/parse-date';\r\n\r\nexport const route: Route = {\r\n    path: '/recommend',\r\n    categories: ['new-media'],\r\n    example: '/iheima/recommend',\r\n    url: 'www.iheima.com',\r\n    name: '推荐',\r\n    maintainers: ['p3psi-boo'],\r\n    handler,\r\n};\r\n\r\nasync function handler() {\r\n    const baseUrl = 'https://www.iheima.com/?page=1&pagesize=20';\r\n\r\n    const response = await got({\r\n        method: 'get',\r\n        url: baseUrl,\r\n        responseType: 'json',\r\n        headers: {\r\n            Accept: 'application/json, text/javascript, */*; q=0.01',\r\n            Referer: 'https://www.iheima.com/',\r\n            'X-Requested-With': 'XMLHttpRequest',\r\n        },\r\n    });\r\n\r\n    const content = JSON.parse(response.body);\r\n    const list = content.contents;\r\n\r\n    const items = list.map((item) => ({\r\n        title: item.title,\r\n        link: item.url,\r\n        pubDate: parseDate(item.published),\r\n        description: item.content,\r\n    }));\r\n\r\n    return {\r\n        title: '推荐',\r\n        link: baseUrl,\r\n        item: items,\r\n    };\r\n}\r\n"],"mappings":"qRAIA,MAAaA,EAAe,CACxB,KAAM,aACN,WAAY,CAAC,aACb,QAAS,oBACT,IAAK,iBACL,KAAM,KACN,YAAa,CAAC,aACd,WAGJ,eAAe,GAAU,CACrB,IAAM,EAAU,6CAEV,EAAW,MAAMC,EAAI,CACvB,OAAQ,MACR,IAAK,EACL,aAAc,OACd,QAAS,CACL,OAAQ,iDACR,QAAS,0BACT,mBAAoB,oBAItB,EAAU,KAAK,MAAM,EAAS,MAC9B,EAAO,EAAQ,SAEf,EAAQ,EAAK,IAAK,IAAU,CAC9B,MAAO,EAAK,MACZ,KAAM,EAAK,IACX,QAAS,EAAU,EAAK,WACxB,YAAa,EAAK,WAGtB,MAAO,CACH,MAAO,KACP,KAAM,EACN,KAAM"}