{"version":3,"file":"check-cookie-BZKtxjFN.js","names":["apiRoute: APIRoute","ofetch"],"sources":["../../lib/routes/zhihu/check-cookie.ts"],"sourcesContent":["import { config } from '@/config';\r\nimport { APIRoute } from '@/types';\r\nimport ofetch from '@/utils/ofetch';\r\n\r\nexport const apiRoute: APIRoute = {\r\n    path: '/check-cookie',\r\n    description: '检查 zhihu cookie 是否有效',\r\n    maintainers: ['DIYgod'],\r\n    handler,\r\n};\r\n\r\nasync function handler() {\r\n    const cookie = config.zhihu.cookies;\r\n\r\n    if (!cookie) {\r\n        return {\r\n            code: -1,\r\n        };\r\n    }\r\n\r\n    const response = await ofetch(`https://www.zhihu.com/api/v4/me?include=is_realname`, {\r\n        headers: {\r\n            Referer: `https://www.zhihu.com/`,\r\n            Cookie: cookie as string,\r\n        },\r\n    });\r\n\r\n    return {\r\n        code: response.name ? 0 : -1,\r\n    };\r\n}\r\n"],"mappings":"4LAIA,MAAaA,EAAqB,CAC9B,KAAM,gBACN,YAAa,uBACb,YAAa,CAAC,UACd,WAGJ,eAAe,GAAU,CACrB,IAAM,EAAS,EAAO,MAAM,QAE5B,GAAI,CAAC,EACD,MAAO,CACH,KAAM,IAId,IAAM,EAAW,MAAMC,EAAO,sDAAuD,CACjF,QAAS,CACL,QAAS,yBACT,OAAQ,KAIhB,MAAO,CACH,KAAM,EAAS,KAAO,EAAI"}