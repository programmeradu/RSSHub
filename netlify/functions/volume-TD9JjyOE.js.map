{"version":3,"file":"volume-TD9JjyOE.js","names":["route: Route","got"],"sources":["../../lib/routes/linovelib/volume.ts"],"sourcesContent":["import type { Route, Data } from '@/types';\r\nimport type { Context } from 'hono';\r\nimport got from '@/utils/got';\r\nimport { load } from 'cheerio';\r\n\r\nexport const route: Route = {\r\n    path: '/volume/:id',\r\n    categories: ['reading'],\r\n    example: '/linovelib/volume/8',\r\n    parameters: { id: '小说 ID，可在小说页 URL 中找到' },\r\n    radar: [\r\n        {\r\n            source: ['www.linovelib.com/novel/:id/catalog'],\r\n        },\r\n    ],\r\n    name: '卷',\r\n    maintainers: ['rkscv'],\r\n    handler,\r\n};\r\n\r\nasync function handler(ctx: Context): Promise<Data> {\r\n    const { id } = ctx.req.param();\r\n    const link = `https://www.linovelib.com/novel/${id}/catalog`;\r\n    const $ = load((await got(link)).data);\r\n    return {\r\n        title: `${$('.book-meta h1').text()} - 哔哩轻小说`,\r\n        link,\r\n        item: $('.volume')\r\n            .toArray()\r\n            .map((elem) => ({\r\n                title: $(elem).find('h2').text(),\r\n                link: $(elem).find('.volume-cover').attr('href'),\r\n            }))\r\n            .toReversed(),\r\n    };\r\n}\r\n"],"mappings":"+PAKA,MAAaA,EAAe,CACxB,KAAM,cACN,WAAY,CAAC,WACb,QAAS,sBACT,WAAY,CAAE,GAAI,uBAClB,MAAO,CACH,CACI,OAAQ,CAAC,yCAGjB,KAAM,IACN,YAAa,CAAC,SACd,WAGJ,eAAe,EAAQ,EAA6B,CAChD,GAAM,CAAE,MAAO,EAAI,IAAI,QACjB,EAAO,mCAAmC,EAAG,UAC7C,EAAI,GAAM,MAAMC,EAAI,IAAO,MACjC,MAAO,CACH,MAAO,GAAG,EAAE,iBAAiB,OAAO,UACpC,OACA,KAAM,EAAE,WACH,UACA,IAAK,IAAU,CACZ,MAAO,EAAE,GAAM,KAAK,MAAM,OAC1B,KAAM,EAAE,GAAM,KAAK,iBAAiB,KAAK,WAE5C"}