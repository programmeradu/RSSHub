{"version":3,"file":"pypasswaf-Btst4R5A.js","names":["puppeteer"],"sources":["../../lib/routes/nuaa/utils/pypasswaf.ts"],"sourcesContent":["import { getCookies } from '@/utils/puppeteer-utils';\r\nimport puppeteer from '@/utils/puppeteer';\r\n\r\n/**\r\n * async function 获取cookie\r\n * @desc 返回一个可用的cookie，使用 `got` 发起请求的时候，传入到`options.headers.cookie`即可\r\n */\r\nexport default async function getCookie(host) {\r\n    const browser = await puppeteer();\r\n    const page = await browser.newPage();\r\n    await page.setRequestInterception(true);\r\n    page.on('request', (request) => {\r\n        request.resourceType() === 'document' || request.resourceType() === 'script' ? request.continue() : request.abort();\r\n    });\r\n\r\n    await page.goto(host, {\r\n        waitUntil: 'networkidle0',\r\n    });\r\n\r\n    const cookie = await getCookies(page);\r\n    await browser.close();\r\n    return cookie;\r\n}\r\n"],"mappings":"uHAOA,eAA8B,EAAU,EAAM,CAC1C,IAAM,EAAU,MAAMA,IAChB,EAAO,MAAM,EAAQ,UAC3B,MAAM,EAAK,uBAAuB,IAClC,EAAK,GAAG,UAAY,GAAY,CAC5B,EAAQ,iBAAmB,YAAc,EAAQ,iBAAmB,SAAW,EAAQ,WAAa,EAAQ,UAGhH,MAAM,EAAK,KAAK,EAAM,CAClB,UAAW,iBAGf,IAAM,EAAS,MAAM,EAAW,GAEhC,OADA,MAAM,EAAQ,QACP"}