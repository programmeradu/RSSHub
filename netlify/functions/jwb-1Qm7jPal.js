import"./esm-shims-Dqvxr0BZ.js";import"./config-Dl8a1sIg.js";import"./logger-CWOoofbD.js";import"./dist-IvUHtNe1.js";import{cache_default as e}from"./cache-kimkMTWJ.js";import{parseDate as t}from"./parse-date-Bgabdhlb.js";import{ofetch_default as n}from"./ofetch-Bzt0BXUH.js";import{load as r}from"cheerio";const i={path:`/jwb/:type?`,categories:[`university`],example:`/dgut/jwb/jwtz`,parameters:{type:`哪种通知，默认为教务通知`},features:{requireConfig:!1,requirePuppeteer:!1,antiCrawler:!1,supportBT:!1,supportPodcast:!1,supportScihub:!1},maintainers:[`1200522928`],radar:[{source:[`jwb.dgut.edu.cn/tzgg/`],target:``}],name:`教务部通知公告`,description:`| 教学动态 | 教务通知 | 教研通知 | 实践通知 | 产业学院 |  通识教育  |"杨振宁"班|招生信息 |采购公告 |
| ------- | -------  | ---------| --------| --------| ----------|---------|------- |--------|
| jxdt    | jwtz     | jytz     |   sjtz  |   cyxy  |   tsjy    | yznb    |  zsxx  | cggg   |`,handler:a};async function a(i){let{type:a=`jwtz`}=i.req.param(),o=`https://jwb.dgut.edu.cn/tzgg/${a}.htm`,s=await n(o),c=r(s),l=c(`ul.ul-new4 > li`).toArray().map(e=>{let n=c(e),r=n.find(`a.con`);return{title:r.find(`.tit`).text().trim(),pubDate:t(`${r.find(`.year`).text().trim()}-${r.find(`.day`).text().trim()}`),link:`https://jwb.dgut.edu.cn/${r.attr(`href`)}`}}),u=await Promise.all(l.map(t=>e.tryGet(t.link,async()=>{let e=await n(t.link),i=r(e);return{...t,description:i(`div.v_news_content`).first().html()||void 0}})));return{title:c(`title`).text(),link:o,allowEmpty:!0,item:u}}export{i as route};
//# sourceMappingURL=jwb-1Qm7jPal.js.map