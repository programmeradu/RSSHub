{"version":3,"file":"changelog-SFvrud0j.js","names":["route: Route","got"],"sources":["../../lib/routes/remnote/changelog.ts"],"sourcesContent":["import { Route } from '@/types';\r\nimport got from '@/utils/got';\r\nimport { parseDate } from '@/utils/parse-date';\r\nconst FQDN = 'feedback.remnote.com';\r\nconst apiGateway = 'https://gateway.hellonext.co';\r\n\r\nexport const route: Route = {\r\n    path: '/changelog',\r\n    categories: ['program-update'],\r\n    example: '/remnote/changelog',\r\n    parameters: {},\r\n    features: {\r\n        requireConfig: false,\r\n        requirePuppeteer: false,\r\n        antiCrawler: false,\r\n        supportBT: false,\r\n        supportPodcast: false,\r\n        supportScihub: false,\r\n    },\r\n    radar: [\r\n        {\r\n            source: ['remnote.com/changelog', 'remnote.com/'],\r\n        },\r\n    ],\r\n    name: 'Changelog',\r\n    maintainers: ['TonyRL', 'amakerlife'],\r\n    handler,\r\n    url: 'remnote.com/changelog',\r\n};\r\n\r\nasync function handler() {\r\n    const { data } = await got(`${apiGateway}/api/v2/changelogs`, {\r\n        headers: {\r\n            'x-organization': FQDN,\r\n        },\r\n        searchParams: {\r\n            page: 1,\r\n            status: 'published',\r\n        },\r\n    });\r\n\r\n    const items = data.map((item) => ({\r\n        title: item.title,\r\n        description: item.description_html,\r\n        link: `https://${FQDN}/changelog/${item.slug}`,\r\n        pubDate: parseDate(item.published_at.timestamp),\r\n    }));\r\n\r\n    return {\r\n        title: 'Changelog | RemNote',\r\n        description: 'Vote or request new RemNote features. Subscribe to get updates about new features from RemNote.',\r\n        link: `https://${FQDN}/changelog`,\r\n        image: 'https://vault.hnxt.dev/uploads/organization_customization/favicon/3970/88153ff13b4b03492ddfee6e675228c1.png',\r\n        item: items,\r\n        language: 'en-US',\r\n    };\r\n}\r\n"],"mappings":"qRAGA,MAAM,EAAO,uBAGAA,EAAe,CACxB,KAAM,aACN,WAAY,CAAC,kBACb,QAAS,qBACT,WAAY,GACZ,SAAU,CACN,cAAe,GACf,iBAAkB,GAClB,YAAa,GACb,UAAW,GACX,eAAgB,GAChB,cAAe,IAEnB,MAAO,CACH,CACI,OAAQ,CAAC,wBAAyB,kBAG1C,KAAM,YACN,YAAa,CAAC,SAAU,cACxB,UACA,IAAK,yBAGT,eAAe,GAAU,CACrB,GAAM,CAAE,QAAS,MAAMC,EAAI,iDAAmC,CAC1D,QAAS,CACL,iBAAkB,GAEtB,aAAc,CACV,KAAM,EACN,OAAQ,eAIV,EAAQ,EAAK,IAAK,IAAU,CAC9B,MAAO,EAAK,MACZ,YAAa,EAAK,iBAClB,KAAM,WAAW,EAAK,aAAa,EAAK,OACxC,QAAS,EAAU,EAAK,aAAa,cAGzC,MAAO,CACH,MAAO,sBACP,YAAa,kGACb,KAAM,WAAW,EAAK,YACtB,MAAO,8GACP,KAAM,EACN,SAAU"}