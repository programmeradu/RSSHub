{"version":3,"file":"utils-C--_yb-s.js","names":["cache","ofetch"],"sources":["../../lib/routes/bjnews/utils.ts"],"sourcesContent":["import cache from '@/utils/cache';\r\nimport { parseDate } from '@/utils/parse-date';\r\nimport timezone from '@/utils/timezone';\r\nimport ofetch from '@/utils/ofetch';\r\nimport { load } from 'cheerio';\r\n\r\nexport function fetchArticle(item) {\r\n    return cache.tryGet(item.link, async () => {\r\n        const responses = await ofetch(item.link);\r\n        const $d = load(responses);\r\n        // $d('img').each((i, e) => $(e).attr('referrerpolicy', 'no-referrer'));\r\n\r\n        item.pubDate = timezone(parseDate($d('.left-info .timer').text()), +8);\r\n        item.author = $d('.left-info .reporter').text();\r\n        item.description = $d('#contentStr').html();\r\n\r\n        return item;\r\n    });\r\n}\r\n"],"mappings":"gPAMA,SAAgB,EAAa,EAAM,CAC/B,OAAOA,EAAM,OAAO,EAAK,KAAM,SAAY,CACvC,IAAM,EAAY,MAAMC,EAAO,EAAK,MAC9B,EAAK,EAAK,GAOhB,MAJA,GAAK,QAAU,EAAS,EAAU,EAAG,qBAAqB,QAAS,GACnE,EAAK,OAAS,EAAG,wBAAwB,OACzC,EAAK,YAAc,EAAG,eAAe,OAE9B"}