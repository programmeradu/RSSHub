import"./esm-shims-Dqvxr0BZ.js";import{config as e}from"./config-Dl8a1sIg.js";import"./logger-CWOoofbD.js";import"./dist-IvUHtNe1.js";import{cache_default as t}from"./cache-kimkMTWJ.js";import{parseDate as n}from"./parse-date-Bgabdhlb.js";import{ofetch_default as r}from"./ofetch-Bzt0BXUH.js";import{load as i}from"cheerio";const a=`https://www.iguoguo.net`,o=e=>t.tryGet(`iguoguo:category:${e}`,async()=>{let t=await r(`${a}/wp-json/wp/v2/categories`,{query:{slug:e}});return t[0].id}),s=(n,i)=>t.tryGet(`iguoguo:posts:${n}`,async()=>{let e=await r(`${a}/wp-json/wp/v2/posts`,{query:{categories:n,per_page:i}});return e},e.cache.routeExpire,!1),c={path:`/html5`,categories:[`design`],example:`/iguoguo/html5`,parameters:{},features:{requireConfig:!1,requirePuppeteer:!1,antiCrawler:!1,supportBT:!1,supportPodcast:!1,supportScihub:!1},name:`最新 H5`,maintainers:[`yuxinliu-alex`],handler:l};async function l(e){let t=Number.parseInt(e.req.query(`limit`)??`10`),r=`${a}/html5`,c=await o(`h5`),l=await s(c,t),u={jpg:`jpeg`,png:`png`},d=l.map(e=>{let t=i(e.content.rendered),r=t(`p > img`).first().attr(`src`);return t(`p > img`).first().remove(),t(`h4`).each((e,n)=>{t(n).text().includes(`扫码欣赏`)&&t(n).remove()}),{title:e.title.rendered,description:t.html(),link:e.link,cover:r,pubDate:n(e.date_gmt),media:r&&{content:{url:r,type:`image/${u[r.split(`.`).pop()]}`}}}});return{title:`爱果果`,link:r,description:`爱果果iguoguo是一个优秀酷站、h5、UI素材资源的发布分享平台，是设计师的灵感聚合地和素材下载源。`,language:`zh-cn`,item:d}}export{c as route};
//# sourceMappingURL=iguoguo-XkJpjZi8.js.map