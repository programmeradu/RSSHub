import"./esm-shims-Dqvxr0BZ.js";import"./config-Dl8a1sIg.js";import"./logger-CWOoofbD.js";import"./dist-IvUHtNe1.js";import"./helpers-DzX-lcQO.js";import{cache_default as e}from"./cache-kimkMTWJ.js";import{parseDate as t}from"./parse-date-Bgabdhlb.js";import"./ofetch-Bzt0BXUH.js";import{got_default as n}from"./got-CdvI2yKX.js";import{load as r}from"cheerio";const i={url:`http://jiaowu.xaufe.edu.cn/`,title:`西安财经大学 教务处（招生办公室）`},a={tzgg:{title:`通知公告`,url:`index/tzgg.htm`}},o={path:`/jiaowu/:category?`,categories:[`university`],example:`/xaufe/jiaowu/tzgg`,parameters:{category:`分类，默认为通知公告`},features:{requireConfig:!1,requirePuppeteer:!1,antiCrawler:!1,supportBT:!1,supportPodcast:!1,supportScihub:!1},name:`教务处`,maintainers:[`shaokeyibb`],handler:s,description:`| 通知公告 |
| :------: |
|   tzgg   |`};async function s(o){let s=o.req.param(`category`),c=a[s]||a.tzgg,l=(await n({method:`get`,url:i.url+c.url})).body,u=r(l),d=u(`.main_conRCb ul li`).slice(0,16).toArray().map(e=>{e=u(e);let n=e.children(`span`).text(),r=e.find(`a em`).text(),a=e.children(`a`).attr(`href`).replaceAll(`../`,i.url);return{pubDate:t(n),title:r,link:a}});return{title:`${c.title}-${i.title}`,link:i.url+c.url,description:`${c.title}-${i.title}`,language:`zh_CN`,item:await Promise.all(d.map(t=>e.tryGet(t.link,async()=>{let e=r((await n({method:`get`,url:t.link})).body);return t.author=/作者：(\S*)\s{4}/g.exec(e(`p`,`.main_contit`).text())[1],t.description=e(`#vsb_content`).html(),t})))}}export{o as route};
//# sourceMappingURL=jiaowu-Co8E0yaR.js.map