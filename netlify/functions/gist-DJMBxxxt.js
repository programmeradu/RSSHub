import"./esm-shims-Dqvxr0BZ.js";import{config as e}from"./config-Dl8a1sIg.js";import"./logger-CWOoofbD.js";import"./dist-IvUHtNe1.js";import"./helpers-DzX-lcQO.js";import{parseDate as t}from"./parse-date-Bgabdhlb.js";import"./ofetch-Bzt0BXUH.js";import{got_default as n}from"./got-CdvI2yKX.js";const r={path:`/gist/:gistId`,categories:[`programming`],example:`/github/gist/d2c152bb7179d07015f336b1a0582679`,parameters:{gistId:`Gist ID`},features:{requireConfig:!1,requirePuppeteer:!1,antiCrawler:!1,supportBT:!1,supportPodcast:!1,supportScihub:!1},radar:[{source:[`gist.github.com/:owner/:gistId/revisions`,`gist.github.com/:owner/:gistId/stargazers`,`gist.github.com/:owner/:gistId/forks`,`gist.github.com/:owner/:gistId`]}],name:`Gist Commits`,maintainers:[`TonyRL`],handler:i};async function i(r){let i=r.req.param(`gistId`),a={Accept:`application/vnd.github.v3+json`};e.github&&e.github.access_token&&(a.Authorization=`Bearer ${e.github.access_token}`);let o=`https://api.github.com/gists/${i}`,{data:s}=await n(o,{headers:a}),c=s.history.map((e,n)=>({title:`${e.user.login} ${n===s.history.length-1?`created`:`revised`} this gist`,description:e.change_status.total?`${e.change_status.additions} additions and ${e.change_status.deletions} deletions`:null,link:`https://gist.github.com/${i}/${e.version}`,pubDate:t(e.committed_at)}));return{allowEmpty:!0,title:`${s.owner.login} / ${Object.values(s.files)[0].filename}`,description:s.description,image:s.owner.avatar_url,link:`${s.html_url}/revisions`,item:c}}export{r as route};
//# sourceMappingURL=gist-DJMBxxxt.js.map