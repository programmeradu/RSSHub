import"./esm-shims-Dqvxr0BZ.js";import"./config-Dl8a1sIg.js";import"./logger-CWOoofbD.js";import"./dist-IvUHtNe1.js";import{parseDate as e}from"./parse-date-Bgabdhlb.js";import{ofetch_default as t}from"./ofetch-Bzt0BXUH.js";const n={path:`/feeds/:category?`,categories:[`programming`],example:`/bestblogs/feeds/featured`,parameters:{category:"the category of articles. Can be `programming`, `ai`, `product`, `business` or `featured`. Default is `featured`"},features:{requireConfig:!1,requirePuppeteer:!1,antiCrawler:!1,supportBT:!1,supportPodcast:!1,supportScihub:!1},name:`文章列表`,maintainers:[`zhenlohuang`],handler:i};var r=class{keyword;qualifiedFilter;sourceId;category;timeFilter;language;userLanguage;sortType;currentPage;pageSize;constructor({keyword:e=``,qualifiedFilter:t=`true`,sourceId:n=``,category:r=``,timeFilter:i=`1w`,language:a=`all`,userLanguage:o=`zh`,sortType:s=`default`,currentPage:c=1,pageSize:l=10}={}){this.keyword=e,this.qualifiedFilter=t,this.sourceId=n,this.category=r,this.timeFilter=i,this.language=a,this.userLanguage=o,this.sortType=s,this.currentPage=c,this.pageSize=l}toJson(){let e={keyword:this.keyword,qualifiedFilter:this.qualifiedFilter,sourceId:this.sourceId,category:this.category,timeFilter:this.timeFilter,language:this.language,userLanguage:this.userLanguage,sortType:this.sortType,currentPage:this.currentPage,pageSize:this.pageSize};return JSON.stringify(e)}};async function i(n){let{category:i=`featured`}=n.req.param(),a=new r({category:i,pageSize:100,qualifiedFilter:i===`featured`?`true`:`false`,timeFilter:`1w`}),o=await t(`https://api.bestblogs.dev/api/resource/list`,{headers:{"Content-Type":`application/json`},method:`POST`,body:a.toJson()});if(!o||!o.data||!o.data.dataList)throw Error(`Invalid API response: `+JSON.stringify(o));let s=o.data.dataList,c=s.map(t=>({title:t.title,link:t.url,description:t.summary,pubDate:e(t.publishDateTimeStr),author:Array.isArray(t.authors)?t.authors.map(e=>({name:e})):[{name:t.authors}],category:t.category}));return{title:`Bestblogs.dev`,link:`https://www.bestblogs.dev/feeds`,item:c}}export{n as route};
//# sourceMappingURL=feeds-BgH9D1kj.js.map