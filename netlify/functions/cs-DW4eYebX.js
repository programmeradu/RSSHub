import"./esm-shims-Dqvxr0BZ.js";import"./config-Dl8a1sIg.js";import"./logger-CWOoofbD.js";import"./proxy-D7ccvALx.js";import"./dist-IvUHtNe1.js";import"./helpers-DzX-lcQO.js";import{cache_default as e}from"./cache-kimkMTWJ.js";import{parseDate as t}from"./parse-date-Bgabdhlb.js";import"./ofetch-Bzt0BXUH.js";import{got_default as n}from"./got-CdvI2yKX.js";import"./puppeteer-f0D6AISB.js";import"./puppeteer-utils-DuxVCYwW.js";import{getCookie as r}from"./pypasswaf-Btst4R5A.js";import{load as i}from"cheerio";const a=`https://cs.nuaa.edu.cn/`,o=new Map([[`tzgg`,{title:`通知公告 | 南京航空航天大学计算机科学与技术学院`,suffix:`tzgg/list.htm`}],[`rdxw`,{title:`热点新闻 | 南京航空航天大学计算机科学与技术学院`,suffix:`10846/list.htm`}],[`xkky`,{title:`学科科研 | 南京航空航天大学计算机科学与技术学院`,suffix:`10849/list.htm`}],[`be`,{title:`本科生培养 | 南京航空航天大学计算机科学与技术学院`,suffix:`10850/list.htm`}],[`me`,{title:`研究生培养 | 南京航空航天大学计算机科学与技术学院`,suffix:`10851/list.htm`}],[`jxdt`,{title:`教学动态 | 南京航空航天大学计算机科学与技术学院`,suffix:`1977/list.htm`}],[`xsgz`,{title:`学生工作 | 南京航空航天大学计算机科学与技术学院`,suffix:`1959/list.htm`}]]),s={path:`/cs/:type/:getDescription?`,categories:[`university`],example:`/nuaa/cs/jxdt`,parameters:{type:`分类名，见下表`,getDescription:`是否获取全文`},features:{requireConfig:!1,requirePuppeteer:!0,antiCrawler:!1,supportBT:!1,supportPodcast:!1,supportScihub:!1},name:`计算机科学与技术学院`,maintainers:[`LogicJake`,`Seiry`,`qrzbing`,`Xm798`],handler:c,description:`| 通知公告 | 热点新闻 | 学科科研 | 教学动态 | 本科生培养 | 研究生培养 | 学生工作 |
| -------- | -------- | -------- | -------- | ---------- | ---------- | -------- |
| tzgg     | rdxw     | xkky     | jxdt     | be         | me         | xsgz     |`};async function c(s){let c=s.req.param(`type`),l=!!s.req.param(`getDescription`)||!1,u=o.get(c).suffix,d=new URL(u,a).href,f=await r(a),p={headers:{cookie:f}},m=await n(d,p),h=i(m.data),g=h(`#news_list ul li`).slice(0,Math.min(Number.parseInt(h(`.per_count`,`#wp_paging_w6`).text()),Number.parseInt(h(`.all_count`,`#wp_paging_w6`).slice(1).text()))).toArray().map(e=>{let t={title:h(e).find(`a`).attr(`title`),link:h(e).find(`a`).attr(`href`),date:h(e).find(`span`).text()};return t}),_=await Promise.all(g.map(async r=>{let o=r.title||`tzgg`,s=r.date,c=new URL(r.link,a).href,u=o+`<br><a href="`+c+`" target="_blank">查看原文</a>`;return l&&(u=await e.tryGet(c,async()=>{let e=c.split(`.`),t=e.at(-1);if(t===`htm`||t===`html`){let e=await n(c,p),t=i(e.data);return t(`.wp_articlecontent`).html()+`<br><hr /><a href="`+c+`" target="_blank">查看原文</a>`}})),{title:o,link:c,description:u,pubDate:t(s)}}));return{title:o.get(c).title,link:d,description:`南京航空航天大学计算机科学与技术学院RSS`,item:_}}export{s as route};
//# sourceMappingURL=cs-DW4eYebX.js.map