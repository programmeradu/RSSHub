{"version":3,"file":"vod-BR12n2c2.js","names":["route: Route","ofetch"],"sources":["../../lib/routes/olevod/vod.ts"],"sourcesContent":["import { Route } from '@/types';\r\nimport { load } from 'cheerio';\r\nimport ofetch from '@/utils/ofetch';\r\n\r\nexport const route: Route = {\r\n    path: '/vod/:id',\r\n    categories: ['multimedia'],\r\n    example: '/olevod/vod/202449091',\r\n    parameters: { id: '视频id号' },\r\n    radar: [\r\n        {\r\n            source: ['www.olevod.one/vod/:id'],\r\n            target: '/vod/:id',\r\n        },\r\n    ],\r\n    name: '视频',\r\n    maintainers: ['fang63625'],\r\n    handler,\r\n};\r\n\r\nasync function handler(ctx) {\r\n    const urlBase = 'https://www.olevod.one';\r\n    const id = ctx.req.param('id');\r\n    const url = `${urlBase}/vod/${id}`;\r\n\r\n    const response = await ofetch(url);\r\n    const $ = load(response);\r\n\r\n    const title = $('.title.scookie').text().trim();\r\n    const image = $('.vodlist_thumb.lazyload').attr('data-original');\r\n    const items = $('.content_playlist.clearfix a')\r\n        .toArray()\r\n        .map((item) => {\r\n            const tmp = $(item);\r\n            const href = urlBase + tmp.attr('href');\r\n\r\n            return {\r\n                title: `${title}  ${tmp.text()}`,\r\n                link: href,\r\n            };\r\n        });\r\n\r\n    return {\r\n        title,\r\n        link: url,\r\n        item: items,\r\n        image: urlBase + image,\r\n    };\r\n}\r\n"],"mappings":"0MAIA,MAAaA,EAAe,CACxB,KAAM,WACN,WAAY,CAAC,cACb,QAAS,wBACT,WAAY,CAAE,GAAI,SAClB,MAAO,CACH,CACI,OAAQ,CAAC,0BACT,OAAQ,aAGhB,KAAM,KACN,YAAa,CAAC,aACd,WAGJ,eAAe,EAAQ,EAAK,CACxB,IAAM,EAAU,yBACV,EAAK,EAAI,IAAI,MAAM,MACnB,EAAM,GAAG,EAAQ,OAAO,IAExB,EAAW,MAAMC,EAAO,GACxB,EAAI,EAAK,GAET,EAAQ,EAAE,kBAAkB,OAAO,OACnC,EAAQ,EAAE,2BAA2B,KAAK,iBAC1C,EAAQ,EAAE,gCACX,UACA,IAAK,GAAS,CACX,IAAM,EAAM,EAAE,GACR,EAAO,EAAU,EAAI,KAAK,QAEhC,MAAO,CACH,MAAO,GAAG,EAAM,IAAI,EAAI,SACxB,KAAM,KAIlB,MAAO,CACH,QACA,KAAM,EACN,KAAM,EACN,MAAO,EAAU"}