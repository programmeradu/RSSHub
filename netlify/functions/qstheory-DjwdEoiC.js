import"./esm-shims-Dqvxr0BZ.js";import"./config-Dl8a1sIg.js";import"./logger-CWOoofbD.js";import"./dist-IvUHtNe1.js";import{cache_default as e}from"./cache-kimkMTWJ.js";import"./parse-date-Bgabdhlb.js";import{ofetch_default as t}from"./ofetch-Bzt0BXUH.js";import{baseUrl as n,getItem as r}from"./utils-Cv_MFm_Q.js";import*as i from"cheerio";const a={toutiao:{title:`头条`,url:`${n}/v9zhuanqu/toutiao/index.htm`},qswp:{title:`网评`,url:`${n}/qswp.htm`},qssp:{title:`视频`,url:`${n}/qssp/index.htm`},qslgxd:{title:`原创`,url:`${n}/qslgxd/index.htm`},economy:{title:`经济`,url:`${n}/economy/index.htm`},politics:{title:`政治`,url:`${n}/politics/index.htm`},culture:{title:`文化`,url:`${n}/culture/index.htm`},society:{title:`社会`,url:`${n}/society/index.htm`},cpc:{title:`党建`,url:`${n}/cpc/index.htm`},science:{title:`科教`,url:`${n}/science/index.htm`},zoology:{title:`生态`,url:`${n}/zoology/index.htm`},defense:{title:`国防`,url:`${n}/defense/index.htm`},international:{title:`国际`,url:`${n}/international/index.htm`},books:{title:`图书`,url:`${n}/books/index.htm`},xxbj:{title:`学习笔记`,url:`${n}/qszq/xxbj/index.htm`},llwx:{title:`理论文选`,url:`${n}/qszq/llwx/index.htm`}},o={path:`/:category?`,categories:[`traditional-media`],example:`/qstheory`,parameters:{industry:`分类，见下表`},radar:[{source:[`www.qstheory.cn/v9zhuanqu/:category/index.htm`,`www.qstheory.cn/qszq/:category/index.htm`,`www.qstheory.cn/:category/index.htm`]}],name:`分类`,maintainers:[`nczitzk`],handler:s,description:`
| 头条    | 网评 | 视频 | 原创   | 经济    | 政治     | 文化    | 社会    | 党建 | 科教    | 生态    | 国防    | 国际          | 图书  | 学习笔记 | 理论文选 |
| ------- | ---- | ---- | ------ | ------- | -------- | ------- | ------- | ---- | ------- | ------- | ------- | ------------- | ----- | -------- | -------- |
| toutiao | qswp | qssp | qslgxd | economy | politics | culture | society | cpc  | science | zoology | defense | international | books | xxbj     | llwx     |`};async function s(n){let{category:o=`toutiao`}=n.req.param(),s=Number.parseInt(n.req.query(`limit`))||50,c=a[o].url,l=await t(c),u=i.load(l),d=u(`.list-style1 ul li a, .text h2 a, .no-pic ul li a`).slice(0,s).toArray().map(e=>{let t=u(e);return{title:t.text(),link:t.attr(`href`)}}),f=await Promise.all(d.map(t=>e.tryGet(t.link,()=>r(t))));return{title:u(`title`).text(),link:c,item:f}}export{o as route};
//# sourceMappingURL=qstheory-DjwdEoiC.js.map