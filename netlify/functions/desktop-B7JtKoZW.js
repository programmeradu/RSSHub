import"./esm-shims-Dqvxr0BZ.js";import"./config-Dl8a1sIg.js";import"./logger-CWOoofbD.js";import"./dist-IvUHtNe1.js";import"./helpers-DzX-lcQO.js";import{parseDate as e}from"./parse-date-Bgabdhlb.js";import"./ofetch-Bzt0BXUH.js";import{got_default as t}from"./got-CdvI2yKX.js";import{timezone as n}from"./timezone-BrNu6iXe.js";import{load as r}from"cheerio";const i={path:`/desktop`,categories:[`program-update`],example:`/tradingview/desktop`,parameters:{},features:{requireConfig:!1,requirePuppeteer:!1,antiCrawler:!1,supportBT:!1,supportPodcast:!1,supportScihub:!1},radar:[{source:[`tradingview.com/support/solutions/43000673888-tradingview-desktop-releases-and-release-notes/`]}],name:`Desktop releases and release notes`,maintainers:[`nczitzk`],handler:a,url:`tradingview.com/support/solutions/43000673888-tradingview-desktop-releases-and-release-notes/`};async function a(i){let a=i.req.query(`limit`)?Number.parseInt(i.req.query(`limit`),10):50,o=`https://www.tradingview.com`,s=new URL(`/support/solutions/43000673888-tradingview-desktop-releases-and-release-notes/`,o).href,{data:c}=await t(s),l=r(c);l(`h4[data-identifyelement]`).each((e,t)=>{t=l(t),t.text().trim()===``&&t.remove()});let u=l(`h4[data-identifyelement]`).toArray().slice(0,a).map(t=>{t=l(t);let i=t.text(),a=l.html(t.nextUntil(`h4`)),o=r(a);return{title:i,link:s,description:a,category:o(`h5`).toArray().map(e=>l(e).text()),guid:`tradingview-desktop#${i.split(/versions?\s/).pop()}`,pubDate:n(e(i.split(/\./)[0],`MMMM D, YYYY`),8)}}),d=l(`title`).text(),f=d.split(/â€”/),p=new URL(l(`link[rel="icon"]`).prop(`href`),o).href;return{item:u,title:d,link:s,description:f[0],language:l(`html`).prop(`lang`),icon:p,logo:p,subtitle:f[0],author:f.pop()}}export{i as route};
//# sourceMappingURL=desktop-B7JtKoZW.js.map