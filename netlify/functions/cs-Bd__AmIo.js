import"./esm-shims-Dqvxr0BZ.js";import"./config-Dl8a1sIg.js";import"./logger-CWOoofbD.js";import"./dist-IvUHtNe1.js";import{cache_default as e}from"./cache-kimkMTWJ.js";import{parseDate as t}from"./parse-date-Bgabdhlb.js";import{ofetch_default as n}from"./ofetch-Bzt0BXUH.js";import{timezone as r}from"./timezone-BrNu6iXe.js";import{load as i}from"cheerio";const a=`https://cs.zjut.edu.cn/jsp/newsclass.jsp?wcId=`,o=`cs.zjut.edu.cn`,s={path:`/cs/:type`,categories:[`university`],example:`/zjut/cs/54`,parameters:{type:`分类，见下表`},features:{requireConfig:!1,requirePuppeteer:!1,antiCrawler:!1,supportBT:!1,supportPodcast:!1,supportScihub:!1},name:`浙江工业大学计算机科学与技术学院、软件学院`,maintainers:[`zhullyb`],url:`cs.zjut.edu.cn`,handler:c,radar:[{source:[`cs.zjut.edu.cn/jsp/newsclass.jsp`],target:`/cs/:type`}],description:`| 新闻资讯 | 学术动态 | 通知公告 |
| ------- | ------- | ------- |
| 54      | 55      | 53      |`};async function c(s){let c=Number.parseInt(s.req.param(`type`)),l=await n(a+c),u=i(l),d=u(`dl.news`).toArray().map(e=>{let n=u(e),i=n.find(`a`);try{let e=i.text()||``,a=i.attr(`href`);a?a.startsWith(`http`)||(a=`https://`+o+`/jsp/`+a):a=``;let s=r(t(n.find(`.datetime`).text().slice(1,-1)),8);return{title:e,link:a,pubDate:s}}catch{return{title:``,link:``,pubDate:Date.now()}}}).filter(e=>e.title&&e.link),f=await Promise.all(d.map(t=>e.tryGet(t.link,async()=>{let e={...t,description:``};if(o===new URL(t.link).hostname)if(new URL(t.link).pathname.startsWith(`/upload`))e.description=t.link;else{let r=await n(t.link),a=i(r);e.description=a(`div.news1content`).html()||``}else e.description=t.link;return e})));return{title:u(`li#classname`).text()+` - 浙江工业大学计算机科学与技术学院、软件学院`,link:a+c,item:f}}export{s as route};
//# sourceMappingURL=cs-Bd__AmIo.js.map