import"./esm-shims-Dqvxr0BZ.js";import"./config-Dl8a1sIg.js";import"./logger-CWOoofbD.js";import"./dist-IvUHtNe1.js";import"./helpers-DzX-lcQO.js";import{cache_default as e}from"./cache-kimkMTWJ.js";import{parseDate as t}from"./parse-date-Bgabdhlb.js";import"./ofetch-Bzt0BXUH.js";import{got_default as n}from"./got-CdvI2yKX.js";import{load as r}from"cheerio";const i=`http://www.news.zjut.edu.cn`,a={path:`/news/:type`,categories:[`university`],example:`/zjut/news/5414`,parameters:{type:`分类，见下表`},features:{requireConfig:!1,requirePuppeteer:!1,antiCrawler:!1,supportBT:!1,supportPodcast:!1,supportScihub:!1},name:`浙工大新闻`,maintainers:[`junbaor`,`yikZero`],url:`www.news.zjut.edu.cn`,handler:o,radar:[{source:[`www.news.zjut.edu.cn/:type/list.htm`]}],description:`| 图片新闻 | 工大要闻 | 综合新闻 | 学术・探索 | 三创・人物 | 智库工大 | 美誉工大 | 葵园融媒 |
| -------- | -------- | -------- | ---------- | ---------- | -------- | -------- | -------- |
| 5414     | 5415     | 5416     | 5422       | 5423       | 5424     | 5425     | 5419     |`};async function o(a){let o=a.req.param(`type`),s=await n(`${i}/${o}/list.htm`,{responseType:`buffer`}),c=r(s.data),l=c(`#l-container .news_list > li.news`).toArray().map(e=>{e=c(e);let n=e.find(`a`).text(),r=e.find(`a`).attr(`href`),i=e.find(`span[class='news_meta']`).text();return{title:n,description:``,pubDate:t(i),link:r}}),u=await Promise.all(l.map(t=>t.link.startsWith(`http`)?(t.description=`<a href="${t.link}" target="_blank" rel="noopener noreferrer">${t.link}</a>`,t):e.tryGet(`${i}${t.link}`,async()=>{let e=await n(`${i}${t.link}`),a=r(e.data);return t.link=`${i}${t.link}`,t.description=a(`div[class="wp_articlecontent"]`).html(),t})));return{title:`${c(`.col_title h2`).text()} - 浙江工业大学`,link:`${i}/${o}/list.htm`,item:u}}export{a as route};
//# sourceMappingURL=news-D8X1JT4S.js.map