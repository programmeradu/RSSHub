import"./esm-shims-Dqvxr0BZ.js";import"./config-Dl8a1sIg.js";import"./logger-CWOoofbD.js";import"./dist-IvUHtNe1.js";import"./helpers-DzX-lcQO.js";import{cache_default as e}from"./cache-kimkMTWJ.js";import{parseDate as t}from"./parse-date-Bgabdhlb.js";import"./ofetch-Bzt0BXUH.js";import{got_default as n}from"./got-CdvI2yKX.js";import{load as r}from"cheerio";const i={63:298519,958:244863,3966:244863},a=async a=>{let{category:o=`information_release/news_release_from_authorities/zjhfb`}=a.req.param(),s=a.req.query(`limit`)?Number.parseInt(a.req.query(`limit`),10):15,c=`https://www.investor.org.cn`,l=new URL(`was5/web/search`,c).href,u=new URL(o.endsWith(`/`)?o:`${o}/`,c).href,{data:d}=await n(u),f=r(d),p=[];if(f(`div.hotlist dd`).length===0){let e=d.match(/params.channelId='(\d+)';/)?.[1]??void 0,{data:{rows:r}}=await n.post(l,{form:{channelid:i?.[e]??void 0,searchword:`CHANNELID=${e}`,page:1,perpage:s}});p=r.map(e=>({title:e.DOCTITLE,pubDate:t(e.DOCPUBTIME),link:e.DOCURL,language:`zh`}))}else p=f(`div.hotlist dd`).slice(0,s).toArray().map(e=>{e=f(e);let n=e.find(`a`).prop(`href`);return{title:e.find(`a`).prop(`title`),pubDate:t(e.find(`span.date`).text()),link:new URL(n,u).href,language:`zh`}});p=await Promise.all(p.map(t=>e.tryGet(t.link,async()=>{if(!t.link.endsWith(`html`))return t;let{data:e}=await n(t.link),i=r(e),a=i(`div.contentText h2`).text(),o=i(`div.TRS_Editor`).html();return t.title=a||t.title,t.description=o,t.author=i(`span.timeSpan`).text().trim().split(/来源：/).pop(),t.content={html:o,text:i(`div.TRS_Editor`).text()},t.language=`zh`,t})));let m=f(`div.img_cursor a img`).prop(`src`);return{title:f(`title`).text(),description:f(`meta[name="apple-mobile-web-app-title"]`).prop(`content`),link:u,item:p,allowEmpty:!0,image:m,author:f(`meta[name="author"]`).prop(`content`),language:`zh`}},o={path:`/:category{.+}?`,name:`分类`,url:`investor.org.cn`,maintainers:[`nczitzk`],handler:a,example:`/investor/information_release/news_release_from_authorities/zjhfb`,parameters:{category:"分类，默认为证监会发布 `information_release/news_release_from_authorities/zjhfb`，可在对应分类页 URL 中找到"},description:`::: tip
  若订阅 [证监会发布](https://www.investor.org.cn/information_release/news_release_from_authorities/zjhfb/)，网址为 \`https://www.investor.org.cn/information_release/news_release_from_authorities/zjhfb/\`。截取 \`https://www.investor.org.cn/\` 到末尾 \`/\` 的部分 \`information_release/news_release_from_authorities/zjhfb\` 作为参数填入，此时路由为 [\`/investor/information_release/news_release_from_authorities/zjhfb\`](https://rsshub.app/investor/information_release/news_release_from_authorities/zjhfb)。
:::

#### [权威发布](https://www.investor.org.cn/information_release/news_release_from_authorities/)

| [证监会发布](https://www.investor.org.cn/information_release/news_release_from_authorities/zjhfb/)                                                                  | [证券交易所发布](https://www.investor.org.cn/information_release/news_release_from_authorities/hsjysfb/)                                                                | [期货交易所发布](https://www.investor.org.cn/information_release/news_release_from_authorities/qhjysfb/)                                                                | [行业协会发布](https://www.investor.org.cn/information_release/news_release_from_authorities/hyxhfb/)                                                                 | [其他](https://www.investor.org.cn/information_release/news_release_from_authorities/otner/)                                                                        |
| ------------------------------------------------------------------------------------------------------------------------------------------------------------------- | ----------------------------------------------------------------------------------------------------------------------------------------------------------------------- | ----------------------------------------------------------------------------------------------------------------------------------------------------------------------- | --------------------------------------------------------------------------------------------------------------------------------------------------------------------- | ------------------------------------------------------------------------------------------------------------------------------------------------------------------- |
| [/investor/information_release/news_release_from_authorities/zjhfb/](https://rsshub.app/investor/investor/information_release/news_release_from_authorities/zjhfb/) | [/investor/information_release/news_release_from_authorities/hsjysfb/](https://rsshub.app/investor/investor/information_release/news_release_from_authorities/hsjysfb/) | [/investor/information_release/news_release_from_authorities/qhjysfb/](https://rsshub.app/investor/investor/information_release/news_release_from_authorities/qhjysfb/) | [/investor/information_release/news_release_from_authorities/hyxhfb/](https://rsshub.app/investor/investor/information_release/news_release_from_authorities/hyxhfb/) | [/investor/information_release/news_release_from_authorities/otner/](https://rsshub.app/investor/investor/information_release/news_release_from_authorities/otner/) |

#### [市场资讯](https://www.investor.org.cn/information_release/market_news/)

| [市场资讯](https://www.investor.org.cn/information_release/market_news/)                                   |
| ---------------------------------------------------------------------------------------------------------- |
| [/investor/information_release/market_news/](https://rsshub.app/investor/information_release/market_news/) |

#### [政策解读](https://www.investor.org.cn/information_release/policy_interpretation/)

| [政策解读](https://www.investor.org.cn/information_release/policy_interpretation/)                                  |
| ------------------------------------------------------------------------------------------------------------------- |
| [/investorinformation_release/policy_interpretation/](https://rsshub.appinformation_release/policy_interpretation/) |

#### [国际交流](https://www.investor.org.cn/information_release/international_communication/)

| [国际交流](https://www.investor.org.cn/information_release/international_communication/)                                          |
| --------------------------------------------------------------------------------------------------------------------------------- |
| [/investor/information_release/international_communication/](https://rsshub.app/information_release/international_communication/) |
  `,categories:[`finance`],features:{requireConfig:!1,requirePuppeteer:!1,antiCrawler:!1,supportRadar:!0,supportBT:!1,supportPodcast:!1,supportScihub:!1},radar:[{source:[`investor.org.cn/:category`],target:e=>{let t=e.category;return`/investor${t?`/${t}`:``}`}},{title:`权威发布 - 证监会发布`,source:[`www.investor.org.cn/information_release/news_release_from_authorities/zjhfb/`],target:`/information_release/news_release_from_authorities/zjhfb/`},{title:`权威发布 - 证券交易所发布`,source:[`www.investor.org.cn/information_release/news_release_from_authorities/hsjysfb/`],target:`/information_release/news_release_from_authorities/hsjysfb/`},{title:`权威发布 - 期货交易所发布`,source:[`www.investor.org.cn/information_release/news_release_from_authorities/qhjysfb/`],target:`/information_release/news_release_from_authorities/qhjysfb/`},{title:`权威发布 - 行业协会发布`,source:[`www.investor.org.cn/information_release/news_release_from_authorities/hyxhfb/`],target:`/information_release/news_release_from_authorities/hyxhfb/`},{title:`权威发布 - 其他`,source:[`www.investor.org.cn/information_release/news_release_from_authorities/otner/`],target:`/information_release/news_release_from_authorities/otner/`},{title:`市场资讯`,source:[`www.investor.org.cn/information_release/market_news/`],target:`/information_release/market_news/`},{title:`政策解读`,source:[`www.investor.org.cn/information_release/policy_interpretation/`],target:`/information_release/policy_interpretation/`},{title:`国际交流`,source:[`www.investor.org.cn/information_release/international_communication/`],target:`/information_release/international_communication/`}]};export{a as handler,o as route};
//# sourceMappingURL=investor-DVWrYD2I.js.map